(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["operationalAnalysis "],{"014c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAABQUlEQVQ4T+2VvUrEQBDHZ3ZDxEY4Gyu7gFrYiy9gYesDmCIfBAvTeRZ2fnRWSXaTwrcQsbATQXwGC7GxEK4KStgdyUFkTfDIoTZyW87s/Jj5z8wuSikJfvHgXwOviEhorV8AYI5zvgMAe60CNjjnr1VVLVqWtaqUOkTEleaOmeFZEARDMzjLsl3G2IVpK8tyEMfxqLGlaTrgnN8CwFpta4DXQRBstaXsA6xjpJTrAPAAAPYYSESbYRjetYF5nntElE/KsPEJIc4Rcb8GXvq+v42InW4LIUJEzPoAi6JY0lrf4KSJmQb42ZQZ8IsCMw3HcrRXrz0l/3AObdued1337buFmLrknwKHiHhiZsMYW/Y877l3hkmSOJxzBxEdIjpGxAUzmIjuGWNHSql3InqKoujR9HdKllKeAsBBz3+r88p/AIi32XP7oF2NAAAAAElFTkSuQmCC"},"0400":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.ivu-drawer[data-v-131836fe]{top:0;margin:0;position:absolute;height:100%;right:0}.ivu-drawer .ivu-drawer-content[data-v-131836fe]{height:100%;overflow:auto}.ivu-drawer .approval-card .main-info[data-v-131836fe]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.ivu-drawer .approval-card .main-info[data-v-131836fe],.ivu-drawer .approval-card .main-info .left[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.ivu-drawer .approval-card .main-info .left .avatar[data-v-131836fe]{padding:0;padding-right:15px}.ivu-drawer .approval-card .main-info .left .avatar span[data-v-131836fe]{display:block;background:#4196ff;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;font-size:18px;color:#fff}.ivu-drawer .approval-card .main-info .left .name-number[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:6px}.ivu-drawer .approval-card .main-info .left .name-number .fullName[data-v-131836fe]{color:#606266;font-size:16px}.ivu-drawer .approval-card .main-info .left .name-number .schoolNumber[data-v-131836fe]{font-size:14px;color:#999}.ivu-drawer .approval-card .main-info .status[data-v-131836fe]{margin-top:50px;width:62px;height:25px;border-radius:4px;border:1px solid #f99b31;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#f99b31;font-size:14px}.ivu-drawer .approval-card .main-info>img[data-v-131836fe]{position:absolute;right:30px}.ivu-drawer .leave-list[data-v-131836fe]{font-size:14px}.ivu-drawer .leave-list .info-item[data-v-131836fe]{margin-top:10px}.ivu-drawer .leave-list .info-item .title[data-v-131836fe]{color:#999}.ivu-drawer .leave-list .info-item .title-strong[data-v-131836fe]{display:block;margin:20px 0;font-size:14px;font-weight:700;color:#333}.ivu-drawer .leave-list .info-item .content[data-v-131836fe]{margin-left:10px;color:#333}.ivu-drawer .img-wrap[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ivu-drawer .img-wrap img[data-v-131836fe]{width:40%;height:150px}.ivu-drawer .img-wrap img[data-v-131836fe]:nth-child(2n){margin-left:20px}.manager-part[data-v-131836fe]{padding:0 20px}.manager-part .approal-title[data-v-131836fe]{font-size:16px;font-weight:700}.manager-part .approval-group[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.manager-part .approval-group .ivu-radio-wrapper[data-v-131836fe]:after,.manager-part .approval-group .ivu-radio-wrapper[data-v-131836fe]:before{width:0}.manager-part .approval-group .ivu-radio-wrapper[data-v-131836fe]{padding:0;width:96px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:4px;font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box}.manager-part .approval-group .ivu-radio-wrapper[data-v-131836fe]:first-child{color:#5bbb7e;border-color:#5bbb7e}.manager-part .approval-group .ivu-radio-wrapper[data-v-131836fe]:last-child{color:#dc6e6e;margin-left:30px;border-color:#dc6e6e;border-left:1px solid}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-131836fe]:first-child{background:#5bbb7e;color:#fff}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-131836fe]:last-child{background:#e85555;color:#fff}.manager-part label[data-v-131836fe]{color:#999;font-size:14px}.user-part[data-v-131836fe]{padding-left:20px;font-size:14px}.user-part h4[data-v-131836fe]{color:#999}.ivu-drawer-footer[data-v-131836fe]{padding-left:40px;text-align:left}.flow-item[data-v-131836fe],.flow-wrapper[data-v-131836fe]{position:relative}.flow-item[data-v-131836fe]{margin:0;padding:0 0 12px}.flow-item-line[data-v-131836fe]{height:100%;border-left:2px solid #c6c6c6;position:absolute;left:18px;top:0}.flow-item-header[data-v-131836fe]{width:40px;height:40px;background-color:#4196ff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-content[data-v-131836fe]{min-height:60px;padding:1px 1px 10px 50px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-131836fe]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.flow-item:last-child .flow-item-line[data-v-131836fe]{display:none}.flow-avatar[data-v-131836fe]{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff}.flow-avatar-imgWrapper[data-v-131836fe]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-131836fe]{width:100%;min-height:100%}.flow-avatar--small[data-v-131836fe]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-131836fe]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-131836fe]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-131836fe]{width:100%}.flow-avatar>span[data-v-131836fe]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#666}.flow-content-btn--hideDetail[data-v-131836fe]{color:#4196ff;font-size:14px}.flow-content-btn--showDetail[data-v-131836fe]{color:#666;font-size:14px}.flow-content-body[data-v-131836fe]{min-height:1em}.flow-content-name[data-v-131836fe]{color:#161616}.flow-content-reason[data-v-131836fe]{color:#999}.flow-content-title[data-v-131836fe]{font-size:14px;color:#161616}.flow-content-time[data-v-131836fe]{color:#999;font-size:12px}.flow-detail-item[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-131836fe]{width:100%;margin-left:10px}.flow-detail-header[data-v-131836fe]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-131836fe],.flow-overview-list[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-131836fe]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-131836fe]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flow-icon-radio[data-v-131836fe]{display:inline-block;width:19px;height:15px;margin:12px;background:url(/image/radio-white.svg) no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-131836fe]{position:relative}.flow-status-icon[data-v-131836fe]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-131836fe]:after{background:url(/image/circle-check-green.svg) no-repeat}.flow-status-icon-processing[data-v-131836fe]:after{background:url(/image/circle-line-orange.svg) no-repeat}.flow-status-icon-reject[data-v-131836fe]:after{background:url(/image/circle-fork-red.svg) no-repeat}.flow-status-bgcolor[data-v-131836fe]{position:relative}.flow-status-bgcolor[data-v-131836fe]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-131836fe]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-131836fe]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-131836fe]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-131836fe]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-131836fe]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-131836fe]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-131836fe]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-131836fe]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-131836fe]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-131836fe]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-131836fe]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.detail[data-v-131836fe]{padding-bottom:15px}.detail[data-v-131836fe],.detail-top[data-v-131836fe]{position:relative}.detail-top>p[data-v-131836fe]{font-size:16px;color:#333;font-weight:700}.detail-top .person[data-v-131836fe],.detail-top>p[data-v-131836fe]{margin-bottom:20px}.detail-top .person .left[data-v-131836fe]{width:50px;height:50px;line-height:50px;text-align:center;border-radius:50%;background:#4196ff;font-size:18px;color:#fff;font-weight:700;display:inline-block}.detail-top .person>div[data-v-131836fe]{height:50px;color:#999;padding-left:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.detail-top .person>div .name[data-v-131836fe]{font-size:16px;color:#333;margin:2px 0}.detail-top .officeStatus[data-v-131836fe]{position:absolute;right:27px;top:22px;width:108px;height:110px}.detail-top .officeStatus img[data-v-131836fe]{width:100%;height:100%}.detail-con>div[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px}.detail-con>div>span[data-v-131836fe]{text-align:right;color:#999}.detail-con>div>div[data-v-131836fe]{-webkit-box-flex:0.9;-ms-flex:0.9;flex:0.9;max-width:80%}.detail-con>div>div .office-info[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:5px;height:21px}.detail-con>div>div .office-info span[data-v-131836fe]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:85%}.detail-con .ivu-btn-primary[data-v-131836fe]{width:55px;height:25px;position:absolute;right:15px}.bottom-btn[data-v-131836fe]{position:fixed;bottom:0;width:100%;height:40px;background:#fff;z-index:9999}.bottom-btn .ivu-btn-primary[data-v-131836fe]{width:96px;height:32px}.detail .proval-con[data-v-131836fe]{border:none;margin-bottom:10px}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header[data-v-131836fe]{padding:0;position:relative;background:#fff;border:none;color:#333;font-weight:700}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header>i[data-v-131836fe]{position:absolute;top:12px;right:-13px}.proval-con .ivu-collapse-simple[data-v-131836fe]{border:none}.proval-con .ivu-collapse-content[data-v-131836fe],.proval-con .ivu-collapse-content>.ivu-collapse-content-box[data-v-131836fe]{padding:0}.proval-con .proval-li[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;color:#666}.proval-con .proval-li .left[data-v-131836fe]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;display:inline-block;margin:5px 10px 0 0;position:relative}.proval-con .proval-li .left[data-v-131836fe]:after{content:"";width:2px;height:23px;position:absolute;top:32px;left:14px;background:#c6c6c6}.proval-con .proval-li:last-child .left[data-v-131836fe]:after{display:none}.proval-con .proval-li .left .status[data-v-131836fe]{width:16px;height:16px;bottom:-2px;right:-4px}.proval-con .proval-li .center[data-v-131836fe]{-webkit-box-flex:1;-ms-flex:1;flex:1}.proval-con .proval-li .center>div[data-v-131836fe]:first-child{color:#666}.proval-con .proval-li:first-child .center div[data-v-131836fe]:first-child{color:#161616}.proval-con .proval-li .center div[data-v-131836fe]:nth-child(2){color:#999}.copy ul[data-v-131836fe]{padding-top:8px}.copy li[data-v-131836fe],.copy ul[data-v-131836fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.copy li[data-v-131836fe]{width:45px;margin-right:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.copy li>div[data-v-131836fe]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;font-size:12px}.copy li>p[data-v-131836fe]{color:#666}.detail-approval[data-v-131836fe]{margin-top:25px}.detail-approval>span[data-v-131836fe]{color:#999}.detail-approval .approval[data-v-131836fe]{margin:13px 0 25px}.bottom-btn .ivu-btn.agree[data-v-131836fe]{color:#5bbb7e;border-color:#5bbb7e}.bottom-btn .ivu-btn.agree[data-v-131836fe]:hover{background-color:#5bbb7e;border-color:#5bbb7e;color:#fff}.bottom-btn .ivu-btn.refuse[data-v-131836fe]{color:#dc6e6e;border-color:#dc6e6e}.bottom-btn .ivu-btn.refuse[data-v-131836fe]:hover{background-color:#dc6e6e;border-color:#dc6e6e;color:#fff}',""]),t.exports=e},"0bc2":function(t,e,a){var i=a("2e67");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("54c0faae",i,!0,{sourceMap:!1,shadowMode:!1})},"0c29":function(t,e,a){t.exports=a.p+"img/adopt.db966d6b.png"},"0f23":function(t,e,a){var i=a("320c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("b4740ebe",i,!0,{sourceMap:!1,shadowMode:!1})},1049:function(t,e,a){var i=a("c5764");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("549f06e9",i,!0,{sourceMap:!1,shadowMode:!1})},1292:function(t,e,a){var i=a("6d95");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("0b6958a0",i,!0,{sourceMap:!1,shadowMode:!1})},1405:function(t,e,a){"use strict";(function(t){a("b4fb"),a("4194"),a("ecb4"),a("9302"),a("2eeb"),a("1784"),a("ea69"),a("6db4");var i=a("5412"),o=a.n(i),s=(a("b449"),a("cf7f")),n=a("e7f2");e["a"]={components:{ImportFile:n["a"]},data:function(){return{upUrl:"",httpPath:"http://qa.api.oa.xiaoyangedu.net:37200",clientWidth:1600,addPublic:!1,isLoadingShow:!1,casaderIsAll:!1,loading:!0,searchName:"",newList:[],transferData:[],checkAllList:[],checkAllGroup:[],isShowSelectAll:!0,selectState:"",apiPath:"".concat(this.$store.state.apiPath,"/api/MailInfo/"),modal_loading:!1,thisRows:{},createTutor:!1,teacherNames:[],studentNames:[],messageCenter:!0,Type:"",isdis:!1,previewCont:[],selectStateType:["3"],createDataOK:{type:["1","2"],title:"",theme:""},ruleCreateDataOK:{type:[{required:!0,type:"array",min:1,message:"此项为必填",trigger:"change"}],title:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:50,message:"消息标题不能超过50个字",trigger:"blur"}],theme:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:100,message:"内容摘要不能超过100个字",trigger:"blur"}]},modalCreate:!1,formValidateOK:{cont:""},ruleValidateOK:{cont:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:2e3,message:"所输内容不能超过2000个字",trigger:"blur"}]},editVal:"",modalEdit:!1,formValidateEditOK:{cont:""},ruleValidateEditOK:{cont:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:2e3,message:"所输内容不能超过2000个字",trigger:"blur"}]},insertVal:"",modalInsertUp:!1,formValidateUpOK:{cont:""},ruleValidateUpOK:{cont:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:2e3,message:"所输内容不能超过2000个字",trigger:"blur"}]},modalInsertDown:!1,formValidateDownOK:{cont:""},ruleValidateDownOK:{cont:[{required:!0,message:"此项为必填",trigger:"blur"},{type:"string",max:2e3,message:"所输内容不能超过2000个字",trigger:"blur"}]},sumCont:0,sumNumber:5,isWeChat:!1,modalImport:!1,modalUpImport:!1,modalDownImport:!1,insertImgVal:"",insertImgType:"",isShowSpin:!1,importPath:"".concat(this.$store.state.apiPath,"/api/Resource/UploadPhoto"),importResult:{},typeBtn:!0,file:null,fileName:"",UploadList:[],orgID:0,isBtnLoading:!1,schoolDistrictID:0,studentGradeID:0,studentGradeForStudentYearID:0,studentOrganizationID:0}},computed:{params:function(){return this.$store.state.common.menuInfo}},created:function(){this.Type=this.params.Type,this.getWeChat()},mounted:function(){this.$Message.config({top:70,duration:2}),t(".group-users-checkmark").off("span i"),t(".group-users-checkmark").on("click","span i",(function(){t(".group-level3").find('input:checked[data-id="'+t(this).parent("span").attr("data-id")+'"]').prop("checked",!1),t(".group-level3").find('input[data-id="'+t(this).parent("span").attr("data-id")+'"]').parents("ul.group-level3").siblings("div.checkmark-checkbox-all").find("input").prop("checked",!1),t(this).parent().remove()}))},methods:{changeLoading:function(){this.loading=!1,this.$nextTick((function(){this.loading=!0}))},openAddModal:function(t){var e=this;return Object(s["a"])(o.a.mark((function a(){var i,s,n,r,l,c,d,p,f,u;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.xy.loading(),e.addPublic=!0,e.isLoadingShow=!0,e.newList=[],e.transferData=[],e.checkAllList=[],i=e,i.selectState=t,1!==i.selectState){a.next=17;break}return i.checkAllList=i.teacherNames,a.next=12,e.xy.get("".concat(e.xyApi,"/xy/Comm/GetNodeList"),{id:0,type:""});case 12:if(s=a.sent,s.success){for(n=s.data,r=0;r<n.length;r++)i.newList.push({title:n[r].label,loading:!1,children:[],id:n[r].value,nodetype:n[r].nodetype});e.xy.unloading()}else e.xy.unloading();a.next=23;break;case 17:return i.checkAllList=i.studentNames,a.next=20,e.xy.get("".concat(e.xyApi,"/xy/Comm/StudentOrganization"),{id:0,type:""});case 20:if(l=a.sent,l.success){for(c=l.data,d=0;d<c.length;d++)if(i.newList.push({id:c[d].ID,title:c[d].Name,nodetype:c[d].Type,loading:!1,children:[]}),c[d].MemberList.length>0)for(p=0;p<c[d].MemberList.length;p++)if(i.newList[d].children.push({id:c[d].MemberList[p].ID,title:c[d].MemberList[p].Name,nodetype:c[d].MemberList[p].Type,loading:!1,children:[]}),c[d].MemberList[p].MemberList.length>0)for(f=0;f<c[d].MemberList[p].MemberList.length;f++)if(i.newList[d].children[p].children.push({id:c[d].MemberList[p].MemberList[f].ID,title:c[d].MemberList[p].MemberList[f].Name,nodetype:c[d].MemberList[p].MemberList[f].Type,loading:!1,children:[]}),c[d].MemberList[p].MemberList[f].MemberList.length>0)for(u=0;u<c[d].MemberList[p].MemberList[f].MemberList.length;u++)i.newList[d].children[p].children[f].children.push({id:c[d].MemberList[p].MemberList[f].MemberList[u].ID,title:c[d].MemberList[p].MemberList[f].MemberList[u].Name,nodetype:c[d].MemberList[p].MemberList[f].MemberList[u].Type});e.xy.unloading()}else e.xy.unloading();case 23:i.isLoadingShow=!1;case 24:case"end":return a.stop()}}),a)})))()},newLoadData:function(e,a){var i=this;return Object(s["a"])(o.a.mark((function s(){var n,r,l;return o.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(i.isLoadingShow=!0,n=i,1!==n.selectState){o.next=12;break}return o.next=5,i.xy.get("".concat(i.$store.state.apiPath,"/xy/Comm/GetNodeList"),{id:e.id,type:e.nodetype});case 5:r=o.sent,l=[],r.data.length>0&&t.each(r.data,(function(t,a){a.ischild?l.push({parentId:e.id,parentTitle:e.title,parentNodetype:e.nodetype,id:a.value,title:a.label,loading:!1,nodetype:a.nodetype,children:[]}):l.push({parentId:e.id,parentTitle:e.title,parentNodetype:e.nodetype,id:a.value,title:a.label,nodetype:a.nodetype})})),a(l),o.next=13;break;case 12:i.xy.unloading();case 13:n.isLoadingShow=!1;case 14:case"end":return o.stop()}}),s)})))()},treeSelect:function(t){var e=this;return Object(s["a"])(o.a.mark((function a(){var i,s,n,r,l,c,d,p,f,u,m,h,v,x,b,g,w,y,k,C;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e,!(t.length>0)){a.next=28;break}if(i.isLoadingShow=!0,1!==i.selectState){a.next=26;break}if("S"===t[0].nodetype){a.next=16;break}if(s=[],i.teacherNames.length>0)for(n=0;n<i.teacherNames.length;n++)s.push(i.teacherNames[n].UserID);return a.next=10,e.xy.get("".concat(e.$store.state.apiPath,"/xy/Comm/GetNodeListHasmember"),{orgID:t[0].id,teacherIDs:"",type:t[0].nodetype});case 10:if(r=a.sent,i.transferData=[],r.success){if(r.data.length>0){for(l=0;l<r.data.length;l++)if(r.data[l].checkAll=!1,r.data[l].checkAllGroup=[],r.data[l].memberlist.length>0){for(c=0;c<r.data[l].memberlist.length;c++)r.data[l].memberlist[c].singleCheck=!1,r.data[l].childNameStr+=r.data[l].memberlist[c].FullName+","+r.data[l].memberlist[c].UserName+",";i.transferData.push(r.data[l]),console.log(i.transferData),i.isLoadingShow=!1}if(i.isLoadingShow=!1,i.checkAllList.length>0)for(d=0;d<i.transferData.length;d++){for(p=0;p<i.transferData[d].memberlist.length;p++)f=i.checkAllList.map((function(t){return t.UserID})).indexOf(i.transferData[d].memberlist[p].UserID),-1!==f&&(i.transferData[d].memberlist[p].singleCheck=!0);u=i.transferData[d].memberlist.map((function(t){return t.singleCheck})).indexOf(!0),-1===u?i.transferData[d].checkAll=!1:(m=i.transferData[d].memberlist.map((function(t){return t.singleCheck})).indexOf(!1),i.transferData[d].checkAll=-1===m)}}}else e.xy.unloading();a.next=23;break;case 16:return i.isLoadingShow=!0,i.transferData=[],a.next=20,e.xy.get("".concat(e.xyApi,"/xy/Comm/GetOrganizationMember"),{orgID:i.orgID,schoolID:t[0].id});case 20:if(h=a.sent,h.success){if(h.data.length>0){for(v=h.data,x=0;x<v.length;x++)for(v[x].IsCurrent=!1,v[x].ischild=!1,v[x].loading=!1,v[x].checkAll=!1,v[x].label=v[x].Name,v[x].memberlist=v[x].Members,v[x].value=v[x].OrganizationID,b=0;b<v[x].memberlist.length;b++)v[x].memberlist[b].FullName=v[x].memberlist[b].Name,v[x].memberlist[b].UserID=v[x].memberlist[b].ID,v[x].memberlist[b].singleCheck=!1;i.transferData=v,i.isLoadingShow=!1}if(i.checkAllList.length>0)for(g=0;g<i.transferData.length;g++){for(w=0;w<i.transferData[g].memberlist.length;w++)y=i.checkAllList.map((function(t){return t.UserID})).indexOf(i.transferData[g].memberlist[w].UserID),-1!==y&&(i.transferData[g].memberlist[w].singleCheck=!0);k=i.transferData[g].memberlist.map((function(t){return t.singleCheck})).indexOf(!0),-1===k?i.transferData[g].checkAll=!1:(C=i.transferData[g].memberlist.map((function(t){return t.singleCheck})).indexOf(!1),i.transferData[g].checkAll=-1===C)}}else e.xy.unloading();case 23:a.next=28;break;case 26:"S"!==t[0].nodetype?"SD"===t[0].nodetype?i.selectStudent(t[0].id,i.studentGradeID,i.studentGradeForStudentYearID,i.studentOrganizationID):"SY"===t[0].nodetype?i.selectStudent(i.schoolDistrictID,t[0].id,i.studentGradeForStudentYearID,i.studentOrganizationID):"SG"===t[0].nodetype?i.selectStudent(i.schoolDistrictID,i.studentGradeID,t[0].id,i.studentOrganizationID):"SO"===t[0].nodetype&&i.selectStudent(i.schoolDistrictID,i.studentGradeID,i.studentGradeForStudentYearID,t[0].id):i.isLoadingShow=!1;case 28:case 29:case"end":return a.stop()}}),a)})))()},selectStudent:function(t,e,a,i){var n=this;return Object(s["a"])(o.a.mark((function s(){var r,l,c,d,p,f,u,m,h,v;return o.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=n,o.next=3,n.xy.get("".concat(n.xyApi,"/xy/comm/GetStudentorganizationMemberByID"),{schoolDistrictID:t,studentGradeID:e,studentGradeForStudentYearID:a,studentOrganizationID:i});case 3:if(l=o.sent,r.transferData=[],l.success)if(c=l.data,c.length>0){for(d=0;d<c.length;d++){for(c[d].label=c[d].Name,c[d].checkAll=!1,c[d].checkAllGroup=[],p=0;p<c[d].Children.length;p++)c[d].Children[p].singleCheck=!1,c[d].childNameStr+=c[d].Children[p].FullName+","+c[d].Children[p].UserName+",",c[d].Children[p].FullName=l.data[d].Children[p].FullName,c[d].Children[p].UserID=l.data[d].Children[p].UserID;c[d].memberlist=c[d].Children,r.transferData.push(c[d]),r.isLoadingShow=!1}if(r.checkAllList.length>0)for(f=0;f<r.transferData.length;f++){for(u=0;u<r.transferData[f].memberlist.length;u++)m=r.checkAllList.map((function(t){return t.UserID})).indexOf(r.transferData[f].memberlist[u].UserID),-1!==m&&(r.transferData[f].memberlist[u].singleCheck=!0);h=r.transferData[f].memberlist.map((function(t){return t.singleCheck})).indexOf(!0),-1===h?r.transferData[f].checkAll=!1:(v=r.transferData[f].memberlist.map((function(t){return t.singleCheck})).indexOf(!1),r.transferData[f].checkAll=-1===v)}}else r.isLoadingShow=!1;else r.isLoadingShow=!1,n.xy.msgError(l.msg),n.xy.unloading();case 7:case"end":return o.stop()}}),s)})))()},checkAllBtn:function(){if(this.casaderIsAll){for(var t=0;t<this.transferData.length;t++){this.transferData[t].checkAll=!0;for(var e=0;e<this.transferData[t].memberlist.length;e++)this.transferData[t].memberlist[e].singleCheck=!0,this.checkAllList.push(this.transferData[t].memberlist[e])}var a={};this.checkAllList=this.checkAllList.reduce((function(t,e){return!a[e.UserID]&&(a[e.UserID]=t.push(e)),t}),[])}else{for(var i=0;i<this.transferData.length;i++){this.transferData[i].checkAll=!1;for(var o=0;o<this.transferData[i].memberlist.length;o++)this.transferData[i].memberlist[o].singleCheck=!1}this.checkAllList=[]}},handleCheckAll:function(t){if(t.checkAll){t.memberlist.map((function(t){return t.singleCheck=!0}));for(var e=0;e<this.transferData.length;e++){for(var a=0;a<this.transferData[e].memberlist.length;a++){for(var i=0;i<t.memberlist.length;i++)this.selectState,this.transferData[e].memberlist[a].UserID===t.memberlist[i].UserID&&(this.transferData[e].memberlist[a].singleCheck=!0);this.transferData[e].memberlist[a].singleCheck&&this.checkAllList.push(this.transferData[e].memberlist[a])}var o=this.transferData[e].memberlist.map((function(t){return t.singleCheck})).indexOf(!1);-1===o?(this.transferData[e].checkAll=!0,this.casaderIsAll=!0):(this.transferData[e].checkAll=!1,this.casaderIsAll=!1)}var s={};this.checkAllList=this.checkAllList.reduce((function(t,e){return!s[e.UserID]&&(s[e.UserID]=t.push(e)),t}),[])}else for(var n=0;n<this.transferData.length;n++){for(var r=0;r<this.transferData[n].memberlist.length;r++){var l=t.memberlist.map((function(t){return t.UserID})).indexOf(this.transferData[n].memberlist[r].UserID);-1!==l&&(this.transferData[n].memberlist[r].singleCheck=!1)}for(var c=0;c<t.memberlist.length;c++){var d=this.checkAllList.map((function(t){return t.UserID})).indexOf(t.memberlist[c].UserID);-1!==d&&this.checkAllList.splice(d,1)}var p=this.transferData[n].memberlist.map((function(t){return t.singleCheck})).indexOf(!0);if(-1===p)this.transferData[n].checkAll=!1,this.casaderIsAll=!1;else{var f=this.transferData[n].memberlist.map((function(t){return t.singleCheck})).indexOf(!1);-1===f?(this.transferData[n].checkAll=!0,this.casaderIsAll=!0):(this.transferData[n].checkAll=!1,this.casaderIsAll=!1)}}},checkAllChange:function(t){if(t.singleCheck){this.checkAllList.push(t);for(var e=0;e<this.transferData.length;e++){var a=this.transferData[e].memberlist.map((function(t){return t.UserID})).indexOf(t.UserID);-1!==a&&(this.transferData[e].memberlist[a].singleCheck=!0);var i=this.transferData[e].memberlist.map((function(t){return t.singleCheck})).indexOf(!1);-1===i&&(this.transferData[e].checkAll=!0)}}else{var o=this.checkAllList.map((function(t){return t.UserID})).indexOf(t.UserID);this.checkAllList.splice(o,1);for(var s=0;s<this.transferData.length;s++){var n=this.transferData[s].memberlist.map((function(t){return t.UserID})).indexOf(t.UserID);-1!==n&&(this.transferData[s].memberlist[n].singleCheck=!1);var r=this.transferData[s].memberlist.map((function(t){return t.singleCheck})).indexOf(!0);if(-1===r)this.transferData[s].checkAll=!1,this.casaderIsAll=!1;else{var l=this.transferData[s].memberlist.map((function(t){return t.singleCheck})).indexOf(!1);-1===l?(this.transferData[s].checkAll=!0,this.casaderIsAll=!0):(this.transferData[s].checkAll=!1,this.casaderIsAll=!1)}}}console.log(this.checkAllList),console.log(this.teacherNames),console.log(this.studentNames)},searchNameFun:function(t){this.searchName=t,this.isShowSelectAll=""===t},handleClose:function(t,e){for(var a=0;a<this.checkAllList.length;a++)this.checkAllList[a].UserID===e.UserID&&this.checkAllList.splice(a,1);for(var i=0;i<this.transferData.length;i++){var o=this.transferData[i].memberlist.map((function(t){return t.UserID})).indexOf(e.UserID);-1!==o&&(this.transferData[i].memberlist[o].singleCheck=!1);var s=this.transferData[i].memberlist.map((function(t){return t.singleCheck})).indexOf(!0);if(-1===s)this.transferData[i].checkAll=!1;else{var n=this.transferData[i].memberlist.map((function(t){return t.singleCheck})).indexOf(!1);this.transferData[i].checkAll=-1===n}}},modalCancel:function(){this.checkAllGroup=[],this.selectStateType=["3"],this.addPublic=!1,this.checkAllList=[],this.newList=[],this.transferData=[],this.casaderIsAll=!1,this.searchName=""},modalAdd:function(){if(this.checkAllList.length>0){if(1===this.selectState)this.teacherNames=this.checkAllList;else{if(!(this.selectStateType.length>0))return this.xy.msgError("请选择发送给学生还是家长"),void this.changeLoading();this.studentNames=this.checkAllList}this.addPublic=!1,this.newList=[],this.transferData=[],this.checkAllGroup=[],this.checkAllList=[],this.casaderIsAll=!1,this.searchName="",console.log(this.teacherNames),console.log(this.studentNames)}else this.xy.msgError("请先选择收件人"),this.changeLoading()},delPerson:function(t){this.teacherNames.splice(t,1)},getWeChat:function(){var t=this;return Object(s["a"])(o.a.mark((function e(){var a,i,s;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),a=t,e.next=4,t.xy.get("".concat(t.xyApi,"/api/WeChat/GetAll"));case 4:if(i=e.sent,!i.success){e.next=12;break}s="",s=i.data,null!==s&&""!==s.WeChatAppID&&null!==s.WeChatAppID||(a.isWeChat=!0),t.xy.unloading(),e.next=15;break;case 12:return t.xy.unloading(),t.xy.msgError("获取微信状态失败！"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))()},textBtn:function(){this.modalCreate=!0},ok:function(e){var a=this;1===e?this.$refs.formValidateOK.validate((function(e){if(!e)return a.changeLoading();var i={Type:1,Content:t.trim(a.formValidateOK.cont),Sort:""};a.previewCont.push(i),a.sort(),a.modalCreate=!1,a.$refs.formValidateOK.resetFields()})):2===e?this.$refs.formValidateEditOK.validate((function(t){if(!t)return a.changeLoading();for(var e=0;e<a.previewCont.length;e++)a.editVal.Sort===a.previewCont[e].Sort&&(a.previewCont[e].Content=a.formValidateEditOK.cont,a.editVal.Type=a.previewCont[e].Type);a.sort(),a.modalEdit=!1,a.$refs.formValidateEditOK.resetFields()})):3===e?this.$refs.formValidateUpOK.validate((function(e){if(!e)return a.changeLoading();for(var i="",o={},s=0;s<a.previewCont.length;s++)a.insertVal.Sort===a.previewCont[s].Sort&&(i=s,o={Type:1,Content:t.trim(a.formValidateUpOK.cont),Sort:""});a.previewCont.splice(i,0,o),a.sort(),a.modalInsertUp=!1,a.$refs.formValidateUpOK.resetFields()})):4===e&&this.$refs.formValidateDownOK.validate((function(e){if(!e)return a.changeLoading();for(var i="",o={},s=0;s<a.previewCont.length;s++)a.insertVal.Sort===a.previewCont[s].Sort&&(i=s,o={Type:1,Content:t.trim(a.formValidateDownOK.cont),Sort:""});a.previewCont.splice(i+1,0,o),a.sort(),a.modalInsertDown=!1,a.$refs.formValidateDownOK.resetFields()}))},cancel:function(t){1===t?(this.modalCreate=!1,this.$refs.formValidateOK.resetFields()):2===t?(this.modalEdit=!1,this.$refs.formValidateEditOK.resetFields()):3===t?(this.modalInsertUp=!1,this.$refs.formValidateUpOK.resetFields()):4===t&&(this.modalInsertDown=!1,this.$refs.formValidateDownOK.resetFields())},insertTextUp:function(t){this.modalInsertUp=!0,this.insertVal=t},insertTextDown:function(t){this.modalInsertDown=!0,this.insertVal=t},imgBtn:function(){this.isdis?this.xy.msgError("最多只能上传5张图片"):(this.modalImport=!0,this.insertImgVal="",this.insertImgType=1,this.UpVideoClick())},insertImg:function(t,e){var a=this;a.modalImport=!0,a.insertImgVal=t,a.insertImgType=e,a.UpVideoClick()},UpVideoClick:function(){this.upUrl="".concat(this.httpPath,"/api/OAMessage/UploadContentPicture")},UpPhotoOk:function(){var t=this;if(1===t.insertImgType){var e={Type:2,Content:this.$refs.upImg.importResult.result,Sort:""};if(void 0===this.$refs.upImg.importResult.result)return this.xy.msgError("请上传图片"),!1;t.previewCont.push(e),t.sort(),t.UploadList=[],t.modalImport=!1}else if(2===t.insertImgType){for(var a="",i={},o=0;o<t.previewCont.length;o++)t.insertImgVal.Sort===t.previewCont[o].Sort&&(a=o,i={Type:2,Content:this.$refs.upImg.importResult.result,Sort:""});if(void 0===this.$refs.upImg.importResult.result)return this.xy.msgError("请上传图片"),!1;t.previewCont.splice(a,0,i),t.sort(),t.UploadList=[],t.modalImport=!1}else if(3===t.insertImgType){for(var s="",n={},r=0;r<t.previewCont.length;r++)t.insertImgVal.Sort===t.previewCont[r].Sort&&(s=r,n={Type:2,Content:this.$refs.upImg.importResult.result,Sort:""});if(void 0===this.$refs.upImg.importResult.result)return this.xy.msgError("请上传图片"),!1;t.previewCont.splice(s+1,0,n),t.sort(),t.UploadList=[],t.modalImport=!1}},UpPhotoCancel:function(){this.UploadList=[],this.modalImport=!1},edit:function(t){1===t.Type?(this.modalEdit=!0,this.formValidateEditOK.cont=t.Content,this.editVal=t):this.imgBtn()},del:function(t){for(var e=this,a=0;a<e.previewCont.length;a++)t.Sort===e.previewCont[a].Sort&&e.previewCont.splice(a,1);this.sort()},sort:function(){for(var t=[],e=0;e<this.previewCont.length;e++)this.previewCont[e].Sort=e+1,2===this.previewCont[e].Type&&t.push(this.previewCont[e]);t.length>4?this.isdis=!0:this.isdis=!1,console.log(this.previewCont)},createMail:function(){var e=this,a=this,i="";i=2===a.createDataOK.type.length?"3":a.createDataOK.type.join();var o="";if(a.previewCont.length>0)for(var s=0;s<a.previewCont.length;s++)1===a.previewCont[s].Type&&(o+=a.previewCont[s].Content);if(o.length>2e3)this.xy.msgError("内容字数不能超过2000！");else{var n=[];a.teacherNames.length>0&&n.push("2"),a.studentNames.length>0&&a.selectStateType.length>0&&(n=n.concat(a.selectStateType));var r=[],l=[],c=[],d=[];if(a.teacherNames.length>0)for(var p=0;p<a.teacherNames.length;p++)l.push({UserRole:"2",UserID:a.teacherNames[p].UserID});if(a.selectStateType.length>0&&a.studentNames.length>0){console.log(a.studentNames);for(var f=0;f<a.studentNames.length;f++)c.push({UserRole:a.selectStateType[0],UserID:a.studentNames[f].UserID});if(2===a.selectStateType.length)for(var u=0;u<a.studentNames.length;u++)d.push({UserRole:a.selectStateType[1],UserID:a.studentNames[u].UserID})}r=l.concat(c),r=r.concat(d),this.$refs.createDataOK.validate((function(o){if(!o)return a.isBtnLoading=!1,a.changeLoading();a.isBtnLoading=!0,e.xy.loading(),e.xy.post("".concat(e.httpPath,"/api/OAMessage/Create"),{MessageTitle:t.trim(a.createDataOK.title),MessageDescribe:t.trim(a.createDataOK.theme),MessageSendOut:i,ReceiverRoles:n,MessageReceive:r,MessageContent:a.previewCont},!0).then((function(t){e.xy.unloading(),t.success?(e.xy.msgSuc("发送成功！"),e.$router.push({path:"/xyHome/oaMailTable",query:e.$store.state.common.menuInfo}),e.$store.commit("common/getParam",{type:"F"}),a.isBtnLoading=!1):(e.xy.mError("发送失败",t.msg),a.isBtnLoading=!1)}))}))}},back:function(){var t=this;this.$Modal.confirm({title:"取消",content:"<p>您是否确定放弃本次编辑？</p>",onOk:function(){t.$store.commit("common/getParam",{Type:t.Type}),t.$router.push({path:"/xyHome/oaMailTable",query:t.$store.state.common.menuInfo})}})}}}}).call(this,a("a336"))},"18f1":function(t,e,a){"use strict";var i=a("86d3"),o=a.n(i);o.a},"1bb0":function(t,e,a){var i=a("3ff2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("2023a3ff",i,!0,{sourceMap:!1,shadowMode:!1})},"1c00":function(t,e,a){var i=a("cc3c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("603ab192",i,!0,{sourceMap:!1,shadowMode:!1})},"1d12":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-title clearfix"},[a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"mr-15"},[a("span",[t._v("状态：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.typeValueSearch},model:{value:t.approvalStatus,callback:function(e){t.approvalStatus=e},expression:"approvalStatus"}},t._l(t.approvalValue,(function(e){return a("i-option",{key:e.approvalID,attrs:{value:e.approvalID}},[t._v(t._s(e.approvalName))])})),1)],1),a("div",[a("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"250px"},attrs:{search:"",placeholder:"请输入申请人/主题"},on:{"on-search":t.FromSubmit},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.data,nullData:t.nullData,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:"max-content"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"Icon",fn:function(e,i){return a("div",{},[i.Icon?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:t.xyApi+"/base"+i.Icon+"?"+15*Math.random()}}):a("div",{class:"head-con "+("男"===i.Sex?"man":"woman")},[a("span",{staticClass:"head-font"},[t._v(" "+t._s(t.xy.showName(i.FullName))+" ")])])])}},{key:"FullName",fn:function(e,i){return a("div",{},[a("span",[t._v(" "+t._s(i.FullName)+" ")])])}},{key:"OfficialDocTheme",fn:function(e,i){return a("div",{},[a("span",{staticClass:"table-el-hover",on:{click:function(e){return t.viewDetail(i)}}},[t._v(" 主题："+t._s(i.OfficialDocTheme)+"， 公文种类："+t._s(i.OfficialDocTypeName)+" ")])])}},{key:"StatusDescible",fn:function(e,i){return a("span",{},[0===i.Status?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),1===i.Status?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),2===i.Status?a("span",[a("i",{staticClass:"iconfont icon-success"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),3===i.Status?a("span",[a("i",{staticClass:"iconfont icon-error"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),4===i.Status?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.viewDetail(i)}}},[t._v("详情")])])}}])},[a("div",{attrs:{slot:"type"},slot:"type"},[a("span",[t._v(" 公文审批 ")])])])],1),a("Drawer",{attrs:{width:"560",transfer:!1,"mask-closable":!1},model:{value:t.mInfo,callback:function(e){t.mInfo=e},expression:"mInfo"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[t._v(t._s(t.row.FullName)+"提交的公文")])]),a("div",{staticClass:"drawer"},[t.mInfo?a("div",{attrs:{id:"DrawerDetails"}},[a("DetailLooks",{attrs:{type:t.type,MessageModel:t.row,mInfo:t.mInfo},on:{loadTable:t.loadTable}})],1):t._e()])])],1)},o=[],s=a("5412"),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("eb31"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"DrawerDetails"}},[i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-top"},[i("div",{staticClass:"person clearfix"},[""===t.detail.Icon?i("span",{staticClass:"left fl"},[t._v(t._s(t.xy.showName(t.detail.FullName)))]):i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",float:"left"},attrs:{src:t.imgUrl+t.detail.Icon,alt:""}}),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.detail.FullName))]),i("div",{},[t._v(t._s(t.detail.StatusDescible))])])]),i("div",{staticClass:"officeStatus"},[2===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("0c29")}}):3===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("b1c2")}}):4===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("9810")}}):t._e()])]),i("div",{staticClass:"detail-con"},[i("div",[i("span",[t._v("主题：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTheme))])]),i("div",[i("span",[t._v("公文标题：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTitle))])]),i("div",[i("span",[t._v("公文种类：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTypeName))])]),i("div",[i("span",[t._v("秘密等级：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocSecretLevelName))])]),i("div",[i("span",[t._v("紧急程度：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocEmergencyLevelName))])]),i("div",[i("span",[t._v("发文机关：")]),i("div",{},[t._v(t._s(t.detail.FromOffice))])]),i("div",[i("span",[t._v("发文字号：")]),i("div",{},[t._v(t._s(t.detail.IssueNumber))])]),i("div",[i("span",[t._v("发文内容：")]),i("div",t._l(t.detail.List,(function(e,a){return i("div",{key:a,staticClass:"office-info"},[i("span",{staticClass:"nowrap"},[t._v(t._s(e.FileName))]),i("i-button",{attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return t.downLoad(e)}}},[t._v("下载")])],1)})),0)]),i("div",[i("span",[t._v("附注：")]),i("div",{},[t._v(t._s(t.detail.Remark))])]),t.detail.IsArchive?i("div",[i("span",[t._v("归档日期：")]),i("div",{},[t._v(t._s(this.xy.moment(t.detail.LastModifyByDate).format("YYYY-MM-DD HH:mm:ss")))])]):t._e()]),i("WorkflowApproval",{attrs:{workflow:t.workflow}}),i("div",{staticClass:"bottom-btn"},[2!=t.detail.Status||t.detail.IsArchive?t._e():i("Button",{staticClass:"xy-btn-primary",staticStyle:{"margin-right":"30px"},attrs:{shape:"circle",loading:t.isShowSpin},on:{click:function(e){return t.fileFun()}}},[t._v(" 归档 ")]),t.detail.IsArchive?i("Button",{staticClass:"xy-btn-primary",staticStyle:{"margin-right":"30px"},attrs:{shape:"circle",loading:t.isShowSpin},on:{click:function(e){return t.destructionFun()}}},[t._v(" 销毁 ")]):t._e()],1)],1)])},d=[],p=(a("b4fb"),a("fe59"),a("77ad"),a("e35a"),a("0d7a"),a("08ba"),a("49f7")),f={components:{WorkflowApproval:p["a"]},props:["type","MessageModel"],data:function(){return{imgUrl:this.xyApi+"/base",workflow:[],isShowSpin:!1,params:"",officeId:"",approvalFlowId:"",detail:{},approvalData:{ApprovalFlowNodeID:void 0},info:"",ServiceDoMainName:this.xy.subMenuServiceUrl,WebDoMainName:this.xy.subMenuWebUrl,mInfo:!1}},created:function(){this.mInfo=!0;var t=this;0===t.type?(t.info=t.MessageModel,console.log(t.info),t.ServiceDoMainName=t.info.ServiceDoMainName,t.WebDoMainName=t.info.WebDoMainName,t.officeId=t.info.BusinessID,t.getDetail()):(t.ServiceDoMainName=this.xy.subMenuServiceUrl,t.WebDoMainName=this.xy.WebDoMainName,t.getRows())},mounted:function(){},methods:{getRows:function(){var t=this;t.params=t.MessageModel,t.officeId=t.params.OfficialDocID,t.approvalFlowId=t.params.ApprovalFlowID,t.getDetail()},getDetail:function(){var t=this;this.xy.loading();var e=this,a={ID:e.officeId};e.xy.get("".concat(e.$store.state.apiPath,"/api/OfficialDocument/GetByID"),a).then((function(a){if(e.xy.unloading(),a.success){var i=a.data;t.workflow=i.ApprovalFlow;var o=0;i.currentAuditNodeIndex=-1,i.ApprovalFlow.forEach((function(t,a){console.log(t),t.isOverviewMode=!0,t.overviewList=[],t.isFinished=!1,t.currentAuditNode=!1,t.lastComplete_time=void 0,t.lastComplete_status=void 0,t.IsComplete?(o=a,t.isFinished=!0):"已拒绝"===t.Status?t.isFinished=!0:"待审批"===t.Status&&o+1===a&&(t.currentAuditNode=!0,i.currentAuditNodeIndex=a);var s="";t.ApprovalMemberList.forEach((function(a,i){if((i<4||5===t.ApprovalMemberList.length)&&t.overviewList.push(a),t.isFinished&&"待审批"!==a.Status)if("或签"===t.ApprovalFlowNodeName)t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status;else if("会签"===t.ApprovalFlowNodeName)if(void 0===s)s=a.ApprovalDate;else{var o=new Date(s),n=new Date(a.ApprovalDate);n>o&&(t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status)}t.isFinished||void 0===e.approvalData.currentNode&&"发起人"!==t.ApprovalFlowNodeName&&(e.approvalData.ApprovalFlowNodeID=t.ApprovalFlowNodeID)})),t.isOverviewMode_CC=!0,t.overviewList_CC=[],t.ApprovalCCMemberList.forEach((function(e,a){(a<4||5===t.ApprovalCCMemberList.length)&&t.overviewList_CC.push(e)}))})),e.detail=i}}))},setStatus_isOverviewMode:function(t,e,a,i){"normal"===a?t.isOverviewMode=i:"CC"===a?t.isOverviewMode_CC=i:t.isOverviewMode=i,this.$set(this.detailInfo.ApprovalFlow,e,t)},downLoad:function(t){var e=this,a=t.VirtualPath,i=a.split(".");a=a.split(".")[0].slice(-14),a=i[0].slice(-14)+"."+i[1],e.xy.downFile("".concat(e.$store.state.apiPath,'/api/OfficialDocument/DownLoadFile"'),{FileName:t.FileName,file:a})},fileFun:function(){var t=this;t.$Modal.confirm({title:"归档",content:"<p>您确定要将此公文归档吗？</p>",onOk:function(){t.isShowSpin=!0,t.xy.post("".concat(t.$store.state.apiPath,"/api/OfficialDocument/Archive?id=").concat(t.officeId)).then((function(e){t.isShowSpin=!1,e.success&&(t.xy.msgSuc("归档成功。"),t.ReturnClick())}))}})},xyFormatDate:function(t,e){return e=e||"MM.dd HH:mm",t?this.xy.moment(t).format("MM.DD HH:mm"):""},destructionFun:function(){var t=this;t.$Modal.confirm({title:"销毁",content:"<p>您确定要销毁此公文吗？</p>",onOk:function(){t.isShowSpin=!0,t.xy.post("".concat(t.$store.state.apiPath,"/api/OfficialDocument/Delete?id=").concat(t.officeId)).then((function(e){t.isShowSpin=!1,e.success&&(t.xy.msgSuc("销毁成功。"),t.ReturnClick())}))}})},ReturnClick:function(){this.$emit("loadTable")}}},u=f,m=(a("f2d8"),a("9ca4")),h=Object(m["a"])(u,c,d,!1,null,"384a7e16",null),v=h.exports,x={name:"Recording",components:{XyAntTable:l["a"],DetailLooks:v},data:function(){var t=this;return{officeTypeId:-1,typeAll:[],mInfo:!1,searchName:"",approvalStatus:-1,mainUrl:this.xyApi+"/base",approvalValue:[{approvalID:-1,approvalName:"所有状态"},{approvalID:0,approvalName:"待审批"},{approvalID:1,approvalName:"审批中"},{approvalID:2,approvalName:"已通过"},{approvalID:3,approvalName:"已拒绝"},{approvalID:4,approvalName:"已收回"}],isInitial:!0,type:"",info:"",ServiceDoMainName:this.xy.subMenuServiceUrl,WebDoMainName:this.xy.subMenuWebUrl,types:"",row:{},tableLoading:!0,nullData:"该搜索条件下没有结果。",data:[],pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}},columns:[{title:"",width:50,dataIndex:"Icon",scopedSlots:{customRender:"Icon"},className:"table-pic"},{title:"申请人",width:140,dataIndex:"FullName",scopedSlots:{customRender:"FullName"}},{title:"审批类型",width:120,dataIndex:"",scopedSlots:{customRender:"type"}},{title:"摘要",dataIndex:"OfficialDocTheme",scopedSlots:{customRender:"OfficialDocTheme"}},{title:"申请时间",dataIndex:"CreatedByStrDate",width:180},{title:"状态",dataIndex:"StatusDescible",width:100,scopedSlots:{customRender:"StatusDescible"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}]}},mounted:function(){},watch:{isInitial:{deep:!0,handler:function(t,e){this.isInitial=t}}},created:function(){var t=this;t.getType(),t.loadTable()},methods:{handleTableChange:function(){this.loadTable()},getType:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocType/GetAll")).then((function(e){t.typeAll=e.data.data}))},loadTable:function(t){var e=this;return Object(r["a"])(n.a.mark((function t(){var a,i;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mInfo=!1,e.tableLoading=!0,a={pageIndex:e.pagination.current,pageSize:e.pagination.pageSize,Status:e.approvalStatus,emergencyID:0,secretID:0,typeID:-1,searchText:e.searchName},t.next=5,e.xy.get(e.$store.state.apiPath+"/api/OfficialDocument/GetAllRecordByPage",a);case 5:i=t.sent,i.success&&(e.data=i.data.data,e.pagination.total=i.data.totalRecords),e.tableLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},typeValueSearch:function(){this.pagination.current=1,this.pagination.current=1,this.loadTable()},FromSubmit:function(){this.pagination.current=1,this.loadTable()},viewDetail:function(t){this.mInfo=!0,this.row=t,this.type=1}}},b=x,g=(a("dfd89"),Object(m["a"])(b,i,o,!1,null,"1f738802",null));e["default"]=g.exports},"1e929":function(t,e,a){"use strict";var i=a("bc51"),o=a.n(i);o.a},"1ef6":function(t,e,a){var i=a("0400");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("51d24bb2",i,!0,{sourceMap:!1,shadowMode:!1})},2376:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mail-main"},[a("div",{staticClass:"mail-topbox"},[a("span",{staticClass:"mail-tit clearfix"},[t._v(" "+t._s(t.MessageTitle)+" ")]),a("span",{staticClass:"mail-info"},[a("span",{},[t._v(" "+t._s(t.info.CreateByDate)+" ")]),a("span",{},[t._v(" 发送者："+t._s(t.info.SenderName)+" ")])])]),a("div",{staticClass:"mail-cont"},t._l(t.mainList,(function(e,i){return a("div",{key:i,staticClass:"mail-list"},[1==e.Type?a("p",{staticClass:"work-break-wrap"},[t._v(t._s(e.Content))]):t._e(),2==e.Type?a("img",{staticStyle:{width:"100%"},attrs:{src:"http://qa.base.xiaoyangedu.net:7000"+e.Content}}):t._e()])})),0)])},o=[],s={data:function(){return{mInfo:!1,info:"",mainList:[],type:"",urlPath:"",MessageID:0,MessageTitle:""}},computed:{params:function(){return this.$store.state.common.menuInfo}},created:function(){console.log(this.params.MessageModel,this.params.type),this.mInfo=!0,this.info=this.params.MessageModel,this.type=this.params.type,0===this.type?(this.urlPath=this.info.ServiceDoMainName,this.MessageID=this.info.BusinessID,this.MessageTitle=this.info.Subject):(this.urlPath="http://qa.api.oa.xiaoyangedu.net:37200",this.MessageID=this.info.MessageID,this.MessageTitle=this.info.MessageTitle),this.GetMessageContentByID()},mounted:function(){},methods:{GetMessageContentByID:function(){var t=this;this.xy.loading();var e=this;this.xy.get("".concat(this.urlPath,"/api/OAMessage/GetMessageContentByID"),{MessageID:e.MessageID}).then((function(a){a.success?(e.mainList=a.data,t.xy.unloading()):t.xy.unloading()}))}}},n=s,r=(a("e9a2"),a("9ca4")),l=Object(r["a"])(n,i,o,!1,null,"132fcf19",null);e["default"]=l.exports},"23c4":function(t,e,a){"use strict";function i(){return i=Object.assign||function(t){for(var e,a=1;a<arguments.length;a++)for(var i in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)}var o=["attrs","props","domProps"],s=["class","style","directives"],n=["on","nativeOn"],r=function(t){return t.reduce((function(t,e){for(var a in e)if(t[a])if(-1!==o.indexOf(a))t[a]=i({},t[a],e[a]);else if(-1!==s.indexOf(a)){var r=t[a]instanceof Array?t[a]:[t[a]],c=e[a]instanceof Array?e[a]:[e[a]];t[a]=r.concat(c)}else if(-1!==n.indexOf(a))for(var d in e[a])if(t[a][d]){var p=t[a][d]instanceof Array?t[a][d]:[t[a][d]],f=e[a][d]instanceof Array?e[a][d]:[e[a][d]];t[a][d]=p.concat(f)}else t[a][d]=e[a][d];else if("hook"==a)for(var u in e[a])t[a][u]=t[a][u]?l(t[a][u],e[a][u]):e[a][u];else t[a]=e[a];else t[a]=e[a];return t}),{})},l=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=r},2778:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-title xy-flex xy-center xy-between"},[a("Button",{staticClass:"xy-primary",on:{click:t.goLaunch}},[t._v("发起公文")]),a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("状态：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.DocumentStatusypeSearch},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("i-option",{key:0,attrs:{value:0}},[t._v("全部")]),t._l(t.DocumentStatusype,(function(e){return a("i-option",{key:e.statusID,attrs:{value:e.statusID}},[t._v(" "+t._s(e.status)+" ")])}))],2)],1),a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("时间筛选：")]),a("date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange",format:"yyyy-MM-dd",value:t.dataArr,editable:!1,placeholder:"请选择发起时间日期"},on:{"on-change":t.datesChange}})],1),a("div",{staticClass:"xy-content-title-search"},[a("i-input",{staticStyle:{width:"272px"},attrs:{search:"",placeholder:"请输入主题/发文字号"},on:{"on-search":t.FromSubmit},model:{value:t.searchT,callback:function(e){t.searchT=e},expression:"searchT"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])],1),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.tbData,nullData:t.txt,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:1220},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"DocumentTypeName",fn:function(e,i){return a("div",{},[t._v(" "+t._s(i.DocumentTypeName)+" ")])}},{key:"CreatedTime",fn:function(e,i){return a("div",{},[t._v(" "+t._s(t.xy.moment(i.CreatedTime).format("YYYY-MM-DD HH:mm"))+" ")])}},{key:"Title",fn:function(e,i){return a("div",{staticStyle:{"min-width":"570px"}},[a("span",{staticClass:"ant-table-cell table-el-hover",staticStyle:{display:"inline-block"},domProps:{innerHTML:t._s(i.Title)},on:{click:function(e){return t.edit(i)}}})])}},{key:"DocumentStatus",fn:function(e,i){return a("span",{},[1===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),2===i.DocumentStatus||4===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),16===i.DocumentStatus||8===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.edit(i)}}},[t._v("详情")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{disabled:16===i.DocumentStatus||4===i.DocumentStatus||t.userID!==i.CreatedByID},on:{click:function(e){return t.retract(i.DocumentID)}}},[t._v("撤销")])],1)}}])}),a("modal",{attrs:{transfer:!1,title:"添加批复","mask-closable":!1},model:{value:t.modalCreateType,callback:function(e){t.modalCreateType=e},expression:"modalCreateType"}},[a("div",{staticClass:"dialog-model-content"},[a("Form",{ref:"formValidateAdd",attrs:{model:t.formValidateAdd,rules:t.ruleValidateCreate},on:{"on-validate":t.validate},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{prop:"textValue"}},[a("Input",{staticStyle:{"font-size":"14px"},attrs:{rows:8,"show-word-limit":"",maxlength:300,type:"textarea",placeholder:"请输入批复内容"},model:{value:t.formValidateAdd.textValue,callback:function(e){t.$set(t.formValidateAdd,"textValue",e)},expression:"formValidateAdd.textValue"}})],1),a("div",{staticClass:"replyFoot"},[a("i-button",{staticClass:"pr",attrs:{icon:"ios-cloud-upload-outline"}},[a("input",{ref:"fileAll",staticClass:"pa cursor-p",staticStyle:{top:"0",left:"0",width:"100%",height:"100%",opacity:"0"},attrs:{type:"file",multiple:"multiple"},on:{change:function(e){return t.changeFunc(e)}}}),t._v(" 附件 ")])],1),a("FormItem",{attrs:{prop:"fileList"}},[a("div",{staticClass:"fileBox"},[t._l(t.formValidateAdd.filesList,(function(e,i){return[a("div",{key:i,ref:"filesDom",refInFor:!0,staticClass:"files-flex"},[a("div",{staticClass:"files-flex-text nowrap"},[e.type.indexOf("image")>-1?a("i",{staticClass:"iconfont iconimg"},[t._v("")]):a("i",{staticClass:"iconfont icontext"},[t._v("")])]),a("div",{staticClass:"fileInfo"},[a("span",{staticClass:"fileInfoName",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("span",{staticClass:"fileInfoSize"},[t._v(t._s(e.size/1024/1024>=1?(e.size/1024/1024).toFixed(2)+"MB":(e.size/1024).toFixed(2)+"KB"))])]),a("Icon",{attrs:{type:"md-close-circle",color:"#F5222D",size:"22"},on:{click:function(e){return t.delFiles(i)}}})],1)]}))],2)])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.creatTypeCancel}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.creatTypeOk}},[t._v("发送")])],1)]),a("modal",{attrs:{transfer:!1},model:{value:t.modalFinish2,callback:function(e){t.modalFinish2=e},expression:"modalFinish2"}},[a("div",{staticClass:"finish"},[a("p",[a("span",{staticClass:"mark-img"},[t._v("?")]),t._v(" "+t._s(this.applyEndPepName[this.applyEndPepName.length-1])+"申请流程结束，是否同意？ ")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.finishCancel2}},[t._v("拒绝")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.finishOk2}},[t._v("同意")])],1)])],1),a("Drawer",{staticClass:"detailModel",attrs:{width:"560",transfer:!1,"mask-closable":!1,styles:t.styles},on:{"on-close":t.closeLook},model:{value:t.isLook,callback:function(e){t.isLook=e},expression:"isLook"}},[a("div",{attrs:{slot:"header"},slot:"header"},[this.info.DocumentInfo?a("p",[t._v(" "+t._s(this.info.DocumentInfo.CreatedByName)+"提交的公文 ")]):t._e()]),a("div",{staticClass:"drawer"},[t.isLook?a("DetailsLook",{attrs:{info:t.info}}):t._e()],1),t.isRetract?a("div",{staticClass:"work-flow-drawer",staticStyle:{"z-index":"2"}},[t.info.HasSignBtn?a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.signFor}},[t._v(" 签收 ")]):t._e(),t.info.HasAddCommentBtn?a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.addReply}},[t._v(" 添加批复 ")]):t._e(),t.info.HasApplyEndBtn?a("Button",{staticClass:"mr footBtn rg",attrs:{shape:"circle"},on:{click:t.endApplication}},[t._v(" 申请结束 ")]):t._e(),t.info.HasReviewApplyEndBtn?a("Button",{staticClass:"mr footBtn rg",attrs:{shape:"circle"},on:{click:t.endApproval}},[t._v(" 结束审批 ")]):t._e(),t.info.HasAddCirculationBtn?a("Button",{staticClass:"mr footBtn rg",attrs:{shape:"circle"},on:{click:t.addCirculation}},[t._v(" 添加流转 ")]):t._e(),!t.info.HasSignBtn&&t.info&&t.info.DocumentInfo&&4!==t.info.DocumentInfo.DocumentStatus&&t.userID===t.info.DocumentInfo.CreatedByID?a("Button",{staticClass:"mr footBtn rg",attrs:{shape:"circle"},on:{click:function(e){return t.retract(t.id)}}},[t._v(" 撤销 ")]):t._e()],1):t._e()]),a("SelectTeacherOrg",{attrs:{isShow:t.isTeacher,teachers:[].concat(t.addPepList)},on:{"select-cancel":t.selectCancel,"select-confirm":t.selectConfirm}})],1)},o=[],s=(a("b4fb"),a("dbb3"),a("ecb4"),a("2eeb"),a("053b"),a("e35a"),a("0d7a"),a("5748")),n=a("5412"),r=a.n(n),l=(a("b449"),a("cf7f")),c=a("eb31"),d=a("96a6"),p=a("afa3"),f={name:"MyLaunch",inject:["reload"],provide:function(){return{isAllow:this.isAllow,loadingtb:!1}},components:{XyAntTable:c["a"],DetailsLook:d["a"],SelectTeacherOrg:p["a"]},created:function(){this.fetchTabl()},data:function(){var t=this;return{tableLoading:!0,txt:"该搜索条件下没有结果。",tbData:[],total:0,userID:1*this.$store.state.common.userBaseInfo.UserID,isRetract:!0,tableUrl:"",totalMB:0,formValidateAdd:{textValue:"",filesList:[]},ruleValidateCreate:{textValue:[{type:"string",max:300,message:"批复不能超过300个字",trigger:"blur"}],filesList:[{type:"array",min:1,message:"批复或文件内容不能为空",trigger:"blur"}]},validateBool:!1,mainUrl:this.xyApi+"/base",styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},applyEndPepName:[],filesMaxNumKB:0,filesMaxNumMB:0,filesMaxNumKBFixed:0,filesMaxNumMBFixed:0,filesList:[],isTeacher:!1,addPepList:[],DocumentStatusype:[{status:"进行中",statusID:"1"},{status:"申请结束",statusID:"2"},{status:"已结束",statusID:"4"},{status:"已撤销",statusID:"16"}],status:0,searchTimeBegin:[],searchTimeEnd:[],dataArr:["",""],searchT:"",docAll:[],columns:[{title:"公文种类",dataIndex:"DocumentTypeName",scopedSlots:{customRender:"DocumentTypeName"},width:140},{title:"发起时间",dataIndex:"CreatedTime",width:150,scopedSlots:{customRender:"CreatedTime"}},{title:"主题",dataIndex:"Title",scopedSlots:{customRender:"Title"}},{title:"发文字号",dataIndex:"DocumentNumber",width:100},{title:"状态",width:120,dataIndex:"DocumentStatus",scopedSlots:{customRender:"DocumentStatus"}},{title:"操作",dataIndex:"04",width:120,scopedSlots:{customRender:"oprateRender"}}],modalCreateType:!1,modalFinish:!1,modalFinish2:!1,id:"",info:[],docTypes:["rar","zip","png","jpg","jpeg","svg","gif","flash","doc","docx","dotx","dot","pdf","txt","xml","ppt","pptx","xls","xlsx","xlst"],isLook:!1,apiPath:this.$store.state.apiPath,pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}}}},methods:{handleTableChange:function(){this.fetchTabl()},fetchTabl:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,a={pageIndex:t.pagination.current,pageSize:t.pagination.pageSize,Status:t.status,beginTime:t.dataArr[0],endTime:t.dataArr[1],SearchWord:t.searchT},e.next=4,t.xy.get("".concat(t.apiPath,"/api/DocCirculation/GetSendByMePageList"),a);case 4:i=e.sent,t.tableLoading=!1,i.success&&(t.tbData=i.data.data,t.pagination.total=i.data.totalRecords,i.data.data&&i.data.data.length&&(t.columns[2].minWidth=i.data.data.filter((function(t){return t.Title.length>80})).length?660:300));case 7:case"end":return e.stop()}}),e)})))()},retract:function(t){var e=this;this.xy.confirm("撤销公文","您确定要撤销该公文吗？",(function(){e.toRetract(t)}))},toRetract:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),a.next=3,e.xy.get("".concat(e.apiPath,"/api/DocCirculation/RevokeEnd?DocumentID=").concat(t),null,!0);case 3:i=a.sent,e.xy.unloading(),i.success?(e.xy.msgSuc(i.msg||"撤销成功。"),e.DocumentStatusypeSearch(),e.isLook&&(e.getDetailData(),e.isRetract=!1)):e.xy.msgError(i.msg||"撤销失败。");case 6:case"end":return a.stop()}}),a)})))()},validate:function(t,e,a){this.validateBool=e},closeLook:function(){this.reload()},getDetailData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get(t.apiPath+"/api/DocCirculation/GetSendByMeDetail",{DocumentID:t.id});case 3:if(a=e.sent,t.xy.unloading(),a.success)for(t.info=a.data,i=0;i<t.info.NodeList.length;i++)"申请结束"===t.info.NodeList[i].OrderName&&t.applyEndPepName.push(t.info.NodeList[i].UserList[0].FullName);case 6:case"end":return e.stop()}}),e)})))()},DocumentStatusypeSearch:function(){this.pagination.current=1,this.fetchTabl()},datesChange:function(t){this.dataArr=t,this.pagination.current=1,this.fetchTabl()},FromSubmit:function(){this.pagination.current=1,this.fetchTabl()},edit:function(t){16===t.DocumentStatus?this.isRetract=!1:this.isRetract=!0,this.isLook=!0,this.id=t.DocumentID,this.getDetailData()},goLaunch:function(){this.$store.commit("common/getThreeMenuName","发起公文"),this.$router.push({path:"/xyHome/Launch",query:this.$store.state.common.menuInfo})},addReply:function(){this.modalCreateType=!0},changeFunc:function(t){for(var e=0;e<t.target.files.length;e++){var a=t.target.files[e].name.split(".");if(this.docTypes.indexOf(a[a.length-1])<0)return void this.xy.msgError("上传文件格式错误。")}this.totalMB=0,this.formValidateAdd.filesList=[].concat(Object(s["a"])(this.formValidateAdd.filesList),Object(s["a"])(t.target.files));for(var i=0,o=this.formValidateAdd.filesList.length;i<o;i++)void 0!==this.formValidateAdd.filesList[i].isDel&&this.formValidateAdd.filesList[i].isDel||(this.$set(this.formValidateAdd.filesList[i],"isDel",!1),this.totalMB+=this.formValidateAdd.filesList[i].size/1024/1024)},delFiles:function(t){this.$set(this.formValidateAdd.filesList[t],"isDel",!0);var e=this.formValidateAdd.filesList.filter((function(t){return!t.isDel}));this.formValidateAdd.filesList=e,this.totalMB=0;for(var a=0,i=this.formValidateAdd.filesList.length;a<i;a++)this.formValidateAdd.filesList[a].isDel||(this.totalMB+=this.formValidateAdd.filesList[a].size/1024/1024);0===e.length&&(this.$refs.fileAll.value=null)},addCirculation:function(){this.isTeacher=!0},addPep:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),a=[],t.addPepList.map((function(t){a.push(t.UserID)})),i={DocumentID:t.id,AddUserList:a,Title:t.info.DocumentInfo.Title,CreatedByID:t.info.DocumentInfo.CreatedByID},e.next=6,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/AddSendTo"),i);case 6:o=e.sent,t.xy.unloading(),o.success&&(t.xy.msgSuc("添加流转成功。"),t.getDetailData());case 9:case"end":return e.stop()}}),e)})))()},selectCancel:function(){this.isTeacher=!1},selectConfirm:function(t){t.length>0?(this.isTeacher=!1,this.addPepList=Object(s["a"])(t),this.addPep()):this.xy.msgError("人员不能为空。")},creatTypeCancel:function(){this.modalCreateType=!1,this.formValidateAdd.textValue="",this.$refs.formValidateAdd.resetFields()},creatTypeOk:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.totalMB>100?(t.xy.unloading(),t.xy.msgError("附件总大小不能超过100M。")):t.formValidateAdd.textValue||0!==t.formValidateAdd.filesList.length?(t.Create(),t.$set(t.info.NodeList[t.info.NodeList.length-1].CommentList)):t.xy.msgError("批复或文件内容不能为空。");case 1:case"end":return e.stop()}}),e)})))()},Create:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.xy.loading(),a=new FormData,i=0,o=t.formValidateAdd.filesList.length;i<o;i++)a.append("file",t.formValidateAdd.filesList[i]);if(0===t.formValidateAdd.filesList.length){e.next=10;break}return e.next=6,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/UploadCommentFile"),a);case 6:s=e.sent,s.success&&t.createFile(s.data),e.next=11;break;case 10:t.createFile();case 11:case"end":return e.stop()}}),e)})))()},createFile:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i,o,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={DocumentID:e.id,CreatedByID:e.info.DocumentInfo.CreatedByID,Title:e.info.DocumentInfo.Title,Comment:e.formValidateAdd.textValue,FileInfo:t},a.next=3,e.xy.post("".concat(e.$store.state.apiPath,"/api/DocCirculation/AddComment"),i);case 3:if(o=a.sent,e.xy.unloading(),!o.success){a.next=14;break}return e.modalCreateType=!1,e.xy.msgSuc("添加批复成功。"),a.next=10,e.xy.get(e.apiPath+"/api/DocCirculation/GetSendByMeDetail",{DocumentID:e.id});case 10:s=a.sent,s.success&&(e.info=s.data),e.formValidateAdd.textValue="",e.formValidateAdd.filesList=[];case 14:case"end":return a.stop()}}),a)})))()},endApproval:function(){this.modalFinish2=!0},finishCancel2:function(){this.modalFinish2=!1;var t=4;this.ApplyEnd2(t)},finishOk2:function(){this.modalFinish2=!1;var t=2;this.ApplyEnd(t)},ApplyEnd:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),a.next=3,e.xy.post(e.apiPath+"/api/DocCirculation/ReviewApplyEnd",{DocumentID:e.id,Status:t,Title:e.info.DocumentInfo.Title});case 3:i=a.sent,e.xy.unloading(),i.success&&(e.xy.msgSuc("流程结束。"),e.getDetailData());case 6:case"end":return a.stop()}}),a)})))()},ApplyEnd2:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),a.next=3,e.xy.post(e.apiPath+"/api/DocCirculation/ReviewApplyEnd",{DocumentID:e.id,Status:t,Title:e.info.DocumentInfo.Title});case 3:i=a.sent,e.xy.unloading(),i.success&&(e.xy.msgSuc("申请驳回。"),e.getDetailData());case 6:case"end":return a.stop()}}),a)})))()},signFor:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.apiPath+"/api/DocCirculation/Sign",{DocumentID:t.id,CreatedByID:t.info.DocumentInfo.CreatedByID});case 3:a=e.sent,t.xy.unloading(),a.success&&(t.xy.msgSuc("签收成功。"),t.getDetailData());case 6:case"end":return e.stop()}}),e)})))()},endApplication:function(){var t=this;this.xy.confirm("申请结束","您确定申请流程完成吗?",(function(){return t.finishOk()}))},finishOk:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.apiPath+"/api/DocCirculation/ApplyEnd",{DocumentID:t.id,CreatedByID:t.info.DocumentInfo.CreatedByID,Title:t.info.DocumentInfo.Title});case 3:a=e.sent,t.xy.unloading(),a.success&&(t.modalFinish=!1,t.xy.msgSuc("申请结束成功。"),t.getDetailData());case 6:case"end":return e.stop()}}),e)})))()}}},u=f,m=(a("f3ad"),a("9ca4")),h=Object(m["a"])(u,i,o,!1,null,"45ede1ce",null);e["default"]=h.exports},"27d8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module",attrs:{id:"XyContentModuleReplace"}},[a("div",{attrs:{id:"xy-initialize-breadcrumb"}}),a("div",{staticClass:"setting-container"},[a("i-menu",{attrs:{mode:"horizontal",theme:"light","active-name":"1"},on:{"on-select":t.changeMenu}},[a("menu-item",{attrs:{name:"1"}},[t._v(" 公文种类 ")]),a("menu-item",{attrs:{name:"2"}},[t._v(" 秘密等级 ")]),a("menu-item",{attrs:{name:"3"}},[t._v(" 紧急程度 ")]),a("menu-item",{attrs:{name:"4"}},[t._v(" 审批设置 ")])],1),a("div",{staticClass:"container",style:!1===t.notApproval?"padding:0":""},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.notApproval,expression:"notApproval"}],staticClass:"box"},[a("div",{staticClass:"box-type add",on:{click:t.newMould}},[a("Icon",{attrs:{type:"ios-add"}}),a("p",[t._v("新增类型")])],1)]),t._l(t.rowList,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.notApproval,expression:"notApproval"}],key:i,staticClass:"box"},[a("div",{staticClass:"box-type"},[e.IsDefault?t._e():a("div",{staticClass:"dot",class:"m"+(i+1)}),e.IsDefault?a("div",{staticClass:"dot",class:"m"}):t._e(),a("p",{domProps:{textContent:t._s(e.Name)}}),e.IsDefault?a("p",[t._v("系统内置")]):a("p",[t._v(t._s(e.FullName)+"添加")]),a("div",{staticClass:"box-bt"},[a("div",{staticClass:"bt-group"},[a("div",{staticClass:"bt-icon",class:e.IsDefault?"bg-admin":"btn-noty bt-base",on:{click:function(a){return t.okOpen(e)}}},[a("i-button",{class:e.IsDefault?"is-select":"bt-cl",attrs:{disabled:!!e.IsDefault}},[a("a-icon",{attrs:{type:"edit"}}),t._v(" 编辑 ")],1)],1),a("span"),a("div",{staticClass:"bt-icon",class:e.IsDefault?"bg-admin":"dele-bt bt-base",on:{click:function(a){return t.deleteData(e)}}},[a("i-button",{class:e.IsDefault?"is-select":"bt-cl",attrs:{disabled:!!e.IsDefault}},[a("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 删除 ")])],1)])])])])})),t.notApproval?t._e():a("div",{staticStyle:{width:"100%"}},[a("OaApprovalSettings")],1),a("Modal",{attrs:{"mask-closable":!1,closable:!1,transfer:!1,loading:t.loadingType,title:t.title},on:{"on-ok":t.editType,"on-cancel":function(e){t.modal=!1}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("i-form",{ref:"formRef",attrs:{model:t.formData,rules:t.ruleValidate,"label-width":100}},[a("form-item",{attrs:{label:t.tabName+"：",prop:"name",labelFor:"tabName"}},[a("i-input",{attrs:{placeholder:"请填写"+t.tabName+"名称",elementId:"tabName"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1)],2)],1)])},o=[],s=(a("b4fb"),a("ecb4"),a("053b"),a("84c2"),a("e35a"),a("1c2e"),a("33a3")),n={name:"Setting",components:{OaApprovalSettings:s["default"]},data:function(){return{title:"新增",loadingType:!0,modal:!1,rowList:[],total:0,pageSize:20,pageCurrent:1,pages:20,apiCach:"OfficialDocEmergencyLevel",deleteId:"officialDocEmergencyLevelID",formData:{name:""},index:1,ruleValidate:{name:[{required:!0,message:"公文类型不能为空",trigger:"blur"},{type:"string",max:6,message:"公文类型名称不能超过6字符",trigger:"blur"},{validator:function(t,e,a,i,o){var s=[],n=new RegExp("[`%~!@#$^&*=|{}':;'·+,\\[\\]\\\\<>()（）《》“”/?~！@#￥……&*|{}【】‘；：”“'。.，、？\"' ']");(n.test(e)||-1!==e.indexOf(" "))&&s.push("不支持特殊字符"),a(s)}}]},updata:null,notApproval:!0}},computed:{tabName:function(){var t="";return 1===this.index?t="公文种类":2===this.index?t="秘密等级":3===this.index&&(t="紧急程度"),t}},created:function(){this.changeMenu(1)},methods:{getType:function(){var t=this;this.xy.loading();var e=this,a={pageIndex:e.pageCurrent,pageSize:e.pageSize};this.xy.get("".concat(this.$store.state.apiPath,"/api/OfficialDocType/GetByPage"),a).then((function(a){t.xy.unloading(),a.success&&a.data.data&&(e.rowList=a.data.data)}))},getLevel:function(){this.xy.loading();var t=this,e={pageIndex:t.pageCurrent,pageSize:t.pageSize};t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocSecretLevel/GetByPage"),e).then((function(e){t.xy.unloading(),e.success&&e.data.data&&(t.rowList=e.data.data)}))},getDegree:function(){var t=this;this.xy.loading();var e=this,a={pageIndex:e.pageCurrent,pageSize:e.pageSize};this.xy.get("".concat(this.$store.state.apiPath,"/api/OfficialDocEmergencyLevel/GetByPage"),a).then((function(a){t.xy.unloading(),a.success&&a.data.data&&(e.rowList=a.data.data)}))},newMould:function(){this.modal=!0,this.title="新建",this.formData.name="",this.updata=""},okOpen:function(t){this.modal=!0,this.formData.name=t.Name,this.updata=t,this.title="编辑"},updateTble:function(){switch(this.index){case 1:this.apiCach="OfficialDocType",this.getType();break;case 2:this.apiCach="OfficialDocSecretLevel",this.getLevel();break;case 3:this.apiCach="OfficialDocEmergencyLevel",this.getDegree();break;case 4:this.loadingAppro();break}},editType:function(){this.changeLoading();var t=this;t.$refs.formRef.validate((function(e){if(e)if(t.xy.loading(),t.updata){var a={ID:t.updata.ID,Name:t.formData.name};t.xy.post("".concat(t.$store.state.apiPath,"/api/").concat(t.apiCach,"/Update"),a).then((function(e){t.xy.unloading(),e.success&&(t.xy.msgSuc(e.msg),t.updateTble(),t.modal=!1,t.updata=null)})).catch((function(t){}))}else{var i={Name:t.formData.name};t.xy.post("".concat(t.$store.state.apiPath,"/api/").concat(t.apiCach,"/Create"),i).then((function(e){t.xy.unloading(),e.success&&(t.xy.msgSuc(e.msg),t.updateTble(),t.modal=!1)}))}}))},deleteData:function(t){var e=this;this.$Modal.confirm({title:"删除",content:'<p>您确认要删除"'+t.Name+'"吗？</p>',onOk:function(){this.xy.post("".concat(e.$store.state.apiPath,"/api/").concat(e.apiCach,"/Delete?id=").concat(t.ID)).then((function(t){t.success&&(e.xy.msgSuc(t.msg),e.updateTble())}))}})},changeLoading:function(){this.loadingType=!1,this.$nextTick((function(){this.loadingType=!0}))},changeMenu:function(t){var e=this.index=1*t;this.rowList=[],this.notApproval=e<4,this.updateTble()},loadingAppro:function(){}}},r=n,l=(a("bf50"),a("9ca4")),c=Object(l["a"])(r,i,o,!1,null,null,null);e["default"]=c.exports},"28c0":function(t,e,a){var i=a("a1a8"),o=a("e505"),s=a("9089"),n=a("a5fa"),r=a("d14e"),l=a("8fb4");e=i(!1);var c=o(s),d=o(n),p=o(r),f=o(l);e.push([t.i,'.titles[data-v-075dce94]{margin:40px 0 20px}.flow-item[data-v-075dce94],.flow-wrapper[data-v-075dce94]{position:relative}.flow-item[data-v-075dce94]{margin:0;padding:0 0 12px}.flow-item-line[data-v-075dce94]{height:100%;border-left:2px solid #c6c6c6;position:absolute;left:18px;top:12px}.flow-item-header[data-v-075dce94]{width:40px;height:40px;background-color:#4196ff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-content[data-v-075dce94]{min-height:60px;padding:1px 1px 10px 50px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-075dce94]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.flow-item:last-child .flow-item-line[data-v-075dce94]{display:none}.flow-avatar[data-v-075dce94]{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff}.flow-avatar-imgWrapper[data-v-075dce94]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-075dce94]{width:100%;min-height:100%}.flow-avatar--small[data-v-075dce94]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-075dce94]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-075dce94]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-075dce94]{width:100%}.flow-avatar>span[data-v-075dce94]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-075dce94]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#666}.flow-content-btn--hideDetail[data-v-075dce94]{color:#4196ff;font-size:14px}.flow-content-btn--showDetail[data-v-075dce94]{color:#666;font-size:14px}.flow-content-body[data-v-075dce94]{min-height:1em}.flow-content-name[data-v-075dce94]{color:#161616}.flow-content-reason[data-v-075dce94]{color:#999}.flow-content-title[data-v-075dce94]{font-size:14px;color:#161616}.flow-content-time[data-v-075dce94]{color:#999;font-size:12px}.flow-detail-item[data-v-075dce94]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-075dce94]{width:100%;margin-left:10px}.flow-detail-header[data-v-075dce94]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-075dce94],.flow-overview-list[data-v-075dce94]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-075dce94]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-075dce94]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-075dce94]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flow-icon-radio[data-v-075dce94]{display:inline-block;width:19px;height:15px;margin:12px;background:url('+c+') no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-075dce94]{position:relative}.flow-status-icon[data-v-075dce94]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-075dce94]:after{background:url('+d+") no-repeat}.flow-status-icon-processing[data-v-075dce94]:after{background:url("+p+") no-repeat}.flow-status-icon-reject[data-v-075dce94]:after{background:url("+f+') no-repeat}.flow-status-bgcolor[data-v-075dce94]{position:relative}.flow-status-bgcolor[data-v-075dce94]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-075dce94]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-075dce94]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-075dce94]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-075dce94]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-075dce94]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-075dce94]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-075dce94]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-075dce94]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-075dce94]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-075dce94]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-075dce94]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}',""]),t.exports=e},2941:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"xy-content-body"},[i("div",{staticClass:"xy-content-title clearfix",staticStyle:{"border-bottom":"1px solid #f1f1f1"}},[i("div",{staticClass:"fl"},[i("i-button",{on:{click:t.back}},[t._v("返回")])],1),i("div",{staticStyle:{"text-align":"center","font-size":"16px","font-weight":"bold"}},[t._v(" 新建消息 ")])]),i("div",{staticClass:"news-details"},[i("div",{staticStyle:{width:"1000px",margin:"0 auto"}},[i("i-form",{ref:"createDataOK",attrs:{model:t.createDataOK,rules:t.ruleCreateDataOK,"label-width":100}},[i("form-item",{attrs:{label:"发送渠道",prop:"type"}},[i("checkbox-group",{model:{value:t.createDataOK.type,callback:function(e){t.$set(t.createDataOK,"type",e)},expression:"createDataOK.type"}},[i("checkbox",{staticStyle:{"font-size":"16px"},attrs:{label:"1",disabled:""}},[t._v("消息中心")]),i("checkbox",{staticStyle:{"font-size":"16px"},attrs:{label:"2",disabled:t.isWeChat}},[t._v("微信")])],1)],1),i("form-item",{attrs:{label:"消息标题",prop:"title"}},[i("i-input",{staticStyle:{width:"376px"},attrs:{placeholder:"请填写消息标题",clearable:""},model:{value:t.createDataOK.title,callback:function(e){t.$set(t.createDataOK,"title",e)},expression:"createDataOK.title"}})],1),i("form-item",{attrs:{label:"内容摘要",prop:"theme"}},[i("i-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"请填写内容摘要",clearable:""},model:{value:t.createDataOK.theme,callback:function(e){t.$set(t.createDataOK,"theme",e)},expression:"createDataOK.theme"}})],1),i("form-item",{attrs:{label:"接收对象"}},[i("span",{staticStyle:{position:"absolute",left:"-78px","z-index":"99",content:"'*'",display:"inline-block",color:"#ed4014"}},[t._v("*")]),i("div",{staticClass:"select-number"},[t.teacherNames.length>0?i("span",{staticClass:"number"},[t._v("已选择"+t._s(t.teacherNames.length)+"人")]):i("span",{staticClass:"select"},[t._v("请选择")]),i("i-button",{attrs:{size:"small"},on:{click:function(e){return t.openAddModal(1)}}},[t._v("选择教师")])],1),i("div",{staticClass:"select-number"},[t.studentNames.length>0?i("span",{staticClass:"number"},[t._v("已选择"+t._s(t.studentNames.length)+"人")]):i("span",{staticClass:"select"},[t._v("请选择")]),i("i-button",{attrs:{size:"small"},on:{click:function(e){return t.openAddModal(2)}}},[t._v("选择学生/家长")])],1)]),i("form-item",{attrs:{label:"图文详情"}},[i("span",{staticStyle:{position:"absolute",left:"-78px","z-index":"99",content:"'*'",display:"inline-block",color:"#ed4014"}},[t._v("*")]),i("div",{staticClass:"details",on:{click:t.textBtn}},[i("img",{attrs:{src:a("014c")}}),i("span",[t._v("点击插入一段文字")])]),i("div",{staticClass:"details",class:t.isdis?"disdetails":"",on:{click:t.imgBtn}},[i("img",{attrs:{src:a("32c8")}}),i("span",[t._v("点击插入一张图片")])])]),t.previewCont.length>0?i("div",{staticClass:"preview"},t._l(t.previewCont,(function(e,o){return i("div",{key:o,staticClass:"preview-div"},[1==e.Type?i("p",[t._v(t._s(e.Content))]):t._e(),2==e.Type?i("img",{attrs:{src:"http://qa.base.xiaoyangedu.net:7000/"+e.Content}}):t._e(),i("div",{staticClass:"fun-box"},[i("poptip",{attrs:{width:"20",content:"content",placement:"bottom"}},[i("img",{attrs:{src:a("9ac1")}}),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("i-button",{staticStyle:{display:"block","margin-bottom":"10px"},attrs:{type:"text"},on:{click:function(a){return t.insertTextUp(e)}}},[t._v("向上插入文字")]),i("i-button",{staticStyle:{display:"block"},attrs:{type:"text"},on:{click:function(a){return t.insertTextDown(e)}}},[t._v("向下插入文字")])],1)]),i("poptip",{attrs:{width:"20",content:"content",placement:"bottom"}},[i("img",{attrs:{src:a("dfa5")}}),i("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[i("i-button",{staticStyle:{display:"block","margin-bottom":"10px"},attrs:{type:"text",disabled:t.isdis},on:{click:function(a){return t.insertImg(e,2)}}},[t._v("向上插入图片")]),i("i-button",{staticStyle:{display:"block"},attrs:{type:"text",disabled:t.isdis},on:{click:function(a){return t.insertImg(e,3)}}},[t._v("向下插入图片")])],1)]),i("img",{attrs:{src:a("72b4")},on:{click:function(a){return t.edit(e)}}}),i("img",{attrs:{src:a("5acb")},on:{click:function(a){return t.del(e)}}})],1)])})),0):t._e()],1),i("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:t.back}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle",loading:t.isBtnLoading},on:{click:t.createMail}},[t._v("发布")])],1)],1)]),i("modal",{attrs:{width:"90%",title:"添加收件人",transfer:!1,loading:t.loading,"mask-closable":!1},model:{value:t.addPublic,callback:function(e){t.addPublic=e},expression:"addPublic"}},[i("row",{staticClass:"cascader-content"},[i("i-col",{staticClass:"cascader-content-left",attrs:{span:"6"}},[i("tree",{attrs:{data:t.newList,"load-data":t.newLoadData},on:{"on-select-change":t.treeSelect}})],1),i("i-col",{staticClass:"cascader-content-center",attrs:{span:"11"}},[2==t.selectState?i("div",{staticStyle:{"margin-bottom":"10px"}},[i("checkbox-group",{model:{value:t.selectStateType,callback:function(e){t.selectStateType=e},expression:"selectStateType"}},[i("checkbox",{staticStyle:{"margin-right":"15px"},attrs:{label:"3"}},[t._v("发送给选中的学生")]),i("checkbox",{attrs:{label:"4"}},[t._v("发送给选中的学生家长")])],1)],1):t._e(),1==t.selectState?i("div",{staticClass:"title-describe title-model"},[t._v("温馨提示：点击左侧栏中的教师组织，从中间栏勾选教师，右侧栏显示已选中的教师")]):i("div",{staticClass:"title-describe title-model"},[t._v("温馨提示：点击左侧栏中的学生组织，从中间栏勾选学生，右侧栏显示已选中的学生")]),i("div",{staticClass:"cascader-content-center-title clearfix"},[t.isShowSelectAll&&""===t.searchName?i("checkbox",{staticClass:"fl casader-is-all",on:{"on-change":t.checkAllBtn},model:{value:t.casaderIsAll,callback:function(e){t.casaderIsAll=e},expression:"casaderIsAll"}},[t._v("全选")]):t._e(),i("i-input",{staticClass:"fr casader-search",attrs:{search:"","enter-button":"",placeholder:"请输入用户名"},on:{"on-search":t.searchNameFun},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),0==t.transferData.length?i("alert",{staticStyle:{margin:"0px 0px 20px"},attrs:{type:"warning","show-icon":""}},[t._v(" 未查询到相关数据 "),i("template",{slot:"desc"},[t._v(" 当前分组下暂无数据，请切换分组后重新查找 ")])],2):i("div",t._l(t.transferData,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"cascader-content-center-list"},[i("div",{staticClass:"cascader-content-center-list-border"},[""==t.searchName?i("checkbox",{key:e.value,attrs:{size:"large"},on:{"on-change":function(a){return t.handleCheckAll(e)}},model:{value:e.checkAll,callback:function(a){t.$set(e,"checkAll",a)},expression:"item.checkAll"}},[t._v(t._s(e.label))]):i("span",{},[t._v(t._s(e.label))])],1),t._l(e.memberlist,(function(e){return i("checkbox",{key:e.UserID,staticClass:"check-name",attrs:{size:"large",title:e.UserName},on:{"on-change":function(a){return t.checkAllChange(e)}},model:{value:e.singleCheck,callback:function(a){t.$set(e,"singleCheck",a)},expression:"child.singleCheck"}},[t._v(t._s(e.FullName))])}))],2)])})),0)],1),i("i-col",{staticClass:"cascader-content-right",attrs:{span:"7"}},[i("div",[t._v("已选"),i("b",[t._v(t._s(t.checkAllList.length))]),t._v("人")]),i("div",{staticClass:"cascader-content-right-list"},t._l(t.checkAllList,(function(e,a){return i("tag",{key:a,attrs:{name:e.FullName,closable:"",title:e.UserName},on:{"on-close":t.handleClose}},[t._v(t._s(e.FullName))])})),1)])],1),t.isLoadingShow?i("spin",{attrs:{fix:""}},[i("icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),i("div",[t._v("加载中...")])],1):t._e(),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:t.modalCancel}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.modalAdd}},[t._v("确定")])],1)],1),i("modal",{attrs:{width:"1000",transfer:!1,title:"添加文字",loading:t.loading,"mask-closable":!1},model:{value:t.modalCreate,callback:function(e){t.modalCreate=e},expression:"modalCreate"}},[i("div",{staticClass:"dialog-model-content"},[i("i-form",{ref:"formValidateOK",attrs:{model:t.formValidateOK,rules:t.ruleValidateOK},nativeOn:{submit:function(t){t.preventDefault()}}},[i("form-item",{attrs:{label:"",prop:"cont"}},[i("i-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"请输入要添加的内容"},model:{value:t.formValidateOK.cont,callback:function(e){t.$set(t.formValidateOK,"cont",e)},expression:"formValidateOK.cont"}})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:function(e){return t.cancel(1)}}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:function(e){return t.ok(1)}}},[t._v("保存")])],1)]),i("modal",{attrs:{transfer:!1,width:"1000",title:"编辑文字",loading:t.loading,"mask-closable":!1},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[i("div",{staticClass:"dialog-model-content"},[i("i-form",{ref:"formValidateEditOK",attrs:{model:t.formValidateEditOK,rules:t.ruleValidateEditOK},nativeOn:{submit:function(t){t.preventDefault()}}},[i("form-item",{attrs:{label:"",prop:"cont"}},[i("i-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"请输入要添加的内容"},model:{value:t.formValidateEditOK.cont,callback:function(e){t.$set(t.formValidateEditOK,"cont",e)},expression:"formValidateEditOK.cont"}})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:function(e){return t.cancel(2)}}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:function(e){return t.ok(2)}}},[t._v("保存")])],1)]),i("modal",{attrs:{transfer:!1,width:"1000",title:"向上插入文字",loading:t.loading,"mask-closable":!1},model:{value:t.modalInsertUp,callback:function(e){t.modalInsertUp=e},expression:"modalInsertUp"}},[i("div",{staticClass:"dialog-model-content"},[i("i-form",{ref:"formValidateUpOK",attrs:{model:t.formValidateUpOK,rules:t.ruleValidateUpOK},nativeOn:{submit:function(t){t.preventDefault()}}},[i("form-item",{attrs:{label:"",prop:"cont"}},[i("i-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"请输入要添加的内容"},model:{value:t.formValidateUpOK.cont,callback:function(e){t.$set(t.formValidateUpOK,"cont",e)},expression:"formValidateUpOK.cont"}})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:function(e){return t.cancel(3)}}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:function(e){return t.ok(3)}}},[t._v("保存")])],1)]),i("modal",{attrs:{transfer:!1,width:"1000",title:"向下插入文字",loading:t.loading,"mask-closable":!1},model:{value:t.modalInsertDown,callback:function(e){t.modalInsertDown=e},expression:"modalInsertDown"}},[i("div",{staticClass:"dialog-model-content"},[i("i-form",{ref:"formValidateDownOK",attrs:{model:t.formValidateDownOK,rules:t.ruleValidateDownOK},nativeOn:{submit:function(t){t.preventDefault()}}},[i("form-item",{attrs:{label:"",prop:"cont"}},[i("i-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"请输入要添加的内容"},model:{value:t.formValidateDownOK.cont,callback:function(e){t.$set(t.formValidateDownOK,"cont",e)},expression:"formValidateDownOK.cont"}})],1)],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:function(e){return t.cancel(4)}}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:function(e){return t.ok(4)}}},[t._v("保存")])],1)]),t.modalImport?i("modal",{attrs:{transfer:!1,title:"插入图片",loading:t.loading,"mask-closable":!1},model:{value:t.modalImport,callback:function(e){t.modalImport=e},expression:"modalImport"}},[i("div",[i("import-file",{ref:"upImg",attrs:{importPath:t.upUrl}}),t.isShowSpin?i("spin",{attrs:{fix:""}},[t._v("上传中...")]):t._e()],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"xy-modal-close",on:{click:t.UpPhotoCancel}},[t._v("取消")]),i("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.UpPhotoOk}},[t._v("确定")])],1)]):t._e()],1)])},o=[],s=a("1405"),n=s["a"],r=(a("e78b"),a("9ca4")),l=Object(r["a"])(n,i,o,!1,null,"d51b11ee",null);e["default"]=l.exports},"2acf":function(t,e,a){var i=a("28c0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("f3c3c22e",i,!0,{sourceMap:!1,shadowMode:!1})},"2bd3":function(t,e,a){"use strict";(function(t){a("2eeb"),a("513c"),a("fe8a");var i=a("23c4"),o=a.n(i),s=a("e793");e["a"]={name:"XyAntTable",props:{rowSelection:{type:Object},dataSource:{type:Array},columns:{type:Array},nullData:{type:String,default:"该搜索条件下没有结果。"},pagination:{type:Object},tableLoading:{type:Boolean,default:!0},tableTip:{type:String,default:"努力加载中..."},isPage:{type:Boolean,default:!0},isBorder:{type:Boolean,default:!1},tableStyle:{type:Object,default:function(){return{marginTop:""}}},isScroll:{type:Boolean,default:!1},scrollx:{type:[Number,String,Boolean]},scrolly:{type:[Number,Boolean]}},data:function(){return{imgs:a("a453"),scrollText:{},spinStyle:{}}},computed:{xyMedia:function(){return this.$store.state.common.xyMedia}},watch:{xyMedia:{handler:function(t){t&&(this.scrollText=t,this.spinStyle={position:"absolute",paddingTop:t.y/2+"px",height:"100%",zIndex:200,width:"100%",background:"rgba(255,255,255,.5)"})},immediate:!0},isScroll:{handler:function(t){var e=this;t&&(this.windowResize(),window.addEventListener("resize",(function(){e.windowResize()}),!1))},immediate:!0},dataSource:{handler:function(e){t("#scrollWrap").animate({scrollTop:0},600)},immediate:!0}},beforeDestroy:function(){var t=this;window.removeEventListener("resize",(function(){t.windowResize()}),!1)},render:function(){var t=this,e=arguments[0],a=Object(s["a"])({},this.$listeners),i=function(t,e){return t.key&&void 0!==t.key&&null!==t.key?t.key:e},n=Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},this.$attrs),this.$props),{pagination:!!this.isPage&&Object(s["a"])(Object(s["a"])({},this.pagination),{},{showSizeChanger:!0,showTotal:function(t){return"共 ".concat(t," 条")},pageSizeOptions:["15","30","50","100"]}),rowKey:i,scroll:this.isScroll&&this.scrollx?this.scrollText:this.scrolly?{x:null,y:this.scrolly}:!this.isScroll&&this.scrollx?{x:this.scrollx,y:null}:{x:null,y:null}}),{},{bordered:this.isBorder}),r=Object.keys(this.$slots).map((function(a){return e("template",{slot:a},[t.$slots[a]])})),l=e("a-config-provider",[e("a-table",o()([{},{props:n},{attrs:{size:"middle"},scopedSlots:this.$scopedSlots},{on:a}]),[r])]),c=e("div",{class:"table-null",style:this.tableStyle},[e("img",{class:"imgs",attrs:{src:this.imgs,alt:"图片"}}),e("div",{class:"text"},[this.nullData])]);return e("div",{style:"position:relative"},[e("a-spin",{attrs:{spinning:this.tableLoading,tip:this.tableTip},style:this.spinStyle}),this.tableLoading||0!==this.dataSource.length?null:c,this.dataSource.length>0?l:null])},methods:{windowResize:function(){t(window).width()<1367||t(window).width()<1441?this.$store.commit("common/setXyMedia",{x:this.scrollx,y:500}):t(window).width()<1689?this.$store.commit("common/setXyMedia",{x:this.scrollx,y:540}):this.$store.commit("common/setXyMedia",{x:this.scrollx,y:640})}}}}).call(this,a("a336"))},"2e67":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".details[data-v-d51b11ee]{text-align:center;width:176px;height:50px;line-height:50px;background:#fbfbfb;border:1px solid #e8e8e8;border-radius:4px;display:inline-block;margin-right:24px;cursor:pointer}.details[data-v-d51b11ee],.details[data-v-d51b11ee]:hover{-webkit-transition:all .3s;transition:all .3s}.details[data-v-d51b11ee]:hover{border:1px solid #2d8cf0}.details>img[data-v-d51b11ee]{margin-right:14px}.details>span[data-v-d51b11ee]{font-weight:400;color:#999}.disdetails[data-v-d51b11ee],.disdetails[data-v-d51b11ee]:hover{cursor:no-drop;-webkit-transition:all .3s;transition:all .3s}.disdetails[data-v-d51b11ee]:hover{border:1px solid #e8e8e8}.preview[data-v-d51b11ee]{border-radius:4px;border:1px solid #e8e8e8;width:900px;min-height:300px;overflow:auto;margin-left:100px;padding:20px;margin-bottom:24px}.preview>.preview-div[data-v-d51b11ee]{display:block;margin-bottom:13px;background:#fff;-webkit-transition:all .3s;transition:all .3s;padding:13px 9px;cursor:default;position:relative}.preview>.preview-div[data-v-d51b11ee]:hover{-webkit-transition:all .3s;transition:all .3s;background:rgba(0,0,0,.2);color:rgba(51,51,51,.4)}.preview>.preview-div>.fun-box[data-v-d51b11ee]{position:absolute;right:0;top:10px;display:none;-webkit-transition:all .3s;transition:all .3s}.preview>.preview-div:hover>.fun-box[data-v-d51b11ee]{-webkit-transition:all .3s;transition:all .3s;display:block}.preview>.preview-div>.fun-box img[data-v-d51b11ee]{cursor:pointer;margin-right:15px}.select-number[data-v-d51b11ee]{display:inline-block;margin-right:46px}.select-number>span[data-v-d51b11ee]{border-bottom:1px solid #e9e9e9;height:24px;display:inline-block;line-height:24px;width:120px;margin-right:5px}.select-number>.select[data-v-d51b11ee]{color:#999}.select-number>.number[data-v-d51b11ee]{color:#333}.select-number .icon[data-v-d51b11ee]{font-size:18px;margin-left:3px;color:#2196f3;cursor:pointer;line-height:30px;-webkit-transition:all .3s;transition:all .3s}.select-number .icon[data-v-d51b11ee]:hover{-webkit-transition:all .3s;transition:all .3s;color:#177ccc}",""]),t.exports=e},"2ff3":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".mail-main>.mail-topbox[data-v-132fcf19]{text-align:center;border-bottom:1px solid #f1f1f1;height:130px;overflow:hidden}.mail-main>.mail-topbox>.mail-tit[data-v-132fcf19]{font-size:20px;font-weight:700;margin:38px auto 20px;display:block;width:700px;text-align:center}.mail-main>.mail-topbox>.mail-info[data-v-132fcf19]{font-size:14px;font-weight:400;color:#818181;margin-bottom:20px;display:block}.mail-main>.mail-topbox>.mail-info>span[data-v-132fcf19]{margin:0 5px}.mail-main>.mail-cont[data-v-132fcf19]{margin:50px 70px}",""]),t.exports=e},"320c":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".clearfix[data-v-794a6a7a] .leave-list .comm-title>span:first-of-type{text-align:center;margin-right:4px;display:inline-block;min-width:54px;height:24px;border-radius:4px}.clearfix[data-v-794a6a7a] .leave-list .comm-title>span:nth-of-type(2){text-align:left}.clearfix[data-v-794a6a7a] .leave-list .jj>span:first-of-type{background:#fff1f0;border:1px solid #ffa39e;color:#f5222d}.clearfix[data-v-794a6a7a] .leave-list .pt>span:first-of-type{background:#f6ffed;border:1px solid #b7eb8f;color:#52c41a}.details-head[data-v-794a6a7a]{margin-bottom:19px;font-size:16px;font-weight:700;color:#444}.detailModel .ivu-drawer[data-v-794a6a7a]{top:0;margin:0;position:absolute;height:100%;right:0}.detailModel .ivu-drawer-content[data-v-794a6a7a]{height:100%;overflow:auto}.detailModel .approval-card .main-info[data-v-794a6a7a],.detailModel .approval-card .main-info .left[data-v-794a6a7a]{display:-webkit-box;display:-ms-flexbox;display:flex}.detailModel .approval-card .main-info .left[data-v-794a6a7a]{width:50%;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.detailModel .approval-card .main-info .left .avatar[data-v-794a6a7a]{padding:0;padding-right:15px}.detailModel .approval-card .main-info .left .avatar span[data-v-794a6a7a]{display:block;background:#4196ff;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;font-size:18px;color:#fff}.detailModel .approval-card .main-info .left .right[data-v-794a6a7a]{width:50%}.detailModel .approval-card .main-info .left .right img[data-v-794a6a7a]{width:107px;height:110px}.detailModel .approval-card .main-info .left .name-number[data-v-794a6a7a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.detailModel .approval-card .main-info .left .name-number .CreatedByName[data-v-794a6a7a]{font-size:16px;font-weight:400;color:#333}.detailModel .approval-card .main-info .left .name-number .schoolNumber[data-v-794a6a7a]{font-size:16px;font-weight:400;color:#999}.detailModel .approval-card .main-info .DocumentStatusName[data-v-794a6a7a]{margin-top:50px;width:62px;height:25px;border-radius:4px;border:1px solid #f99b31;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#f99b31;font-size:14px}.detailModel .approval-card .main-info>img[data-v-794a6a7a]{position:absolute;right:30px}.detailModel .leave-list[data-v-794a6a7a]{font-size:14px}.detailModel .leave-list .info-item:first-child .title[data-v-794a6a7a]{width:70px;-ms-flex-preferred-size:70px;flex-basis:70px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.detailModel .leave-list .info-item:first-child .content[data-v-794a6a7a]{width:463px}.detailModel .leave-list .info-item[data-v-794a6a7a]{margin-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex}.detailModel .leave-list .info-item .title[data-v-794a6a7a]{color:#999;width:70px;-ms-flex-preferred-size:70px;flex-basis:70px;-ms-flex-negative:0;flex-shrink:0}.detailModel .leave-list .info-item .title-strong[data-v-794a6a7a]{display:block;margin:20px 0;font-size:14px;font-weight:700;color:#333}.detailModel .leave-list .info-item .content[data-v-794a6a7a]{margin-left:10px;word-wrap:break-word;word-break:normal;color:#333;width:438px}.detailModel .leave-list .info-item .icontext[data-v-794a6a7a]{color:#4196ff}.detailModel .leave-list .info-item .iconimg[data-v-794a6a7a]{color:#f1c64e}.detailModel .img-wrap[data-v-794a6a7a]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.detailModel .img-wrap img[data-v-794a6a7a]{width:40%;height:150px}.detailModel .img-wrap img[data-v-794a6a7a]:nth-child(2n){margin-left:20px}.detailModel .manager-part[data-v-794a6a7a]{padding:0 20px}.detailModel .manager-part .approal-title[data-v-794a6a7a]{font-size:16px;font-weight:700}.detailModel .manager-part .approval-group[data-v-794a6a7a]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.detailModel .manager-part .approval-group .ivu-radio-wrapper[data-v-794a6a7a]:after,.detailModel .manager-part .approval-group .ivu-radio-wrapper[data-v-794a6a7a]:before{width:0}.detailModel .manager-part .approval-group .ivu-radio-wrapper[data-v-794a6a7a]{padding:0;width:96px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:4px;font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box}.detailModel .manager-part .approval-group .ivu-radio-wrapper[data-v-794a6a7a]:first-child{color:#5bbb7e;border-color:#5bbb7e}.detailModel .manager-part .approval-group .ivu-radio-wrapper[data-v-794a6a7a]:last-child{color:#dc6e6e;margin-left:30px;border-color:#dc6e6e;border-left:1px solid}.detailModel .manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-794a6a7a]:first-child{background:#5bbb7e;color:#fff}.detailModel .manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-794a6a7a]:last-child{background:#e85555;color:#fff}.detailModel .manager-part label[data-v-794a6a7a]{color:#999;font-size:14px}.detailModel .user-part[data-v-794a6a7a]{padding-left:20px;font-size:14px}.detailModel .user-part h4[data-v-794a6a7a]{color:#999}.detailModel .ivu-drawer-footer[data-v-794a6a7a]{padding-left:40px;text-align:left}.cssIcon-triangle[data-v-794a6a7a]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-794a6a7a]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-794a6a7a]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-794a6a7a]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-794a6a7a]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-794a6a7a]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-794a6a7a]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.demo-upload-list[data-v-794a6a7a]{width:128px;height:80px;overflow:hidden;vertical-align:top;display:inline-block;margin-right:10px;position:relative;cursor:pointer}.demo-upload-list>.demo-upload-list-cover[data-v-794a6a7a]{width:128px;height:80px;background:transparent;position:absolute;top:0;left:0;-webkit-transition:all .3s;transition:all .3s}.demo-upload-list>.demo-upload-list-cover>i[data-v-794a6a7a]{text-align:center;display:block;margin:0 auto;line-height:80px;color:#272626;font-size:20px}.demo-upload-list:hover>.demo-upload-list-cover[data-v-794a6a7a]{-webkit-transition:all .3s;transition:all .3s;background:rgba(0,0,0,.5)}.demo-upload-list:hover>.demo-upload-list-cover i[data-v-794a6a7a]{-webkit-transition:all .3s;transition:all .3s;color:#fff;font-size:30px}.fileWrap[data-v-794a6a7a]{width:425px;overflow:hidden;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.fileWrap>.content[data-v-794a6a7a]{height:46px;background:#f8f8f8;border-radius:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:6px 8px 4px;margin-bottom:8px}.fileR>button[data-v-794a6a7a]{width:62px;height:28px;background:#f8f8f8;border:1px solid #4196ff;border-radius:14px;font-size:14px;font-weight:400;color:#4196ff}.pic[data-v-794a6a7a]{width:18px;height:21px}.fileName[data-v-794a6a7a]{width:293px;font-size:14px;color:rgba(0,0,0,.85);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fileSize[data-v-794a6a7a]{font-size:12px;color:rgba(0,0,0,.45)}.file-content[data-v-794a6a7a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}",""]),t.exports=e},"32c8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAB6UlEQVRIS62Vv4sTQRTHvy9abETUSu8aLcRS7dVCEDux9EcTyGn2zSJETWcjAUEbCy/isW/h3D/DxsPC6u7Uyk4OGyGgeCpe0A0yTwbMEdfMJF4y3S4zn8/7tbMkItcBPASwH7Ndn1T1JonIdwB7Z8vepn11AvXAtwC8ATAP4NhOA/AJnvd6vcutVmvTgdM0rRHRUwC7/lc0SlBYaw8nSfJxGCYiywAWphao6ltjzPEyKMuyBVV1ktBaBTAH4Mhg06gMvhVFcajZbBbDpDRN7xPRHR+diG7FcbyY5/lcv9//MCinrwePmPn2ACYiLqOXgVG+x8x3h/b/ABC559AUrQNYcVOkqpeIqOqJPmfmv3ojIhMJJunns263e7Hdbv8qDcRMBK+q1erZWq3WK0ciIu7dnmCJiGjNWvuEiFxtj5YgG9baU+VRHurBFwAHQgIXwUlm3uh0OvuiKEpV9eofgLtjThtj3vlqKCJhgao2jTGPS2N6jYgeWGsvJEmyFmrQOMGLOI7PEdE/d1Se51G9Xv85rvshwValUjnRaDTej4PsKAMiuhHH8dI0cHfWl8EKM58H4Lu+J/b6BIaZZWJKYKNP4EbzNRHZaSXW2jNEtHvwHWzP7LTgEec/U5ZlV1R1EcDBGQs23U//N1EH9QElKC3hAAAAAElFTkSuQmCC"},"33a3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("WorkFlow",{attrs:{type:t.type,workflowList:t.workflowList},on:{listenWorkflow:t.submitWorkflow,listenClose:t.closeWorkflow}})],1)},o=[],s=a("5412"),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("f02f"),c={name:"ApprovalSettings",components:{WorkFlow:l["a"]},data:function(){return{type:1,workflowList:{}}},created:function(){this.getWorkflowData()},methods:{getWorkflowData:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get(t.$store.state.apiPublic+"/api/WorkFlowSetting/GetStudentLeaveGroupFlow",{workFlowType:1});case 3:a=e.sent,a.success&&(t.workflowList=a.data),t.xy.unloading();case 6:case"end":return e.stop()}}),e)})))()},submitWorkflow:function(t){t&&this.publishFunc()},publishFunc:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.$store.state.apiPublic+"/api/WorkFlowSetting/CreateApprovalTemplate",t.workflowList);case 3:a=e.sent,a.success&&t.xy.msgSuc("审批流发布成功。"),t.xy.unloading();case 6:case"end":return e.stop()}}),e)})))()},closeWorkflow:function(t){t&&this.$router.go(-1)}}},d=c,p=a("9ca4"),f=Object(p["a"])(d,i,o,!1,null,null,null);e["default"]=f.exports},3520:function(t,e,a){var i=a("d23d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("1c8fe52d",i,!0,{sourceMap:!1,shadowMode:!1})},35538:function(t,e,a){var i=a("3c75");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("25060b86",i,!0,{sourceMap:!1,shadowMode:!1})},"38ed":function(t,e,a){"use strict";var i=a("3520"),o=a.n(i);o.a},"3c75":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".flex-flow[data-v-cb25aa6e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=e},"3ff2":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-flex[data-v-1f738802]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=e},"43d8":function(t,e,a){var i=a("d525");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("b65322ee",i,!0,{sourceMap:!1,shadowMode:!1})},4903:function(t,e,a){"use strict";var i=a("2acf"),o=a.n(i);o.a},"491a":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".app-flex[data-v-5610dfbe]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.cursor-p[data-v-5610dfbe]{color:#000;opacity:.65}.app-flex-box[data-v-5610dfbe],.app-flex-box-content[data-v-5610dfbe]{width:290px;height:160px;margin-right:20px;margin-bottom:20px;background:#fff}#file-setting-name[data-v-5610dfbe]{font-weight:700;color:#000;opacity:.85}.app-flex-box[data-v-5610dfbe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px dashed #d9d9d9}.app-flex-box[data-v-5610dfbe]:hover{color:#4196ff;border-color:#4196ff}.app-flex-box:hover div>i[data-v-5610dfbe],.app-flex-box:hover div>span[data-v-5610dfbe]{color:#4196ff}.app-flex-box>div[data-v-5610dfbe]{color:#8c8c8c}.app-flex-box-content[data-v-5610dfbe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;border:1px solid #e9e9e9}.app-flex-box-content .app-flex-box-content-top[data-v-5610dfbe]{-webkit-box-flex:1;-ms-flex:1;flex:1}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex[data-v-5610dfbe]{height:48px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:20px 0 0 20px}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex .app-flex-box-content-top-flex-left[data-v-5610dfbe]{width:48px;height:48px;border-radius:10px;margin-right:18px;background-image:url(/image/seticon.png);background-size:22px;background-position:50%;background-repeat:no-repeat}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex .app-flex-box-content-top-flex-left>i[data-v-5610dfbe]{text-align:center;line-height:48px;display:block;font-size:22px;color:#fff}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex .app-flex-box-content-top-flex-right[data-v-5610dfbe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex .app-flex-box-content-top-flex-right .app-flex-box-content-top-flex-right-top[data-v-5610dfbe]{color:#000;font-size:16px;font-weight:700}.app-flex-box-content .app-flex-box-content-top .app-flex-box-content-top-flex .app-flex-box-content-top-flex-right .app-flex-box-content-top-flex-right-bottom[data-v-5610dfbe]{color:#999;font-size:14px}.app-flex-box-content .app-flex-box-content-bottom[data-v-5610dfbe]{height:48px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#f9fafb;color:#878889}.app-flex-box-content .app-flex-box-content-bottom .app-flex-box-icon[data-v-5610dfbe]{margin-right:10px;color:#878889}.app-flex-box-content .app-flex-box-content-bottom.default[data-v-5610dfbe]{background:rgba(249,250,251,.5);color:rgba(135,136,137,.45)}.app-flex-box-content .app-flex-box-content-bottom.default .app-flex-box-icon[data-v-5610dfbe]{margin-right:10px;color:#e8e8e8}.dele[data-v-5610dfbe]{font-size:16px}.app-flex-box-content .app-flex-box-content-bottom>div[data-v-5610dfbe]{-webkit-box-flex:4;-ms-flex:4;flex:4;text-align:center}.app-flex-box-content .app-flex-box-content-bottom>div.app-split[data-v-5610dfbe]{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;color:#e8e8e8}.app-flex-box-content .app-flex-box-content-bottom .app-flex-box-content-bottom-edit[data-v-5610dfbe]:hover,.app-flex-box-content .app-flex-box-content-bottom .app-flex-box-content-bottom-edit:hover .app-flex-box-icon[data-v-5610dfbe]{color:#4196ff}.app-flex-box-content .app-flex-box-content-bottom .app-flex-box-content-bottom-del[data-v-5610dfbe]:hover,.app-flex-box-content .app-flex-box-content-bottom .app-flex-box-content-bottom-del:hover .app-flex-box-icon[data-v-5610dfbe]{color:#f5222d}.app-flex-text[data-v-5610dfbe]{font-size:16px;margin-left:5px}",""]),t.exports=e},4978:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".btn-foot[data-v-3d788db2]{text-align:center;padding-bottom:30px}",""]),t.exports=e},"49f7":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"titles"},[t._v("审批流程")]),a("div",{staticClass:"content"},[a("ul",{staticClass:"flow-wrapper"},t._l(t.options.workflow,(function(e,i){return a("li",{key:i,staticClass:"flow-item"},[e.ApprovalMemberList.length>0||e.ApprovalCCMemberList.length>0?a("div",{staticClass:"flow-item-line"}):t._e(),"发起人"===e.ApprovalFlowNodeName?a("div",{staticClass:"flow-item-header"},[a("div",{staticClass:"flow-avatar"},[e.ApprovalMemberList[0].Icon&&""!==e.ApprovalMemberList[0].Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.ApprovalMemberList[0].Icon,alt:e.ApprovalMemberList[0].FullName}})]):a("span",{attrs:{title:e.ApprovalMemberList[0].FullName}},[t._v(" "+t._s(t.showName(e.ApprovalMemberList[0].FullName))+" ")])])]):t._e(),"发起人"===e.ApprovalFlowNodeName?a("div",{staticClass:"flow-item-content",class:{hasCC:e.ApprovalCCMemberList.length>0}},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title"},[t._v(" "+t._s(e.ApprovalMemberList[0].FullName)+" ")]),a("div",{staticClass:"flow-content-time"},[t._v(" "+t._s(""!==e.ApprovalMemberList[0].ApprovalDate?t.xy.moment(e.ApprovalMemberList[0].ApprovalDate).format("MM.DD HH:mm"):"")+" ")])]),t._m(0,!0)]):t._e(),"发起人"!==e.ApprovalFlowNodeName&&1===e.ApprovalMemberList.length?a("div",{staticClass:"flow-item-header"},[a("div",{staticClass:"flow-avatar flow-status-icon",class:{"flow-status-icon-pass":"已通过"===e.Status,"flow-status-icon-processing":"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,"flow-status-icon-reject":"已拒绝"===e.Status}},[e.ApprovalMemberList[0].Icon&&""!==e.ApprovalMemberList[0].Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.ApprovalMemberList[0].Icon,alt:e.ApprovalMemberList[0].FullName}})]):a("span",{attrs:{title:e.ApprovalMemberList[0].FullName}},[t._v(" "+t._s(t.showName(e.ApprovalMemberList[0].FullName))+" ")])])]):t._e(),"发起人"!==e.ApprovalFlowNodeName&&1===e.ApprovalMemberList.length?a("div",{staticClass:"flow-item-content",class:{hasCC:e.ApprovalCCMemberList.length>0}},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title"},[t._v(" "+t._s(e.ApprovalMemberList[0].FullName)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isFinished||"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,expression:"item.isFinished || (item.Status === '待审批' && index === options.currentAuditNodeIndex)"}]},[t._v("("+t._s(e.Status)+")")])]),a("div",{staticClass:"flow-content-time"},[t._v(" "+t._s(""!==e.ApprovalMemberList[0].ApprovalDate?t.xy.moment(e.ApprovalMemberList[0].ApprovalDate).format("MM.DD HH:mm"):"")+" ")])]),a("div",{staticClass:"flow-content-body"},[a("div",{staticClass:"flow-content-reason work-break-wrap"},[t._v(" "+t._s(e.ApprovalMemberList[0].Option)+" ")])])]):t._e(),e.ApprovalMemberList.length>1?a("div",{staticClass:"flow-item-header"},[a("div",{staticClass:"flow-avatar flow-status-icon",class:{"flow-status-icon-pass":"已通过"===e.Status,"flow-status-icon-processing":"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,"flow-status-icon-reject":"已拒绝"===e.Status}},[t._v(" "+t._s(t.showName(e.ApprovalFlowNodeName))+" ")])]):t._e(),e.ApprovalMemberList.length>1?a("div",{staticClass:"flow-item-content",class:{hasCC:e.ApprovalCCMemberList.length>0}},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title"},[t._v(" "+t._s(e.ApprovalFlowNodeName)+" "+t._s(e.ApprovalMemberList.length)+" 人 "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isFinished||"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,expression:"item.isFinished || (item.Status === '待审批' && index === options.currentAuditNodeIndex)"}]},[t._v("("+t._s(e.Status)+")")])]),e.isOverviewMode?a("a",{staticClass:"flow-content-btn--showDetail",attrs:{href:"javascript:;"},on:{click:function(a){return t.setStatus_isOverviewMode(e,i,"normal",!1)}}},[t._v("展开 "),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--t2b"})]):a("a",{staticClass:"flow-content-btn--hideDetail",attrs:{href:"javascript:;"},on:{click:function(a){return t.setStatus_isOverviewMode(e,i,"normal",!0)}}},[t._v("收起"),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--b2t"})])]),e.isOverviewMode?a("div",{staticClass:"flow-overview-body"},[a("ul",{staticClass:"flow-overview-list"},[t._l(e.overviewList,(function(e,o){return a("li",{key:o,staticClass:"flow-overview-item"},[a("div",{staticClass:"flow-avatar flow-avatar--small flow-status-bgcolor",class:{"flow-status-bgcolor-pass":"已通过"===e.Status,"flow-status-bgcolor-processing":"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,"flow-status-bgcolor-reject":"已拒绝"===e.Status}},[e.Icon&&""!==e.Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.Icon,alt:e.FullName}})]):a("span",{attrs:{title:e.FullName}},[t._v(" "+t._s(t.showName(e.FullName))+" ")])]),a("p",{staticClass:"flow-overview-name"},[t._v(t._s(e.FullName))])])})),e.ApprovalMemberList.length>5?a("li",{staticClass:"flow-overview-item"},[t._m(1,!0)]):t._e()],2),e.isFinished?a("div",{staticClass:"flow-content-time"},[t._v(" "+t._s(""!==e.lastComplete_time?t.xy.moment(e.lastComplete_time).format("MM.DD HH:mm"):"")+" ")]):t._e()]):a("div",{staticClass:"flow-content-body"},[a("ul",{staticClass:"flow-detail-list"},t._l(e.ApprovalMemberList,(function(e,o){return a("li",{key:o,staticClass:"flow-detail-item"},[a("div",{staticClass:"flow-avatar flow-avatar--small flow-status-bgcolor",class:{"flow-status-bgcolor-pass":"已通过"===e.Status,"flow-status-bgcolor-processing":"待审批"===e.Status&&i===t.options.currentAuditNodeIndex,"flow-status-bgcolor-reject":"已拒绝"===e.Status}},[e.Icon&&""!==e.Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.Icon,alt:e.FullName}})]):a("span",{attrs:{title:e.FullName}},[t._v(" "+t._s(t.showName(e.FullName))+" ")])]),a("div",{staticClass:"flow-detail-wrapper"},[a("div",{staticClass:"flow-detail-header"},[a("div",{staticClass:"flow-content-name"},[t._v(" "+t._s(e.FullName)+" ")]),a("div",{staticClass:"flow-content-time"},[t._v(" "+t._s(""!==e.ApprovalDate?t.xy.moment(e.ApprovalDate).format("MM.DD HH:mm"):"")+" ")])]),a("div",{staticClass:"flow-detail-body"},[a("div",{staticClass:"flow-content-reason work-break-wrap"},[t._v(" "+t._s(e.Option)+" ")])])])])})),0)])]):t._e(),e.ApprovalCCMemberList.length>0?a("div",{staticClass:"flow-item-header flow-CC"},[a("span",{staticClass:"flow-icon-radio"})]):t._e(),e.ApprovalCCMemberList.length>0?a("div",{staticClass:"flow-item-content flow-CC"},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title"},[t._v(" 抄送 "+t._s(e.ApprovalCCMemberList.length)+" 人 ")]),e.isOverviewMode_CC?a("a",{staticClass:"flow-content-btn--showDetail",attrs:{href:"javascript:;"},on:{click:function(a){return t.setStatus_isOverviewMode(e,i,"CC",!1)}}},[t._v("展开 "),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--t2b"})]):a("a",{staticClass:"flow-content-btn--hideDetail",attrs:{href:"javascript:;"},on:{click:function(a){return t.setStatus_isOverviewMode(e,i,"CC",!0)}}},[t._v("收起"),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--b2t"})])]),e.isOverviewMode_CC?a("div",{staticClass:"flow-overview-body"},[a("ul",{staticClass:"flow-overview-list"},[t._l(e.overviewList_CC,(function(e,i){return a("li",{key:i,staticClass:"flow-overview-item"},[a("div",{staticClass:"flow-avatar flow-avatar--small"},[e.Icon&&""!==e.Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.Icon,alt:e.FullName}})]):a("span",{attrs:{title:e.FullName}},[t._v(" "+t._s(t.showName(e.FullName))+" ")])]),a("p",{staticClass:"flow-overview-name"},[t._v(t._s(e.FullName))])])})),e.ApprovalCCMemberList.length>5?a("li",{staticClass:"flow-overview-item"},[t._m(2,!0)]):t._e()],2)]):a("div",{staticClass:"flow-content-body"},[a("ul",{staticClass:"flow-detail-list"},t._l(e.ApprovalCCMemberList,(function(e,i){return a("li",{key:i,staticClass:"flow-detail-item"},[a("div",{staticClass:"flow-avatar flow-avatar--small flow-status-bgcolor"},[e.Icon&&""!==e.Icon?a("div",{staticClass:"flow-avatar-imgWrapper"},[a("img",{attrs:{src:t.mainUrl+e.Icon,alt:e.FullName}})]):a("span",{attrs:{title:e.FullName}},[t._v(" "+t._s(t.showName(e.FullName))+" ")])]),a("div",{staticClass:"flow-detail-wrapper"},[a("div",{staticClass:"flow-detail-header"},[a("div",{staticClass:"flow-content-name"},[t._v(" "+t._s(e.FullName)+" ")])]),a("div",{staticClass:"flow-detail-body"})])])})),0)])]):t._e()])})),0)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-content-body"},[a("div",{staticClass:"flow-content-reason"},[t._v("发起申请")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-avatar flow-avatar--small"},[a("span",{staticClass:"flow-avatar-ellipsis"},[t._v("...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-avatar flow-avatar--small"},[a("span",{staticClass:"flow-avatar-ellipsis"},[t._v("...")])])}],s=(a("2eeb"),a("77ad"),{name:"WorkflowApproval",props:{workflow:Array},data:function(){return{info:"",type:0,DetailParameter:"",LeaveApplicationID:0,ServiceDoMainName:"",disLook:!1,detailInfo:{},dataNews:"您还没有审批流程的信息，请设置审批流程。",code:"",ApprovalFlowNodes:"",approvalData:{Option:"",currentNode:void 0,TeacherApplicationID:void 0},Status:"",Option:"",imgName:"",mInfo:!1,visible:!1,ApplicationState:"",DeniedDescription:"",options:{currentAuditNodeIndex:-1,workflow:[]},mainUrl:this.xyApi+"/base"}},computed:{worflowList:function(){return this.workflow},userID:function(){return this.$store.state.common.userBaseInfo.UserID}},watch:{worflowList:{handler:function(t){t.length>0&&this.changeWorkflow(t)},immediate:!0}},methods:{changeWorkflow:function(t){var e=this,a=0;this.options.currentAuditNodeIndex=-1,t.map((function(t,i){var o;void 0===t.isOverviewMode&&(t.isOverviewMode=!0),void 0===t.isOverviewMode_CC&&(t.isOverviewMode_CC=!0),t.overviewList=[],t.isFinished=!1,t.currentAuditNode=!1,t.lastComplete_time=void 0,t.lastComplete_status=void 0,t.IsComplete?(a=i,t.isFinished=!0):"已拒绝"===t.Status?t.isFinished=!0:"待审批"===t.Status&&a+1===i&&(t.currentAuditNode=!0,e.options.currentAuditNodeIndex=i),t.ApprovalMemberList.map((function(a,i){if((i<4||5===t.ApprovalMemberList.length)&&t.overviewList.push(a),t.isFinished&&"待审批"!==a.Status)if("或签"===t.ApprovalFlowNodeName)t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status;else if("会签"===t.ApprovalFlowNodeName)if(void 0===o)o=a.ApprovalDate;else{var s=new Date(o),n=new Date(a.ApprovalDate);n>s?(t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status):(t.lastComplete_time=o,t.lastComplete_status=a.Status)}t.isFinished||void 0===e.approvalData.currentNode&&"发起人"!==t.ApprovalFlowNodeName&&(e.approvalData.currentNode=t,e.$store.commit("common/getCurentNode",t),t.ApprovalMemberList.map((function(t,a){t.UserID===e.userID&&t.Status})))})),t.overviewList_CC=[],t.ApprovalCCMemberList.map((function(e,a){(a<4||5===t.ApprovalCCMemberList.length)&&t.overviewList_CC.push(e)}))})),this.$set(this,"detailInfo",t),this.options.workflow=t},showName:function(t){if(null!=t)return/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>2?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2))},setStatus_isOverviewMode:function(t,e,a,i){"normal"===a?t.isOverviewMode=i:"CC"===a?t.isOverviewMode_CC=i:t.isOverviewMode=i,this.$set(this.worflowList,e,t)}}}),n=s,r=(a("4903"),a("9ca4")),l=Object(r["a"])(n,i,o,!1,null,"075dce94",null);e["a"]=l.exports},"4c8f":function(t,e,a){"use strict";var i=a("1292"),o=a.n(i);o.a},"4e83":function(t,e,a){var i=a("2ff3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("274db3f3",i,!0,{sourceMap:!1,shadowMode:!1})},"502e":function(t,e,a){"use strict";var i=a("1c00"),o=a.n(i);o.a},5069:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module",attrs:{id:"XyContentModuleReplace"}},[t.isInitial?a("div",{attrs:{id:"xy-initialize-breadcrumb"}}):a("div",{staticClass:"xy-crumbs clearfix",attrs:{id:"GroupBreadcrumb"}},[a("div",{staticClass:"xy-crumbs-box fl"},[t._m(0),a("span",{staticClass:"pr"},[a("span",{staticClass:"xy-crumbs-icon"},[t._v("/")]),a("a",{staticClass:"xy-crumbs-name",attrs:{"data-auto":"loadPageTemp","data-url":"","data-index":"1","data-pid":"23"},on:{click:t.ReturnClick}},[t._v("消息")])]),t._m(1)])]),a("div",{staticClass:"xy-content-title flex-flow"},[a("div",{staticClass:"fl"},[a("radio-group",{attrs:{type:"button"},on:{"on-change":t.changeTableType},model:{value:t.tableType,callback:function(e){t.tableType=e},expression:"tableType"}},[a("Radio",{attrs:{label:"approval"}},[t._v("审批")]),a("Radio",{attrs:{label:"cc"}},[t._v("抄送")])],1)],1),a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"mr-15"},[a("span",[t._v("种类：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.typeValueSearch},model:{value:t.approvalStatus,callback:function(e){t.approvalStatus=e},expression:"approvalStatus"}},t._l(t.approvalValue,(function(e){return a("i-option",{key:e.approvalID,attrs:{value:e.approvalID}},[t._v(" "+t._s(e.approvalName)+" ")])})),1)],1),a("div",[a("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"250px"},attrs:{search:"",placeholder:"请输入申请人/主题"},on:{"on-search":t.FromSubmit},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.data,nullData:t.nullData,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:"max-content"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"Icon",fn:function(e,i){return a("div",{},[i.Icon?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:t.xyApi+"/base"+i.Icon+"?"+15*Math.random()}}):a("div",{class:"head-con "+("男"===i.Sex?"man":"woman")},[a("span",{staticClass:"head-font"},[t._v(" "+t._s(t.xy.showName(i.FullName))+" ")])])])}},{key:"FullName",fn:function(e,i){return a("div",{},[a("span",[t._v(" "+t._s(i.FullName)+" ")])])}},{key:"OfficialDocTheme",fn:function(e,i){return a("div",{staticStyle:{"min-width":"350px"}},[a("span",{staticClass:"table-el-hover",on:{click:function(e){return t.viewDetail(i)}}},[t._v(" 主题："+t._s(i.OfficialDocTheme)+"， 公文种类："+t._s(i.OfficialDocTypeName)+" ")])])}},{key:"StatusDescible",fn:function(e,i){return a("span",{},[0===i.Status?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),1===i.Status?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),2===i.Status?a("span",[a("i",{staticClass:"iconfont icon-success"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),3===i.Status?a("span",[a("i",{staticClass:"iconfont icon-error"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),4===i.Status?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.viewDetail(i)}}},[t._v("详情")])])}}])},[a("div",{attrs:{slot:"OfficialType"},slot:"OfficialType"},[t._v(" 公文审批 ")])])],1),a("Drawer",{attrs:{width:"560",transfer:!1,"mask-closable":!1},model:{value:t.mInfo,callback:function(e){t.mInfo=e},expression:"mInfo"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[t._v(t._s(t.rows.FullName)+"提交的公文")])]),a("div",{staticClass:"drawer"},[t.mInfo?a("div",{attrs:{id:"DrawerDetails"}},[a("DetailsLook",{attrs:{row:t.rows,type:t.type,tableType:t.tableType},on:{loadTable:t.loadTable}})],1):t._e()])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"main"},[a("a",{staticClass:"xy-crumbs-name",attrs:{href:"javascript:void(0)"}},[t._v("主页")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pr"},[a("span",{staticClass:"xy-crumbs-icon"},[t._v("/")]),a("a",{staticClass:"xy-crumbs-name",attrs:{"data-auto":"loadPageTemp","data-url":"","data-index":"1","data-pid":"23"}},[t._v("消息处理")])])}],s=a("5412"),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("eb31"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xy-content-module",attrs:{id:"DrawerDetails"}},[i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-top"},[i("div",{staticClass:"person clearfix"},[""===t.detail.Icon?i("span",{staticClass:"left fl"},[t._v(t._s(t.xy.showName(t.detail.FullName)))]):i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",float:"left"},attrs:{src:t.imgurl+t.detail.Icon,alt:""}}),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.detail.FullName))]),i("div",{},[t._v(t._s(t.detail.StatusDescible))])])]),i("div",{staticClass:"officeStatus"},[2===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("0c29")}}):3===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("b1c2")}}):4===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("9810")}}):5===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("80c4")}}):t._e()])]),i("div",{staticClass:"detail-con"},[i("div",[i("span",[t._v("主题：")]),i("div",[t._v(t._s(t.detail.OfficialDocTheme))])]),i("div",[i("span",[t._v("公文标题：")]),i("div",[t._v(t._s(t.detail.OfficialDocTitle))])]),i("div",[i("span",[t._v("公文种类：")]),i("div",[t._v(t._s(t.detail.OfficialDocTypeName))])]),i("div",[i("span",[t._v("秘密等级：")]),i("div",[t._v(t._s(t.detail.OfficialDocSecretLevelName))])]),i("div",[i("span",[t._v("紧急程度：")]),i("div",[t._v(t._s(t.detail.OfficialDocEmergencyLevelName))])]),i("div",[i("span",[t._v("发文机关：")]),i("div",[t._v(t._s(t.detail.FromOffice))])]),i("div",[i("span",[t._v("发文字号：")]),i("div",[t._v(t._s(t.detail.IssueNumber))])]),i("div",[i("span",[t._v("发文内容：")]),i("div",t._l(t.detail.List,(function(e,a){return i("div",{key:a,staticClass:"office-info"},[i("span",{staticClass:"nowrap"},[t._v(t._s(e.FileName))]),i("i-button",{attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return t.downLoad(e)}}},[t._v(" 下载 ")])],1)})),0)]),i("div",[i("span",[t._v("附注：")]),i("div",[t._v(t._s(t.detail.Remark))])]),t.detail.IsArchive?i("div",[i("span",[t._v("归档日期：")]),i("div",{},[t._v(" "+t._s(this.xy.moment(t.detail.LastModifyByDate).format("YYYY-MM-DD HH:mm:ss"))+" ")])]):t._e()]),i("WorkflowApproval",{attrs:{workflow:t.workflow}}),"cc"!=t.coper&&!0===t.detail.JudgeCanOperation?i("div",{staticClass:"detail-approval"},[i("Form",{ref:"caseForm",staticClass:"edit-form",attrs:{"label-position":"top"}},[i("FormItem",{attrs:{label:"审批意见",prop:"caseName",labelFor:"approvalValue"}},[i("i-input",{attrs:{elementId:"approvalValue",type:"textarea",maxlength:"100"},model:{value:t.approvalValue,callback:function(e){t.approvalValue=e},expression:"approvalValue"}})],1)],1)],1):t._e(),"cc"!=t.coper&&!0===t.detail.JudgeCanOperation?i("div",{staticClass:"bottom-btn"},[i("Button",{staticClass:"xy-btn-primary",staticStyle:{"margin-right":"30px"},attrs:{shape:"circle",loading:t.isShowSpin},on:{click:function(e){return t.approvalFun(2)}}},[t._v(" 同意 ")]),i("Button",{staticClass:"xy-danger",staticStyle:{"margin-right":"30px","min-width":"90px",height:"36px"},attrs:{shape:"circle",loading:t.isShowSpin},on:{click:function(e){return t.approvalFun(3)}}},[t._v(" 拒绝 ")])],1):t._e()],1)])},d=[],p=(a("fe59"),a("77ad"),a("e35a"),a("0d7a"),a("08ba"),a("49f7")),f={props:["row","tableType","type"],components:{WorkflowApproval:p["a"]},data:function(){return{imgurl:this.xyApi+"/base",isShowSpin:!1,officeId:-1,workflow:[],approvalValue:"",detail:{},approvalData:{ApprovalFlowNodeID:void 0},coper:"",info:"",ServiceDoMainName:this.xy.subMenuServiceUrl,WebDoMainName:this.xy.subMenuWebUrl,mInfo:!1}},created:function(){this.mInfo=!0;var t=this;console.log(this.type),0===t.type||t.getRows()},mounted:function(){},methods:{getRows:function(){var t=this;t.coper=t.tableType,this.officeId=this.row.OfficialDocID,this.getDetail()},getDetail:function(){var t=this;this.xy.loading();var e=this,a={ID:e.officeId};e.xy.get("".concat(e.$store.state.apiPath,"/api/OfficialDocument/GetByID"),a).then((function(a){if(e.xy.unloading(),a.success){var i=a.data;t.workflow=i.ApprovalFlow;var o=0;i.currentAuditNodeIndex=-1,i.ApprovalFlow.forEach((function(t,a){console.log(t),t.isOverviewMode=!0,t.overviewList=[],t.isFinished=!1,t.currentAuditNode=!1,t.lastComplete_time=void 0,t.lastComplete_status=void 0,t.IsComplete?(o=a,t.isFinished=!0):"已拒绝"===t.Status?t.isFinished=!0:"待审批"===t.Status&&o+1===a&&(t.currentAuditNode=!0,i.currentAuditNodeIndex=a,console.log(i.currentAuditNodeIndex));var s="";t.ApprovalMemberList.forEach((function(a,i){if(console.log(t.isFinished,t),(i<4||5===t.ApprovalMemberList.length)&&t.overviewList.push(a),t.isFinished&&"待审批"!==a.Status)if("或签"===t.ApprovalFlowNodeName)t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status;else if("会签"===t.ApprovalFlowNodeName)if(void 0===s)s=a.ApprovalDate;else{var o=new Date(s),n=new Date(a.ApprovalDate);n>o&&(t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status)}t.isFinished||void 0===e.approvalData.ApprovalFlowNodeID&&"发起人"!==t.ApprovalFlowNodeName&&(console.log(t),e.approvalData.ApprovalFlowNodeID=t.ApprovalFlowNodeID)})),t.isOverviewMode_CC=!0,t.overviewList_CC=[],t.ApprovalCCMemberList.forEach((function(e,a){(a<4||5===t.ApprovalCCMemberList.length)&&t.overviewList_CC.push(e)}))})),e.detail=i}}))},setStatus_isOverviewMode:function(t,e,a,i){"normal"===a?t.isOverviewMode=i:"CC"===a?t.isOverviewMode_CC=i:t.isOverviewMode=i,this.$set(this.detailInfo.ApprovalFlow,e,t)},showName:function(t){return/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>3?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2))},xyFormatDate:function(t,e){return e=e||"MM.dd HH:mm",t?this.xy.moment(t).format("MM.DD HH:mm"):""},downLoad:function(t){var e=this;console.log(t);var a=t.VirtualPath,i=a.split(".");a=a.split(".")[0].slice(-14),a=i[0].slice(-14)+"."+i[1],console.log(a),e.xy.downFile("".concat(e.$store.state.apiPath,'/api/OfficialDocument/DownLoadFile"'),{FileName:t.FileName,file:a})},approvalFun:function(t){var e=this;this.xy.loading();var a=this,i={ApprovalFlowID:a.detail.ApprovalFlowID,ApprovalFlowNodeID:a.approvalData.ApprovalFlowNodeID,Option:a.approvalValue,Status:t,OfficialDocID:a.officeId};a.xy.post("".concat(a.$store.state.apiPath,"/api/OfficialDocument/SaveApprovalBranchStatus"),i).then((function(t){e.xy.unloading(),t.success&&(0===a.type||a.back(),a.mInfo=!1,a.xy.msgSuc("审批成功。"))}))},back:function(){this.$emit("loadTable")}}},u=f,m=(a("f700"),a("9ca4")),h=Object(m["a"])(u,c,d,!1,null,"79620c2d",null),v=h.exports,x={name:"OfficialApproval",components:{XyAntTable:l["a"],DetailsLook:v},data:function(){var t=this;return{row:{},typeAll:[],mInfo:!1,searchName:"",approvalStatus:-1,approvalValue:[{approvalID:-1,approvalName:"所有状态"},{approvalID:0,approvalName:"待审批"},{approvalID:1,approvalName:"审批中"},{approvalID:2,approvalName:"已通过"},{approvalID:3,approvalName:"已拒绝"},{approvalID:4,approvalName:"已收回"}],tableLoading:!0,nullData:"该搜索条件下没有结果。",pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}},columns:[{title:"",width:50,dataIndex:"Icon",scopedSlots:{customRender:"Icon"},className:"table-pic"},{title:"申请人",width:140,dataIndex:"FullName",scopedSlots:{customRender:"FullName"}},{title:"审批类型",width:120,dataIndex:"",scopedSlots:{customRender:"OfficialType"}},{title:"摘要",dataIndex:"OfficialDocTheme",scopedSlots:{customRender:"OfficialDocTheme"}},{title:"申请时间",dataIndex:"CreatedByStrDate",width:180},{title:"状态",dataIndex:"StatusDescible",width:100,scopedSlots:{customRender:"StatusDescible"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}],data:[],tableType:"approval",isInitial:!0,type:"",info:"",ServiceDoMainName:this.xy.subMenuServiceUrl,WebDoMainName:this.xy.subMenuWebUrl,rows:{}}},watch:{isInitial:{deep:!0,handler:function(t,e){console.log(t),this.isInitial=t}}},created:function(){this.getType(),this.loadTable()},methods:{handleTableChange:function(){this.getData()},getType:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocType/GetAll")).then((function(e){t.typeAll=e.data.data}))},changeTableType:function(t){this.pagination.current=1,this.tableType=t,"cc"===t?this.getCCTableList():this.loadTable()},getData:function(){"cc"===this.tableType?this.getCCTableList():this.loadTable()},getCCTableList:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a,i;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,a={pageIndex:t.pagination.current,pageSize:t.pagination.pageSize,searchText:t.searchName,status:t.approvalStatus,emergencyID:t.officeUrgentId,secretID:t.officeLevelId,typeID:-1},e.next=4,t.xy.get(t.$store.state.apiPath+"/api/OfficialDocument/GetCCRecordByPage",a);case 4:i=e.sent,i.success&&(t.data=i.data.data,t.pagination.total=i.data.totalRecords),t.tableLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},loadTable:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a,i;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.mInfo=!1,t.tableLoading=!0,a={pageIndex:t.pagination.current,pageSize:t.pagination.pageSize,searchText:t.searchName,status:t.approvalStatus,emergencyID:t.officeUrgentId,secretID:t.officeLevelId,typeID:-1},e.next=5,t.xy.get(t.$store.state.apiPath+"/api/OfficialDocument/GetApprovalRecordByPage",a);case 5:i=e.sent,i.success&&(t.data=i.data.data,t.pagination.total=i.data.totalRecords),t.tableLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},typeValueSearch:function(){this.pagination.current=1,"cc"===this.tableType?this.getCCTableList():this.loadTable()},FromSubmit:function(){this.pagination.current=1,"cc"===this.tableType?this.getCCTableList():this.loadTable()},viewDetail:function(t){this.mInfo=!0,this.rows=t,this.type=1}}},b=x,g=(a("885f"),Object(m["a"])(b,i,o,!1,null,"507d9870",null));e["default"]=g.exports},5214:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module",attrs:{id:"XyContentModuleReplace"}},[a("div",{staticClass:"xy-content-title  flex-flow"},[a("div",{staticClass:"fl"},[a("i-button",{attrs:{type:"primary"},on:{click:t.creat}},[t._v("发起")])],1),a("div",{staticClass:"fr pr",staticStyle:{float:"right"}},[a("span",{staticClass:"ml-15"},[t._v("种类：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.typeAllSearch},model:{value:t.officeTypeId,callback:function(e){t.officeTypeId=e},expression:"officeTypeId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有种类")]),t._l(t.typeAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2),a("span",{staticClass:"ml-15"},[t._v("密级：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.levelAllSearch},model:{value:t.officeLevelId,callback:function(e){t.officeLevelId=e},expression:"officeLevelId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有密级")]),t._l(t.levelAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2),a("span",{staticClass:"ml-15"},[t._v("紧急程度：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.urgentAllSearch},model:{value:t.officeUrgentId,callback:function(e){t.officeUrgentId=e},expression:"officeUrgentId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有紧急程度")]),t._l(t.urgentAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2),a("span",{staticClass:"ml-15"},[t._v("状态：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.typeValueSearch},model:{value:t.approvalStatus,callback:function(e){t.approvalStatus=e},expression:"approvalStatus"}},t._l(t.approvalValue,(function(e){return a("i-option",{key:e.approvalID,attrs:{value:e.approvalID}},[t._v(t._s(e.approvalName))])})),1),a("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"250px",margin:"0 15px"},attrs:{search:"",placeholder:"请输入主题"},on:{"on-search":t.FromSubmit},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.data,nullData:t.nullData,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:"max-content"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"OfficialDocTheme",fn:function(e,i){return a("div",{staticStyle:{"min-width":"200px"}},[a("span",{staticClass:"table-el-hover",on:{click:function(e){return t.viewDetail(i)}}},[t._v(" "+t._s(e)+" ")])])}},{key:"StatusDescible",fn:function(e,i){return a("span",{},[0===i.Status?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),1===i.Status?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),2===i.Status?a("span",[a("i",{staticClass:"iconfont icon-success"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),3===i.Status?a("span",[a("i",{staticClass:"iconfont icon-error"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e(),4===i.Status?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.StatusDescible))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.viewDetail(i)}}},[t._v("详情")])])}}])})],1),a("Drawer",{attrs:{width:"560",transfer:!1,"mask-closable":!1},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[t._v(t._s(t.row.FullName)+"提交的公文")])]),a("div",{staticClass:"drawer"},[t.showDetail?a("div",{attrs:{id:"DrawerDetails"}},[a("DetailLook",{attrs:{row:t.row},on:{loadTable:t.loadTable}})],1):t._e()])])],1)},o=[],s=a("5412"),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("eb31"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"DrawerDetails"}},[i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-top"},[i("div",{staticClass:"person clearfix"},[""===t.detail.Icon?i("span",{staticClass:"left fl"},[t._v(t._s(t.xy.showName(t.detail.FullName)))]):i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",float:"left"},attrs:{src:t.imgUrl+t.detail.Icon,alt:""}}),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.detail.FullName))]),i("div",{},[t._v(t._s(t.detail.StatusDescible))])])]),i("div",{staticClass:"officeStatus"},[2===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("0c29")}}):3===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("b1c2")}}):4===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("9810")}}):t._e()])]),i("div",{staticClass:"detail-con"},[i("div",[i("span",[t._v("主题：")]),i("div",[t._v(t._s(t.detail.OfficialDocTheme))])]),i("div",[i("span",[t._v("公文标题：")]),i("div",[t._v(t._s(t.detail.OfficialDocTitle))])]),i("div",[i("span",[t._v("公文种类：")]),i("div",[t._v(t._s(t.detail.OfficialDocTypeName))])]),i("div",[i("span",[t._v("秘密等级：")]),i("div",[t._v(t._s(t.detail.OfficialDocSecretLevelName))])]),i("div",[i("span",[t._v("紧急程度：")]),i("div",[t._v(t._s(t.detail.OfficialDocEmergencyLevelName))])]),i("div",[i("span",[t._v("发文机关：")]),i("div",[t._v(t._s(t.detail.FromOffice))])]),i("div",[i("span",[t._v("发文字号：")]),i("div",[t._v(t._s(t.detail.IssueNumber))])]),i("div",[i("span",[t._v("发文内容：")]),i("div",t._l(t.detail.List,(function(e,a){return i("div",{key:a,staticClass:"office-info"},[i("span",{staticClass:"nowrap"},[t._v(t._s(e.FileName))]),i("i-button",{attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return t.downLoad(e)}}},[t._v("下载")])],1)})),0)]),i("div",[i("span",[t._v("附注：")]),i("div",[t._v(t._s(t.detail.Remark))])]),t.detail.IsArchive?i("div",[i("span",[t._v("归档日期：")]),i("div",{},[t._v(t._s(this.xy.moment(t.detail.LastModifyByDate).format("YYYY-MM-DD HH:mm:ss")))])]):t._e()]),i("WorkflowApproval",{attrs:{workflow:t.workflow}}),i("div",{staticClass:"detail-con"},[i("div",[i("span",[t._v("审批结果：")]),i("div",[t._v(" "+t._s(t.detail.StatusDescible)+" ")])])]),i("div",{staticClass:"bottom-btn"},[0===t.detail.Status||1===t.detail.Status?i("Button",{staticClass:"xy-btn-primary",staticStyle:{"margin-right":"30px"},attrs:{shape:"circle",loading:t.isShowSpin},on:{click:t.takeBack}},[t._v(" 收回 ")]):t._e()],1)],1)])},d=[],p=(a("fe59"),a("77ad"),a("e35a"),a("0d7a"),a("08ba"),a("49f7")),f={components:{WorkflowApproval:p["a"]},props:["row"],data:function(){return{imgUrl:this.xyApi+"/base",detailInfo:{},isShowSpin:!1,officeId:-1,detail:[],workflow:[],approvalData:{ApprovalFlowNodeID:void 0}}},created:function(){this.getRows()},mounted:function(){},methods:{getRows:function(){this.getDetail()},getDetail:function(){var t=this;this.xy.loading();var e=this,a={ID:e.row.OfficialDocID};e.xy.get("".concat(e.$store.state.apiPath,"/api/OfficialDocument/GetByID"),a).then((function(a){if(t.xy.unloading(),a.success){var i=a.data;t.workflow=i.ApprovalFlow,console.log(i);var o=0;i.currentAuditNodeIndex=-1,i.ApprovalFlow.forEach((function(t,e){console.log(t),t.isOverviewMode=!0,t.overviewList=[],t.isFinished=!1,t.currentAuditNode=!1,t.lastComplete_time=void 0,t.lastComplete_status=void 0,t.IsComplete?(o=e,t.isFinished=!0):"已拒绝"===t.Status?t.isFinished=!0:"待审批"===t.Status&&o+1===e&&(t.currentAuditNode=!0,i.currentAuditNodeIndex=e);var a="";t.ApprovalMemberList.forEach((function(e,i){if((i<4||5===t.ApprovalMemberList.length)&&t.overviewList.push(e),t.isFinished&&"待审批"!==e.Status)if("或签"===t.ApprovalFlowNodeName)t.lastComplete_time=e.ApprovalDate,t.lastComplete_status=e.Status;else if("会签"===t.ApprovalFlowNodeName)if(void 0===a)a=e.ApprovalDate;else{var o=new Date(a),s=new Date(e.ApprovalDate);s>o&&(t.lastComplete_time=e.ApprovalDate,t.lastComplete_status=e.Status)}t.isFinished})),t.isOverviewMode_CC=!0,t.overviewList_CC=[],t.ApprovalCCMemberList.forEach((function(e,a){(a<4||5===t.ApprovalCCMemberList.length)&&t.overviewList_CC.push(e)}))})),e.detail=i}}))},showName:function(t){return/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>3?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2))},xyFormatDate:function(t,e){return e=e||"MM.dd HH:mm",t?this.xy.moment(t).format("MM.DD HH:mm"):""},setStatus_isOverviewMode:function(t,e,a,i){"normal"===a?t.isOverviewMode=i:"CC"===a?t.isOverviewMode_CC=i:t.isOverviewMode=i,this.$set(this.detailInfo.ApprovalFlow,e,t)},downLoad:function(t){var e=this;console.log(t);var a=t.VirtualPath,i=a.split(".");a=a.split(".")[0].slice(-14),a=i[0].slice(-14)+"."+i[1],console.log(a),e.xy.downFile("".concat(e.$store.state.apiPath,'/api/OfficialDocument/DownLoadFile"'),{FileName:t.FileName,file:a})},takeBack:function(){var t=this;this.$Modal.confirm({title:"收回",content:"<p>您确定要收回此公文吗？</p>",onOk:function(){var e={OfficialDocID:t.row.OfficialDocID,ApprovalFlowID:t.row.ApprovalFlowID};t.isShowSpin=!0,t.xy.post("".concat(t.$store.state.apiPath,"/api/OfficialDocument/RecoverOperation"),e).then((function(e){t.isShowSpin=!1,e.success&&(t.xy.msgSuc("收回成功。"),t.ReturnClick())}))}})},ReturnClick:function(){this.$emit("loadTable")}}},u=f,m=(a("4c8f"),a("9ca4")),h=Object(m["a"])(u,c,d,!1,null,"66ad24fe",null),v=h.exports,x={name:"Manage",components:{XyAntTable:l["a"],DetailLook:v},data:function(){var t=this;return{txt:"该搜索条件下没有结果。",tableUrl:"",tbData:{},row:{},nullData:"该搜索条件下没有结果。",pageIndex:1,pageSize:15,username:"",officeTypeId:-1,officeLevelId:-1,officeUrgentId:-1,typeAll:[],levelAll:[],urgentAll:[],showDetail:!1,moment:this.xy.moment,searchName:"",approvalStatus:-1,approvalValue:[{approvalID:-1,approvalName:"所有状态"},{approvalID:0,approvalName:"待审批"},{approvalID:1,approvalName:"审批中"},{approvalID:2,approvalName:"已通过"},{approvalID:3,approvalName:"已拒绝"},{approvalID:4,approvalName:"已收回"}],data:[],tableLoading:!0,pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}},columns:[{title:"主题",dataIndex:"OfficialDocTheme",scopedSlots:{customRender:"OfficialDocTheme"}},{title:"公文种类",dataIndex:"OfficialDocTypeName",width:180},{title:"秘密等级",dataIndex:"OfficialDocSecretLevelName",width:160},{title:"紧急程度",dataIndex:"OfficialDocEmergencyLevelName",width:160},{title:"发起时间",dataIndex:"CreatedByStrDate",width:160},{title:"状态",dataIndex:"StatusDescible",width:100,scopedSlots:{customRender:"StatusDescible"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}]}},created:function(){this.GetUserInfo(),this.getType(),this.getLevel(),this.getUrgent(),this.loadTable()},mounted:function(){},methods:{handleTableChange:function(){this.loadTable()},GetUserInfo:function(){var t=this;this.xy.get("".concat(t.xyApi,"/base/api/Users/GetUserInfo")).then((function(e){e.success&&(t.username=e.data.FullName+" 提交的公文")}))},getType:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocType/GetAll")).then((function(e){t.typeAll=e.data}))},getLevel:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocSecretLevel/GetAll")).then((function(e){t.levelAll=e.data}))},getUrgent:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocEmergencyLevel/GetAll")).then((function(e){t.urgentAll=e.data}))},loadTable:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a,i;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showDetail=!1,t.tableLoading=!0,a={pageIndex:t.pagination.current,pageSize:t.pagination.pageSize,searchText:t.searchName,status:t.approvalStatus,emergencyID:t.officeUrgentId,secretID:t.officeLevelId,typeID:t.officeTypeId},e.next=5,t.xy.get(t.$store.state.apiPath+"/api/OfficialDocument/GetMyRecordByPage",a);case 5:i=e.sent,i.success&&(t.data=i.data.data,t.pagination.total=i.data.totalRecords),t.tableLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},typeAllSearch:function(){this.pagination.current=1,this.loadTable()},levelAllSearch:function(){this.pagination.current=1,this.loadTable()},urgentAllSearch:function(){this.pagination.current=1,this.loadTable()},typeValueSearch:function(){this.pagination.current=1,this.loadTable()},FromSubmit:function(){this.pagination.current=1,this.loadTable()},creat:function(){this.$router.push({path:"/xyHome/OaCreatManage",query:this.$store.state.common.menuInfo})},viewDetail:function(t){this.row=t,this.showDetail=!0}}},b=x,g=(a("9a80"),Object(m["a"])(b,i,o,!1,null,"cb25aa6e",null));e["default"]=g.exports},"54b9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACIUlEQVQ4T62UXUiTURjHf2eubfpuVsKwTaEoQsHaho0guui7oJvyIhZohFD2cddNdtV1dNNVX0YMAi2M6AOK7Iu6CmSZa2lTu8iQaW3U0qkbrp04b5u82qwLO3eH8zw/nuf//J8j+A9HFGNIKT3AMWA7sCof8wl4AbQJIcLGvDkQKaUNuAC0AKYFiswpEHBKCJFWMbMQKWUp8BDYlslluRF7S+dYhL7JBGZhoqasggOV6zhcVY/VZFa5L4G9QohpI+QycHw0PU5j5Da9qS9FC1mvObnlCeCylav3K0KIEzpESukFejK5rGlPKMi7yfhf5fZoTrr8zaoi1Vp9AXIROHltpJvWoWcLAlZYNK7XNdA6+JhDbh9Hqzeq2EsFyAegdlcoyJuJUR2ilSwhncvyU0r97rbYue9rYo1WwevkZ85+fM5Tf7N6ihYgSmWr+9V5PdFeYuGO9yCxzDhH+h/gsmjc8zWxumw5g6kE+8PtJLMZYltOK0imKMTvcHHX14hmttCVGKJWc7KydBnRVJx9ve3EZ6awmcx/QKJAjbGdzUur6fAEcJitejv9E1/1ChIz0/p9g8NVaGdgjrBtI92cMQi7qbyKm94Aw1NJGsIdfMvq3tLPubU7aZkn7OyId4eCRAwj9tkrGU7/4LsBoLzyZP6I815ZnNnyEGX7R8DW37bvoXPsPX35quo0579tnwctbgGNNs2vgdrkHUW+gqvzv4JfBv/7Ib/8ijoAAAAASUVORK5CYII="},5885:function(t,e,a){"use strict";var i=a("b630"),o=a.n(i);o.a},"5a74":function(t,e,a){"use strict";var i=a("750c4"),o=a.n(i);o.a},"5acb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAD9klEQVRIS5WWX4iUVRjGf+/5tsVqrWgvvKwLdwWhYmb2T4S7GkQWIpKkRAS7O6OQQV6Y1ioEq11kgqsXXgUbXRgoC5EXYYHT2ori5hZ0oWhr90pg0ErI/pkT3znfOd/5vpmd2QaWmdmZeZ/3ed7n/SO0eGgQ9vdvQXgTJa8QSRdKnkUJRPIAkTkU16B2kaNXL4ugm4WUlT7UYyj+6hlGolEUXShAhATIPsd/cQQLHj/PEenjLE5/LWPUGsVuCKj39nXTps8i9PrALrgNbMHN6wTQvTcJMEtNvSefTt3Jg9YB6r3FrahoEmGtD2bYxIFUCuAYGub5/5sk5hF2yejUjyFoBlBXim+g1AUU7Va+JPtM8JysoaT534gsoGo75OPLPzhQD6jLL25Atd/wzOp/nJUwL6urb5iklXceTa98YuU1gHoXEU+VZhBKGSO47FeUNKifMU5gLJeABf2V5zr7ZffksgUcLpSJ1ISBdyB5hu+Mwss7rFnCh9Zw4zu4eDpxcZiES8DUvyIfXfpKTJ+VC3cQ6TLBHJDL8LV3Yc2TMPA2dDzTuIsePoDZC7DwL/wymbrYt40BnuNgdYPoocIgkfxs2QV95YC3DsETaxPxEyMZksl3/e8EHv0D189bs2UkTb6L3iy6XDiJlgO+dqGU7vXrQ/BYe5pQmJxLcvERXD+XDgTHLgQWxkWPFKcRBjy7vKRxtieq8HhH8yEYyzr+VjCBnBrhROJKzPAeyLpU0nB6JAYIAU+PwPAXUFuC82Ow70ubiAHcmR13zt1OBeG+6HJxEWhbNeCx7bDvDCwtwNkjcGiyHjCcsaae3h9LAWBggvxgDhke3Q4ftAIM2yFxvgVdED1SuIfEkjrAFpLGDN8/A8srMQzGYegHOwDuW9PAQJ1LQ7eGDFtK2qjxfbvFpimdBH2gMcOEbQj4exU2brJ1u30NXng1reGpnY0nVVrDcdGVwiA6bvycpGa/JavnxKVVtkXs0hxDN+TtEN2cjLbiHwjr/XSIP4uXq5urlePw0pb6Oeo6M56nN6fg22PZlZapob7LwZ+6LW6lpwy1icxoc5nl102kbCJhQu7EqFtpgVuRPXKoOpGup6dLM0DJs8r0UjIt/JoK3mdOi9zSThv+N57v7PPrybAcKWwkUjMoOgyFcAc6RuFd0/SmcVvHlOUhy9IvR6q3/AL2pWh5YuSOplhuJ3F4hvjB0eTE8KCZIyovkatd7mJLAULTzIPeLYfTe6aOYQra102kv0HRkzkT86fiSnUWZtGyujPRg6aH8GHTMu4ezbi27ny8S5v+/H8fwpmTJS77h72DKLXNn/oinUSyjOJvRP4kkqtovuezK9NC81P/P+96CiEG9wUFAAAAAElFTkSuQmCC"},"65b3":function(t,e,a){"use strict";(function(t){a("513c");e["a"]={props:{rowKey:{type:String,default:"id"},loading:{type:Boolean,default:!1},isOpenMenu:{type:Boolean,default:!0},isMenu:{type:Boolean,default:!1},tbColumns:{type:Array,required:!0},tbData:{type:[Array,Object],required:!0},maxHeight1:{type:[String,Number]},tableHeight:{type:[String,Number],default:-1},isShowPage:{type:Boolean,default:!0},noDataText:{type:String,default:"暂无相关数据"},pageIndex:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:15},pages:{type:Array,default:function(){return[15,30,50,100]}}},name:"XyTable",data:function(){return{tableData:[],totals:0,sort:"ASC",isResetScroll:!0}},watch:{tbData:{handler:function(t){t&&(document.querySelector("#scrollWrap")&&this.isResetScroll&&(document.querySelector("#scrollWrap").scrollTop=0),t instanceof Array?this.tableData=t:(this.totals=t.totalRecords,this.tableData=t.data))},deep:!0,immediate:!0}},computed:{xyMedia:function(){var t="";return t=this.tableHeight>-1&&""!==this.tableHeight&&null!==this.tableHeight&&void 0!==this.tableHeight?this.tableHeight+this.$store.state.common.xyMedia.y:"",t}},created:function(){var t=this;window.addEventListener("resize",(function(){t.windowResize()}),!1)},beforeDestroy:function(){var t=this;window.removeEventListener("resize",(function(){t.windowResize()}),!1)},methods:{windowResize:function(){t(window).width()<1366||t(window).width()<1440?this.$store.commit("common/setXyMedia",{x:1500,y:500}):t(window).width()<1688?this.$store.commit("common/setXyMedia",{x:1500,y:540}):this.$store.commit("common/setXyMedia",{x:1500,y:640})},tableMenu:function(t){this.$emit("tableMenu",t)},changeSelect:function(t){this.$emit("changeSelect",t)},changePage:function(t){this.$emit("changePage",t)},changePageSize:function(t){this.$emit("changePageSize",t)},filterChange:function(t){this.$emit("filterChangeHandle",t)},onSortChange:function(t){this.$emit("onSortChange",t)},handleLoadData:function(t,e){this.$emit("handleLoadData",{item:t,callback:e})}}}}).call(this,a("a336"))},"67be":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAABxklEQVQ4T62UTUhUURSAv+PTGV+J4sKF4GIgSS0sTGkZqaDhQjfTRsqdvxt/FqILVy2EhLKF5t9OcKOroMiNiEupVCRmiiIXLgIDUdRxxhlv3OubfE3PKbC7Oufecz7O7xX+wxEvhlLqFtAO1AABx2YLWAKmRGTD7fcbRCmVDTwH2oCMC4I81SCgV0SOtc0viFLKBl4D1SoWJfJqlujiPPGvHxErCytwHX99ELuxBfH5te8y0CAiETfkJdCR+PGd/f5HxD+vewZiFZeTNzKHVVCo3ydEpNNAlFK3gQ8qFs3YbXtA4stm2nJrUP7UWx2RTu1OEjIGdB0tzHA4OmAAYudgBUqJh94ZPfNGFYlvYVTkwOhXe4a5EmzV4ngSEgJKd1vriYfeG6PcZ/P4yu+y1//Y6HlPZ4ltrrLf9/AMWlZJ/vSiFsNJiK6yf6emCGKm4GRV3DOO7qOBJ2srZ1e+bAqWtrUUvRCiX+3mbnK6hozPwfgTInMvzpkekDBQ4k7nb5G40vmUUthpDkcH/6kmXoX9o8XpuuPZYmdWLjdsDkSP/RvgfurYm5Zeu4m/LojdlGbsHdDlFtA9D84a6E2u9fgKJlO/gp/kRe0hjJDmZgAAAABJRU5ErkJggg=="},"6d16":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAqCAYAAADI3bkcAAADEklEQVRYR83ZyWsUQRjG4d/rjhIUxIsXEfHswZugIEjQgxg0QWIgKGqIqEGD4o6KG+7igrsibrgvRMGrF8GT6D/gRbyJBxXiVvKFmtB2Zqarxp42cxv6q/d7pmemuqtapF7OuVZgNzA1fSzw/Sdgl6RTgfVRZUpWO+c6gbNRCZWLN0s6mFNWf0wa/B6YlGOTDZKO5phHP9g5Nxr4mme4z+qWdDyv3CR4LPA5r+BUznpJJ/LILgrsgHWSTv4rOgb8BrCv9iMwHdgAjI8AGHqtpDMRYwaUhoJfAo2SeksJzjmb9l4D4yIAhl4tqeaZKBQ8Q9KrMnP2fmBLBNhKDd0p6ULkuL7yUHCDpC9lwEuAmzU0NvRKSZdjx4aCp0l6Wwa8HdgT29TXG3qFpCsx40PBD4FmSdak7+WcmwDYH3FiTMNU7W+PvhqaEQq2vGfAYeCDnyX2AVNCG1Wp+wUsl3QtJCsGHJJXa42hl0q6kRUwWMDmNHS7pFvV0IMJXEK3SbpTCT3YwCV0q6R75dBJ8EjgGzAk63dUwPGfgKHvp3ul74cfAU0FgEJa/PDoB8niNLjBT18zQxILqPkOLJb0uNTrL7C/IIwBngOzCgCFtDB0i6SnVjwA7NG2+ugBZockFlBj6EWSesqCE+gnwJwCQCEtDN1UEZxA2x+xMSSxgJreqmCPHgUYem4BoMwWmWCPtjna0PMyE+tcEAT26BGATeTz62yqGh8MTqDvAgv+FzoKnEDfBhb+B/TOaLBHDwfsNrC5QPQOSXtrAnv0MI9uKQC9VdKBile6UIBzbihw3W5SQsfUULdJ0qHSuJrPcCnAo2091lYDJmvIRklHkkX/DPY/DzvTtlxvzxIEHrfVuW3VHkvX5wJOoC8CywJRlcqqbhzmBvZoW62ct72GGtGG7ZJ0utL4XMEebZnngI5IdNBGYe7gBNq2VVcFooM3COsCTqBtA3tNBtqwHZIuhXy4uoETaHtU0FUBY5snhg3eEKwrODFX25Ok7hQ6ak8ttwtHyNfoz7bNHPaYYTLwDtgm6UXo+FLdH0SFCeBD6E+VAAAAAElFTkSuQmCC"},"6d95":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.ivu-drawer[data-v-66ad24fe]{top:0;margin:0;position:absolute;height:100%;right:0}.ivu-drawer .ivu-drawer-content[data-v-66ad24fe]{height:100%;overflow:auto}.ivu-drawer .approval-card .main-info[data-v-66ad24fe]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.ivu-drawer .approval-card .main-info[data-v-66ad24fe],.ivu-drawer .approval-card .main-info .left[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.ivu-drawer .approval-card .main-info .left .avatar[data-v-66ad24fe]{padding:0;padding-right:15px}.ivu-drawer .approval-card .main-info .left .avatar span[data-v-66ad24fe]{display:block;background:#4196ff;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;font-size:18px;color:#fff}.ivu-drawer .approval-card .main-info .left .name-number[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:6px}.ivu-drawer .approval-card .main-info .left .name-number .fullName[data-v-66ad24fe]{color:#606266;font-size:16px}.ivu-drawer .approval-card .main-info .left .name-number .schoolNumber[data-v-66ad24fe]{font-size:14px;color:#999}.ivu-drawer .approval-card .main-info .status[data-v-66ad24fe]{margin-top:50px;width:62px;height:25px;border-radius:4px;border:1px solid #f99b31;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#f99b31;font-size:14px}.ivu-drawer .approval-card .main-info>img[data-v-66ad24fe]{position:absolute;right:30px}.ivu-drawer .leave-list[data-v-66ad24fe]{font-size:14px}.ivu-drawer .leave-list .info-item[data-v-66ad24fe]{margin-top:10px}.ivu-drawer .leave-list .info-item .title[data-v-66ad24fe]{color:#999}.ivu-drawer .leave-list .info-item .title-strong[data-v-66ad24fe]{display:block;margin:20px 0;font-size:14px;font-weight:700;color:#333}.ivu-drawer .leave-list .info-item .content[data-v-66ad24fe]{margin-left:10px;color:#333}.ivu-drawer .img-wrap[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ivu-drawer .img-wrap img[data-v-66ad24fe]{width:40%;height:150px}.ivu-drawer .img-wrap img[data-v-66ad24fe]:nth-child(2n){margin-left:20px}.manager-part[data-v-66ad24fe]{padding:0 20px}.manager-part .approal-title[data-v-66ad24fe]{font-size:16px;font-weight:700}.manager-part .approval-group[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.manager-part .approval-group .ivu-radio-wrapper[data-v-66ad24fe]:after,.manager-part .approval-group .ivu-radio-wrapper[data-v-66ad24fe]:before{width:0}.manager-part .approval-group .ivu-radio-wrapper[data-v-66ad24fe]{padding:0;width:96px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:4px;font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box}.manager-part .approval-group .ivu-radio-wrapper[data-v-66ad24fe]:first-child{color:#5bbb7e;border-color:#5bbb7e}.manager-part .approval-group .ivu-radio-wrapper[data-v-66ad24fe]:last-child{color:#dc6e6e;margin-left:30px;border-color:#dc6e6e;border-left:1px solid}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-66ad24fe]:first-child{background:#5bbb7e;color:#fff}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-66ad24fe]:last-child{background:#e85555;color:#fff}.manager-part label[data-v-66ad24fe]{color:#999;font-size:14px}.user-part[data-v-66ad24fe]{padding-left:20px;font-size:14px}.user-part h4[data-v-66ad24fe]{color:#999}.ivu-drawer-footer[data-v-66ad24fe]{padding-left:40px;text-align:left}.flow-item[data-v-66ad24fe],.flow-wrapper[data-v-66ad24fe]{position:relative}.flow-item[data-v-66ad24fe]{margin:0;padding:0 0 12px}.flow-item-line[data-v-66ad24fe]{height:100%;border-left:2px solid #c6c6c6;position:absolute;left:18px;top:0}.flow-item-header[data-v-66ad24fe]{width:40px;height:40px;background-color:#4196ff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-content[data-v-66ad24fe]{min-height:60px;padding:1px 1px 10px 50px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-66ad24fe]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.flow-item:last-child .flow-item-line[data-v-66ad24fe]{display:none}.flow-avatar[data-v-66ad24fe]{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff}.flow-avatar-imgWrapper[data-v-66ad24fe]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-66ad24fe]{width:100%;min-height:100%}.flow-avatar--small[data-v-66ad24fe]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-66ad24fe]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-66ad24fe]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-66ad24fe]{width:100%}.flow-avatar>span[data-v-66ad24fe]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#666}.flow-content-btn--hideDetail[data-v-66ad24fe]{color:#4196ff;font-size:14px}.flow-content-btn--showDetail[data-v-66ad24fe]{color:#666;font-size:14px}.flow-content-body[data-v-66ad24fe]{min-height:1em}.flow-content-name[data-v-66ad24fe]{color:#161616}.flow-content-reason[data-v-66ad24fe]{color:#999}.flow-content-title[data-v-66ad24fe]{font-size:14px;color:#161616}.flow-content-time[data-v-66ad24fe]{color:#999;font-size:12px}.flow-detail-item[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-66ad24fe]{width:100%;margin-left:10px}.flow-detail-header[data-v-66ad24fe]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-66ad24fe],.flow-overview-list[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-66ad24fe]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-66ad24fe]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px}.flow-icon-radio[data-v-66ad24fe]{display:inline-block;width:19px;height:15px;margin:12px;background:url(/image/radio-white.svg) no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-66ad24fe]{position:relative}.flow-status-icon[data-v-66ad24fe]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-66ad24fe]:after{background:url(/image/circle-check-green.svg) no-repeat}.flow-status-icon-processing[data-v-66ad24fe]:after{background:url(/image/circle-line-orange.svg) no-repeat}.flow-status-icon-reject[data-v-66ad24fe]:after{background:url(/image/circle-fork-red.svg) no-repeat}.flow-status-bgcolor[data-v-66ad24fe]{position:relative}.flow-status-bgcolor[data-v-66ad24fe]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-66ad24fe]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-66ad24fe]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-66ad24fe]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-66ad24fe]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-66ad24fe]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-66ad24fe]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-66ad24fe]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-66ad24fe]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-66ad24fe]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-66ad24fe]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-66ad24fe]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.detail[data-v-66ad24fe]{padding-bottom:20px}.detail[data-v-66ad24fe],.detail-top[data-v-66ad24fe]{position:relative}.top-line[data-v-66ad24fe]{border-bottom:1px solid #e8eaec;padding:14px 16px;line-height:1}.detail-top>p[data-v-66ad24fe]{font-size:16px;color:#333;font-weight:700}.detail-top .person[data-v-66ad24fe],.detail-top>p[data-v-66ad24fe]{margin-bottom:20px}.detail-top .person .left[data-v-66ad24fe]{width:50px;height:50px;line-height:50px;text-align:center;border-radius:50%;background:#4196ff;font-size:18px;color:#fff;font-weight:700;display:inline-block}.detail-top .person>div[data-v-66ad24fe]{height:50px;color:#999;padding-left:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.detail-top .person>div .name[data-v-66ad24fe]{font-size:16px;color:#333;margin:2px 0}.detail-top .officeStatus[data-v-66ad24fe]{position:absolute;right:27px;top:22px;width:108px;height:110px}.detail-top .officeStatus img[data-v-66ad24fe]{width:100%;height:100%}.detail-con>div[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px}.detail-con>div>span[data-v-66ad24fe]{text-align:right;color:#999}.detail-con>div>div[data-v-66ad24fe]{-webkit-box-flex:0.9;-ms-flex:0.9;flex:0.9;max-width:80%}.detail-con>div>div .office-info[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:5px;height:21px}.detail-con>div>div .office-info span[data-v-66ad24fe]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:85%}.detail-con .ivu-btn-primary[data-v-66ad24fe]{width:55px;height:25px;position:absolute;right:15px}.bottom-btn[data-v-66ad24fe]{position:fixed;bottom:0;width:100%;height:40px;background:#fff;z-index:9999}.bottom-btn .ivu-btn-primary[data-v-66ad24fe]{width:96px;height:32px}.detail .proval-con[data-v-66ad24fe]{border:none;margin-bottom:10px}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header[data-v-66ad24fe]{padding:0;position:relative;background:#fff;border:none;color:#333;font-weight:700}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header>i[data-v-66ad24fe]{position:absolute;top:12px;right:-13px}.proval-con .ivu-collapse-simple[data-v-66ad24fe]{border:none}.proval-con .ivu-collapse-content[data-v-66ad24fe],.proval-con .ivu-collapse-content>.ivu-collapse-content-box[data-v-66ad24fe]{padding:0}.proval-con .proval-li[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;color:#666}.proval-con .proval-li .left[data-v-66ad24fe]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;display:inline-block;margin:5px 10px 0 0;position:relative}.proval-con .proval-li .left[data-v-66ad24fe]:after{content:"";width:2px;height:23px;position:absolute;top:32px;left:14px;background:#c6c6c6}.proval-con .proval-li:last-child .left[data-v-66ad24fe]:after{display:none}.proval-con .proval-li .left .status[data-v-66ad24fe]{width:16px;height:16px;bottom:-2px;right:-4px}.proval-con .proval-li .center[data-v-66ad24fe]{-webkit-box-flex:1;-ms-flex:1;flex:1}.proval-con .proval-li .center>div[data-v-66ad24fe]:first-child{color:#666}.proval-con .proval-li:first-child .center div[data-v-66ad24fe]:first-child{color:#161616}.proval-con .proval-li .center div[data-v-66ad24fe]:nth-child(2){color:#999}.copy ul[data-v-66ad24fe]{padding-top:8px}.copy li[data-v-66ad24fe],.copy ul[data-v-66ad24fe]{display:-webkit-box;display:-ms-flexbox;display:flex}.copy li[data-v-66ad24fe]{width:45px;margin-right:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.copy li>div[data-v-66ad24fe]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;font-size:12px}.copy li>p[data-v-66ad24fe]{color:#666}.detail-approval[data-v-66ad24fe]{margin-top:25px}.detail-approval>span[data-v-66ad24fe]{color:#999}.detail-approval .approval[data-v-66ad24fe]{margin:13px 0 25px}.bottom-btn .ivu-btn.agree[data-v-66ad24fe]{color:#5bbb7e;border-color:#5bbb7e}.bottom-btn .ivu-btn.agree[data-v-66ad24fe]:hover{background-color:#5bbb7e;border-color:#5bbb7e;color:#fff}.bottom-btn .ivu-btn.refuse[data-v-66ad24fe]{color:#dc6e6e;border-color:#dc6e6e}.bottom-btn .ivu-btn.refuse[data-v-66ad24fe]:hover{background-color:#dc6e6e;border-color:#dc6e6e;color:#fff}',""]),t.exports=e},"72b4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAEi0lEQVRIS5VWTWxUVRT+vvPedLqwLnShC91oB0LFhSCSmIgaQ1tsDBvrRhf0B0WXulHaxllUiiZg3GhiLG1j0cTqAsWocaHSSFL/Ii5KoIjGuMCNJpTMDHXmHXPvfff9dF4lzGYyb9493/2+c853DnHNj3LgucZDQcA9FNwvIhVSb6IAJP+WACuEnlaJPvvgUOfXAPX/QnLDP6sqA5ca+0T4IqgVEcKBwH6b36D5Nr9pn4tghcThSlCarVYZFcUuBHx0f2MTAp0nscPEhQFgHtCAWEwLaNkmFxLiB0TRU/OTnefWg7YB9u9v9AmxAGqXZ+OCaxo0ZpUCOoYe2D4nVyE6+O7LpS+yoDnAvpEr/cLgBAUdJoCRzMuYl5RWSse8nWHCmFhTxd75aulzD5oAPjx8eXNZOr4noy4jjwXL3lqyDJ18bWBxjl0afF652kJzx/yEk9cCDg5qcPnG+hKB7e7FTPAcqM+V2kIpAjS5hr+cPwv8WPsl3LmwwJYF7N1XH6botJHIsjJnYpZOumzwuCo3kNNVraES59Xl0zwbmR0LjxFQ9g41zpFa8RJa6rEkxTl0/xuGd3ULHn9E8Pp7LdTX3GV9VefTgpXZsXAze0fqu6D6ja0Re7OUXdJzVpritqgeCNFzh+Din4qpuSZqV+PzGbW8ahqGD7JvuHZEgedjBeMbxglPbrtOVgG2dgtuv1Vw+kyEsdEQd95GnP1NMTnTzLWHY+niAXqUvUP1U4A+4G/hSzqVI+7BDMOtFcHB0RDlEjH7SQuLP0d44ckQH37Vwvk/1ErtqzSJ60AXuXuodonELV5S90J7W/hc3l0RjD0dorPDdZQqMPNxC19+FyWtYgumQFKQf7F3uPYvFKF9wURIXswfMo1vmI0bsHLqF401xWtzTZz93fVl8XlDwDBn0wECYZ6hK+tsgHu2BDi4P0Q5ZmbuZsBenTFgri9TK0zzlk0VwLVUUu8scMyytrZti2DsmRI6Snlmh4/FYLkqNran6YV9XMvISGqKhnHRxN7je8yAbusRjB9oB5uabtqqzE2KDdKR+jIXuXu4doSZtnA5SOX56I2yrUb/aVxVHJpuYtmA2eJwVZn2qavq9iq1EY7mGz/2vmzvnHyrMwf2yjtNLF80YH74truSy2XW2pwD2ca31jZcP0+gO8ldhuHJNx2gYTb5tgEz5b9+WuT9tZAdeWFuPNiUmneg087WYj/MT/B1Bh4DFkx7twHEZu9nqkXh6NxEOJ0ZT40lUrdnjdtOCr/DpK6f7DNutyk2+sSp3PmfamfC+5LxZED2DK32REG4JNAbksLZcASlrWMB1+87+RxeaUXRzuPV8nIygH1V9I00+oV6gqId3p68xEWNLYHfCjIFkmx25hnXAtG9sxMFK4YHdUuULoDoStfCdHrQgridxrWPgkF2iYplhqwq9YnsPtPG0IPaNVGi4yTvLcpRrjAykqYr5XWsiUnTpYvwS6RrmTavzObYVeYFikxVguD6FuH88qp87NnGLgk5gGTVj26msCWi/4D8VYhvhdGn7091nrrWqv8fFIRG3fkmk2AAAAAASUVORK5CYII="},7447:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-body"},[a("div",{staticClass:"app-flex"},[a("div",{staticClass:"app-flex-box cursor-p",on:{click:t.addType}},[a("div",[a("Icon",{attrs:{type:"md-add",size:"20"}}),a("span",{staticClass:"app-flex-text"},[t._v("新增类型")])],1)]),t._l(t.dList,(function(e,i){return a("div",{key:i,staticClass:"app-flex-box-content"},[a("div",{staticClass:"app-flex-box-content-top"},[a("div",{staticClass:"app-flex-box-content-top-flex"},[a("div",{staticClass:"app-flex-box-content-top-flex-left",style:{backgroundColor:"#FFB748"}},[a("Icon",{staticStyle:{transform:"rotate(-90deg)"},attrs:{type:"ios-pricetag"}})],1),a("div",{staticClass:"app-flex-box-content-top-flex-right"},[a("div",{staticClass:"app-flex-box-content-top-flex-right-top",attrs:{id:"file-setting-name"}},[t._v(t._s(e.Name))])])])]),e.IsDefault?a("div",{staticClass:"app-flex-box-content-bottom default"},[a("div",[a("Icon",{staticClass:"app-flex-box-icon",attrs:{type:"md-create"}}),t._v("编辑 ")],1),a("div",{staticClass:"app-split"},[t._v("|")]),a("div",[a("Icon",{staticClass:"app-flex-box-icon dele",attrs:{type:"ios-trash"}}),t._v("删除 ")],1)]):a("div",{staticClass:"app-flex-box-content-bottom"},[a("div",{staticClass:"app-flex-box-content-bottom-edit cursor-p",on:{click:function(a){return t.edit(e)}}},[a("Icon",{staticClass:"app-flex-box-icon",attrs:{type:"md-create"}}),t._v("编辑 ")],1),a("div",{staticClass:"app-split"},[t._v("|")]),a("div",{staticClass:"app-flex-box-content-bottom-del cursor-p",on:{click:function(a){return t.del(e.ID,e.Name)}}},[a("Icon",{staticClass:"app-flex-box-icon dele",attrs:{type:"ios-trash"}}),t._v("删除 ")],1)])])}))],2),a("modal",{attrs:{transfer:!1,title:"新增","mask-closable":!1},model:{value:t.modalCreateType,callback:function(e){t.modalCreateType=e},expression:"modalCreateType"}},[a("div",{staticClass:"dialog-model-content"},[a("i-form",{ref:"formValidateCreate",attrs:{model:t.formValidateCreate,rules:t.ruleValidateCreate,"label-width":120},nativeOn:{submit:function(t){t.preventDefault()}}},[a("form-item",{attrs:{label:"公文类型",prop:"typeName",labelFor:"typeName"}},[a("i-input",{staticStyle:{width:"250px"},attrs:{elementId:"typeName",clearable:""},model:{value:t.formValidateCreate.typeName,callback:function(e){t.$set(t.formValidateCreate,"typeName","string"===typeof e?e.trim():e)},expression:"formValidateCreate.typeName"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.creatTypeCancel}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.creatTypeOk}},[t._v("确定")])],1)]),a("modal",{attrs:{transfer:!1,title:"编辑","mask-closable":!1},model:{value:t.modalEditType,callback:function(e){t.modalEditType=e},expression:"modalEditType"}},[a("div",{staticClass:"dialog-model-content"},[a("i-form",{ref:"formValidateEdit",attrs:{model:t.formValidateEdit,rules:t.ruleValidateEdit,"label-width":120}},[a("form-item",{attrs:{label:"公文类型",prop:"typeName",labelFor:"typeNameE"}},[a("i-input",{staticStyle:{width:"250px"},attrs:{elementId:"typeNameE",clearable:""},model:{value:t.formValidateEdit.typeName,callback:function(e){t.$set(t.formValidateEdit,"typeName","string"===typeof e?e.trim():e)},expression:"formValidateEdit.typeName"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.editTypeCancel}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.editOk}},[t._v("确定")])],1)])],1)])},o=[],s=(a("513c"),a("5412")),n=a.n(s),r=(a("b449"),a("cf7f")),l={name:"DocumentSetting",data:function(){return{dList:[],formValidateCreate:{typeName:""},ruleValidateCreate:{typeName:[{required:!0,message:"公文类型不能为空",trigger:"blur"},{type:"string",min:1,max:6,message:"公文类型不能为空或超过6个字",trigger:"blur"},{pattern:/^[A-Za-z0-9-_\u4e00-\u9fa5]{1,6}$/,message:"允许汉字、数字、英文、短横线和下划线",trigger:"blur"}]},formValidateEdit:{typeName:""},ruleValidateEdit:{typeName:[{required:!0,message:"公文类型不能为空",trigger:"blur"},{type:"string",min:1,max:6,message:"公文类型不能为空或超过6个字",trigger:"blur"},{pattern:/^[A-Za-z0-9-_\u4e00-\u9fa5]{1,6}$/,message:"允许汉字、数字、英文、短横线和下划线",trigger:"blur"}]},modalCreateType:!1,modalEditType:!1,editId:0}},created:function(){this.apiPath=this.$store.state.apiPath},mounted:function(){var t=this;this.$nextTick((function(){t.getListData()}))},methods:{getListData:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocCirculationType/GetAll"));case 3:a=e.sent,t.xy.unloading(),a.success&&(t.dList=a.data);case 6:case"end":return e.stop()}}),e)})))()},addType:function(){this.formValidateCreate.typeName="",this.formValidateEdit.typeName="",this.dList.length<20?this.modalCreateType=!0:this.xy.msgError("最多创建20种公文类型。")},creatTypeCancel:function(){this.modalCreateType=!1,this.formValidateCreate.typeName="",this.$refs.formValidateCreate.resetFields()},creatTypeOk:function(){var t=this;this.$refs.formValidateCreate.validate((function(e){if(!e)return t.changeLoading();t.Create()}))},Create:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.apiPath+"/api/OfficialDocCirculationType/CreateDocCirculationType",{Name:t.formValidateCreate.typeName},!0);case 3:a=e.sent,t.xy.unloading(),a.success?(t.xy.msgSuc("创建成功。"),t.getListData(),t.modalCreateType=!1,t.$refs.formValidateCreate.resetFields()):t.xy.msgError("公文流转种类重复。");case 6:case"end":return e.stop()}}),e)})))()},edit:function(t){this.editId=t.ID,this.modalEditType=!0,this.formValidateEdit.typeName=t.Name},changeLoading:function(){var t=this;this.loading=!1,this.$nextTick((function(){t.loading=!0}))},editOk:function(){var t=this;this.$refs.formValidateEdit.validate((function(e){if(!e)return t.changeLoading();t.editType()}))},editType:function(t){var e=this;return Object(r["a"])(n.a.mark((function t(){var a;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.xy.loading(),t.next=3,e.xy.post(e.apiPath+"/api/OfficialDocCirculationType/Update",{Name:e.formValidateEdit.typeName,id:e.editId},!0);case 3:a=t.sent,e.xy.unloading(),a.success?(e.xy.msgSuc("编辑成功。"),e.changeLoading(),e.modalEditType=!1,e.getListData(),e.$refs.formValidateEdit.resetFields()):(Number(a.errorcode)>0?(e.rebootId=Number(a.errorcode),e.xy.confirm("重新使用",a.msg,e.enableAttendanceType)):e.xy.msgError(a.msg),e.changeLoading());case 6:case"end":return t.stop()}}),t)})))()},editTypeCancel:function(){this.editId="",this.formValidateEdit.typeName="",this.modalEditType=!1,this.$refs.formValidateEdit.resetFields()},del:function(t,e){var a=this;this.$Modal.confirm({title:"删除",content:"<p>是否确认删除？</p>",onOk:function(){a.xy.post(a.apiPath+"/api/OfficialDocCirculationType/Delete?DocumentTypeID=".concat(t)).then((function(t){a.xy.unloading(),t.success&&(a.xy.msgSuc("删除成功。"),a.getListData())}))},onCancel:function(){}})}}},c=l,d=(a("bd93"),a("9ca4")),p=Object(d["a"])(c,i,o,!1,null,"5610dfbe",null);e["default"]=p.exports},"750c4":function(t,e,a){var i=a("b601");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("81155bce",i,!0,{sourceMap:!1,shadowMode:!1})},"75aa":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xy-content-module",attrs:{id:"FileManage"}},[i("div",{staticClass:"xy-content-title clearfix"},[i("div",{staticClass:"fl"},[i("i-button",{attrs:{type:"primary",ghost:""},on:{click:t.ReturnClick}},[t._v("返回")])],1),i("div",{staticClass:"fr"},[i("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"auto"},attrs:{search:"",placeholder:"输入用户名进行搜索"},on:{"on-search":t.FromSubmit},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[i("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)]),i("div",{staticClass:"xy-content-body"},[t.isInitial?i("div",{staticClass:"no-data-box isInitital-opacity"},[i("img",{staticClass:"no-data-img",attrs:{src:a("a453")}})]):t._e(),t.isEmpty?i("div",{staticClass:"no-data-box"},[i("img",{staticClass:"no-data-img",attrs:{src:a("a453")}}),i("span",{staticClass:"no-data-text"},[t._v("暂无消息")])]):t._e(),t.isEmpty||t.isInitial?t._e():i("div",[t.teacherList.length>0?i("div",{staticClass:"pers-main teacher"},[i("div",{staticClass:"pers-tit"},[t._v(" 教师 ")]),i("div",{staticClass:"pers-box"},t._l(t.teacherList,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.UserName.indexOf(t.searchText)>=0||""===t.searchText,expression:"item.UserName.indexOf(searchText)>=0 || searchText===''"}],key:a,staticClass:"pers-list"},[i("div",{staticClass:"tit"},[t._v(t._s(e.FullName))]),i("div",{staticClass:"number"},[t._v(t._s(e.UserName))])])})),0)]):t._e(),t.studentList.length>0?i("div",{staticClass:"pers-main student"},[i("div",{staticClass:"pers-tit"},[t._v(" 学生 ")]),i("div",{staticClass:"pers-box"},t._l(t.studentList,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.UserName.indexOf(t.searchText)>=0||""===t.searchText,expression:"item.UserName.indexOf(searchText)>=0 || searchText===''"}],key:a,staticClass:"pers-list"},[i("div",{staticClass:"tit"},[t._v(t._s(e.FullName))]),i("div",{staticClass:"number"},[t._v(t._s(e.UserName))])])})),0)]):t._e(),t.parentsList.length>0?i("div",{staticClass:"pers-main parents"},[i("div",{staticClass:"pers-tit"},[t._v(" 家长 ")]),i("div",{staticClass:"pers-box"},t._l(t.parentsList,(function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.UserName.indexOf(t.searchText)>=0||""===t.searchText,expression:"item.UserName.indexOf(searchText)>=0 || searchText===''"}],key:a,staticClass:"pers-list"},[i("div",{staticClass:"tit"},[t._v(t._s(e.FullName))]),i("div",{staticClass:"number"},[t._v(t._s(e.UserName))])])})),0)]):t._e()])])])},o=[],s={data:function(){return{info:"",mainList:[],teacherList:[],studentList:[],parentsList:[],searchText:"",isInitial:!0,isEmpty:!1}},computed:{params:function(){return this.$store.state.common.menuInfo}},created:function(){this.info=this.params.row},mounted:function(){this.GetMessageReceiveByID()},methods:{GetMessageReceiveByID:function(){var t=this;this.xy.loading();var e=this;this.xy.get("http://qa.api.oa.xiaoyangedu.net:37200/api/OAMessage/GetMessageReceiveByID",{MessageID:this.info.MessageID}).then((function(a){if(e.isInitial=!1,a.success){e.mainList=a.data;for(var i=[],o=[],s=[],n=0;n<e.mainList.length;n++)2===e.mainList[n].UserRole&&i.push(e.mainList[n]),3===e.mainList[n].UserRole&&o.push(e.mainList[n]),4===e.mainList[n].UserRole&&s.push(e.mainList[n]);e.teacherList=i,e.studentList=o,e.parentsList=s,e.isEmpty=!1,t.xy.unloading()}else t.xy.unloading()}))},FromSubmit:function(t){this.searchText=t},ReturnClick:function(){this.$router.push({path:"/xyHome/oaMailTable",query:this.$store.state.common.menuInfo})}}},n=s,r=(a("1e929"),a("9ca4")),l=Object(r["a"])(n,i,o,!1,null,"2457a474",null);e["default"]=l.exports},"76b6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module",attrs:{id:"XyContentModuleReplace"}},[a("div",{attrs:{id:"xy-initialize-breadcrumb"}}),a("div",{staticClass:"xy-content-title flex-flow"},[a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"mr-15"},[a("span",[t._v("种类：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.typeAllSearch},model:{value:t.officeTypeId,callback:function(e){t.officeTypeId=e},expression:"officeTypeId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有种类")]),t._l(t.typeAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2)],1),a("div",{staticClass:"mr-15"},[a("span",[t._v("等级：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.levelAllSearch},model:{value:t.officeLevelId,callback:function(e){t.officeLevelId=e},expression:"officeLevelId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有密级")]),t._l(t.levelAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2)],1),a("div",{staticClass:"mr-15"},[a("span",[t._v("紧急程度：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.urgentAllSearch},model:{value:t.officeUrgentId,callback:function(e){t.officeUrgentId=e},expression:"officeUrgentId"}},[a("i-option",{key:-1,attrs:{value:-1}},[t._v("所有紧急程度")]),t._l(t.urgentAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])}))],2)],1),a("div",[a("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"250px"},attrs:{search:"",placeholder:"请输入申请人/主题"},on:{"on-search":t.FromSubmit},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.data,nullData:t.nullData,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:"max-content"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"Icon",fn:function(e,i){return a("div",{},[i.Icon?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"50%"},attrs:{src:t.xyApi+"/base"+i.Icon+"?"+15*Math.random()}}):a("div",{class:"head-con "+("男"===i.Sex?"man":"woman")},[a("span",{staticClass:"head-font"},[t._v(" "+t._s(t.xy.showName(i.FullName))+" ")])])])}},{key:"FullName",fn:function(e,i){return a("div",{},[a("span",[t._v(" "+t._s(i.FullName)+" ")])])}},{key:"OfficialDocTheme",fn:function(e,i){return a("div",{staticStyle:{"min-width":"300px"}},[a("span",{staticClass:"table-el-hover",on:{click:function(e){return t.viewDetail(i)}}},[t._v(" "+t._s(i.OfficialDocTheme)+" ")])])}},{key:"OfficialDocTypeName",fn:function(e,i){return a("div",{staticStyle:{"min-width":"140px"}},[t._v(" "+t._s(i.OfficialDocTypeName)+" ")])}},{key:"OfficialDocSecretLevelName",fn:function(e,i){return a("div",{staticStyle:{"min-width":"140px"}},[t._v(" "+t._s(i.OfficialDocSecretLevelName)+" ")])}},{key:"OfficialDocEmergencyLevelName",fn:function(e,i){return a("div",{staticStyle:{"min-width":"140px"}},[t._v(" "+t._s(i.OfficialDocEmergencyLevelName)+" ")])}},{key:"LastModifyByStrDate",fn:function(e,i){return a("div",{},[t._v(" "+t._s(i.LastModifyByStrDate)+" ")])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.viewDetail(i)}}},[t._v("详情")])])}}])})],1),a("Drawer",{attrs:{width:"560",transfer:!1,"mask-closable":!1},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[t._v(t._s(t.row.FullName)+"提交的公文")])]),a("div",{staticClass:"drawer"},[a("div",{attrs:{id:"DrawerDetails"}},[t.showDetail?a("DetailsLook",{attrs:{params:t.row},on:{loadTable:t.loadTable}}):t._e()],1)])])],1)},o=[],s=a("5412"),n=a.n(s),r=(a("b449"),a("cf7f")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"DrawerDetails"}},[i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-top"},[i("div",{staticClass:"person clearfix"},[""===t.detail.Icon?i("span",{staticClass:"left fl"},[t._v(t._s(t.xy.showName(t.detail.FullName)))]):i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",float:"left"},attrs:{src:t.imgUrl+t.detail.Icon,alt:""}}),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.detail.FullName))]),i("div",{},[t._v(t._s(t.detail.StatusDescible))])])]),i("div",{staticClass:"officeStatus"},[2===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("0c29")}}):3===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("b1c2")}}):4===t.detail.Status?i("img",{staticClass:"no-data-img",attrs:{src:a("9810")}}):t._e()])]),i("div",{staticClass:"detail-con"},[i("div",[i("span",[t._v("主题：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTheme))])]),i("div",[i("span",[t._v("公文标题：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTitle))])]),i("div",[i("span",[t._v("公文种类：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocTypeName))])]),i("div",[i("span",[t._v("秘密等级：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocSecretLevelName))])]),i("div",[i("span",[t._v("紧急程度：")]),i("div",{},[t._v(t._s(t.detail.OfficialDocEmergencyLevelName))])]),i("div",[i("span",[t._v("发文机关：")]),i("div",{},[t._v(t._s(t.detail.FromOffice))])]),i("div",[i("span",[t._v("发文字号：")]),i("div",{},[t._v(t._s(t.detail.IssueNumber))])]),i("div",[i("span",[t._v("发文内容：")]),i("div",t._l(t.detail.List,(function(e,a){return i("div",{key:a,staticClass:"office-info"},[i("span",{staticClass:"nowrap"},[t._v(t._s(e.FileName))]),i("i-button",{attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return t.downLoad(e)}}},[t._v("下载")])],1)})),0)]),i("div",[i("span",[t._v("附注：")]),i("div",{},[t._v(t._s(t.detail.Remark))])]),t.detail.IsArchive?i("div",[i("span",[t._v("归档日期：")]),i("div",{},[t._v(t._s(this.xy.moment(t.detail.LastModifyByDate).format("YYYY-MM-DD HH:mm:ss")))])]):t._e()]),i("WorkflowApproval",{attrs:{workflow:t.workflow}})],1),i("div",{staticClass:"bottom-btn"},[i("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.ReturnClick}},[t._v("关闭")])],1)])},c=[],d=(a("fe59"),a("77ad"),a("e35a"),a("0d7a"),a("08ba"),a("49f7")),p={props:["params"],components:{WorkflowApproval:d["a"]},data:function(){return{imgUrl:this.xyApi+"/base",workflow:[],detailInfo:{},isShowSpin:!1,officeId:"",approvalFlowId:"",detail:{},approvalData:{ApprovalFlowNodeID:void 0}}},created:function(){this.getRows()},mounted:function(){},methods:{getRows:function(){var t=this;t.officeId=t.params.OfficialDocID,t.approvalFlowId=t.params.ApprovalFlowID,t.getDetail()},getDetail:function(){var t=this;this.xy.loading();var e=this,a={ID:e.officeId};this.xy.get("".concat(this.$store.state.apiPath,"/api/OfficialDocument/GetByID"),a).then((function(a){if(t.xy.unloading(),a.success){var i=a.data;t.workflow=i.ApprovalFlow;var o=0;i.currentAuditNodeIndex=-1,i.ApprovalFlow.forEach((function(t,a){console.log(t),t.isOverviewMode=!0,t.overviewList=[],t.isFinished=!1,t.currentAuditNode=!1,t.lastComplete_time=void 0,t.lastComplete_status=void 0,t.IsComplete?(o=a,t.isFinished=!0):"已拒绝"===t.Status?t.isFinished=!0:"待审批"===t.Status&&o+1===a&&(t.currentAuditNode=!0,i.currentAuditNodeIndex=a);var s="";t.ApprovalMemberList.forEach((function(a,i){if((i<4||5===t.ApprovalMemberList.length)&&t.overviewList.push(a),t.isFinished&&"待审批"!==a.Status)if("或签"===t.ApprovalFlowNodeName)t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status;else if("会签"===t.ApprovalFlowNodeName)if(void 0===s)s=a.ApprovalDate;else{var o=new Date(s),n=new Date(a.ApprovalDate);n>o&&(t.lastComplete_time=a.ApprovalDate,t.lastComplete_status=a.Status)}t.isFinished||void 0===e.approvalData.currentNode&&"发起人"!==t.ApprovalFlowNodeName&&(e.approvalData.ApprovalFlowNodeID=t.ApprovalFlowNodeID)})),t.isOverviewMode_CC=!0,t.overviewList_CC=[],t.ApprovalCCMemberList.forEach((function(e,a){(a<4||5===t.ApprovalCCMemberList.length)&&t.overviewList_CC.push(e)}))})),e.detail=i}}))},xyFormatDate:function(t,e){return e=e||"MM.dd HH:mm",t?this.xy.moment(t).format("MM.DD HH:mm"):""},setStatus_isOverviewMode:function(t,e,a,i){"normal"===a?t.isOverviewMode=i:"CC"===a?t.isOverviewMode_CC=i:t.isOverviewMode=i,this.$set(this.detailInfo.ApprovalFlow,e,t)},downLoad:function(t){var e=this;console.log(t);var a=t.VirtualPath,i=a.split(".");a=a.split(".")[0].slice(-14),a=i[0].slice(-14)+"."+i[1],console.log(a),e.xy.downFile("".concat(e.$store.state.apiPath,'/api/OfficialDocument/DownLoadFile"'),{FileName:t.FileName,file:a})},ReturnClick:function(){this.$emit("loadTable")}}},f=p,u=(a("d7a1"),a("9ca4")),m=Object(u["a"])(f,l,c,!1,null,"131836fe",null),h=m.exports,v=a("eb31"),x={name:"Archive",components:{DetailsLook:h,XyAntTable:v["a"]},data:function(){var t=this;return{row:{},officeTypeId:-1,officeLevelId:-1,officeUrgentId:-1,showDetail:!1,typeAll:[],levelAll:[],urgentAll:[],approvalStatus:-1,approvalValue:[{approvalID:-1,approvalName:"所有状态"},{approvalID:0,approvalName:"待审批"},{approvalID:1,approvalName:"审批中"},{approvalID:2,approvalName:"已通过"},{approvalID:3,approvalName:"已拒绝"},{approvalID:4,approvalName:"已收回"}],searchName:"",tableLoading:!0,nullData:"该搜索条件下没有结果。",pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}},data:[],columns:[{title:"",width:50,dataIndex:"Icon",scopedSlots:{customRender:"Icon"},className:"table-pic"},{title:"申请人",width:140,dataIndex:"FullName",scopedSlots:{customRender:"FullName"}},{title:"主题",dataIndex:"OfficialDocTheme",scopedSlots:{customRender:"OfficialDocTheme"}},{title:"公文种类",dataIndex:"OfficialDocTypeName",scopedSlots:{customRender:"OfficialDocTypeName"}},{title:"秘密等级",dataIndex:"OfficialDocSecretLevelName",scopedSlots:{customRender:"OfficialDocSecretLevelName"}},{title:"紧急程度",dataIndex:"OfficialDocEmergencyLevelName",scopedSlots:{customRender:"OfficialDocEmergencyLevelName"}},{title:"归档时间",dataIndex:"LastModifyByStrDate",width:180,scopedSlots:{customRender:"LastModifyByStrDate"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}]}},created:function(){this.getType(),this.getLevel(),this.getUrgent(),this.loadTable()},methods:{handleTableChange:function(){this.loadTable()},getType:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocType/GetAll")).then((function(e){t.typeAll=e.data}))},getLevel:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocSecretLevel/GetAll")).then((function(e){t.levelAll=e.data}))},getUrgent:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocEmergencyLevel/GetAll")).then((function(e){t.urgentAll=e.data}))},loadTable:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a,i;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showDetail=!1,t.tableLoading=!0,a={PageIndex:t.pagination.current,PageSize:t.pagination.pageSize,searchText:t.searchName,status:t.approvalStatus,emergencyID:t.officeUrgentId,secretID:t.officeLevelId,typeID:t.officeTypeId},e.next=5,t.xy.get(t.$store.state.apiPath+"/api/OfficialDocument/GetArchiveRecordByPage",a);case 5:i=e.sent,i.success&&(t.data=i.data.data,t.pagination.total=i.data.totalRecords),t.tableLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},typeAllSearch:function(){this.pagination.current=1,this.loadTable()},levelAllSearch:function(){this.pagination.current=1,this.loadTable()},urgentAllSearch:function(){this.pagination.current=1,this.loadTable()},typeValueSearch:function(){this.pagination.current=1,this.loadTable()},FromSubmit:function(){this.pagination.current=1,this.loadTable()},viewDetail:function(t){this.showDetail=!0,this.row=t}}},b=x,g=(a("502e"),Object(u["a"])(b,i,o,!1,null,"44724fe2",null));e["default"]=g.exports},"7f16":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xy-table"},[t.tableData.length>0?i("Table",{ref:"selection",attrs:{"row-key":t.rowKey,loading:t.loading,"context-menu":t.isOpenMenu,"show-context-menu":t.isMenu,columns:t.tbColumns,"max-height":t.maxHeight1,height:t.xyMedia,data:t.tableData,"load-data":t.handleLoadData},on:{"on-selection-change":t.changeSelect,"on-contextmenu":t.tableMenu,"on-sort-change":t.onSortChange,"on-filter-change":t.filterChange}},[t._t("default",null,{slot:"contextMenu"})],2):t._e(),t.isShowPage&&t.tableData.length>0?i("Page",{staticClass:"xy-page",attrs:{total:t.total,"page-size":t.pageSize,current:t.pageIndex,"page-size-opts":t.pages,"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}):t._e(),0===t.tableData.length?i("div",{staticClass:"no-data-box"},[i("img",{staticClass:"no-data-img",attrs:{src:a("a453"),alt:"图片"}}),i("span",{staticClass:"no-data-text"},[t._v(t._s(t.noDataText))])]):t._e()],1)},o=[],s=a("65b3"),n=s["a"],r=(a("18f1"),a("9ca4")),l=Object(r["a"])(n,i,o,!1,null,null,null);e["a"]=l.exports},"7f718":function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-content-module[data-v-45ede1ce] .ivu-form-item{margin-bottom:7px}.xy-content-module[data-v-45ede1ce] .ant-table-cell .comm-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.xy-content-module[data-v-45ede1ce] .ant-table-cell .comm-title>span:first-of-type{text-align:center;margin-right:10px;display:inline-block;min-width:54px;height:24px;border-radius:4px}.xy-content-module[data-v-45ede1ce] .ant-table-cell .comm-title>span:nth-of-type(2){text-align:left}.xy-content-module[data-v-45ede1ce] .ant-table-cell .jj>span:first-of-type{background:#fff1f0;border:1px solid #ffa39e;color:#f5222d}.xy-content-module[data-v-45ede1ce] .ant-table-cell .pt>span:first-of-type{background:#f6ffed;border:1px solid #b7eb8f;color:#52c41a}.rg[data-v-45ede1ce]{margin-right:20px}.flex-flow[data-v-45ede1ce]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mr[data-v-45ede1ce]{margin-right:20px;margin-left:2px}.files-flex[data-v-45ede1ce]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 6px;border-radius:4px;margin-top:10px;cursor:pointer}.files-flex .files-flex-text[data-v-45ede1ce]{margin-right:14px}.files-flex .fileInfo[data-v-45ede1ce]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:120px;width:293px}.files-flex .fileInfo span[data-v-45ede1ce]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.files-flex .fileInfo .fileInfoName[data-v-45ede1ce]{color:#000;opacity:.85;font-size:14px;line-height:22px}.files-flex .fileInfo .fileInfoSize[data-v-45ede1ce]{color:#000;opacity:.45;font-size:12px;line-height:18px}.files-flex i[data-v-45ede1ce]{margin-right:5px}.files-flex .icontext[data-v-45ede1ce]{color:#4196ff}.files-flex .iconimg[data-v-45ede1ce]{color:#f1c64e}.files-flex .fileL[data-v-45ede1ce]{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:400;color:#000;opacity:.85}.files-flex .fileL .fileSize[data-v-45ede1ce]{font-size:12px;font-weight:400;color:#000;opacity:.45}.files-flex[data-v-45ede1ce]:hover{background:#f9f9f9}.replyFoot[data-v-45ede1ce]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e7e7e7}.replyFoot span[data-v-45ede1ce]{font-size:14px;font-weight:400;color:#000;opacity:.45}.replyFoot button[data-v-45ede1ce]{margin:8px 0}.fileBox[data-v-45ede1ce]{height:168px;overflow:auto;padding-bottom:12px}.finish[data-v-45ede1ce]{width:437px;height:114px;background:#fff;border-radius:4px;margin:35px 0 0 35px}.finish p[data-v-45ede1ce]{line-height:22px;font-size:16px;font-weight:700;color:#212121}.finish p .mark-img[data-v-45ede1ce]{width:22px;height:22px;background:#faad14;border-radius:50%;color:#fff;display:inline-block;text-align:center;line-height:22px;margin-right:13px}.xy-btn-circulation[data-v-45ede1ce]{background:#f5f5f5;border:1px solid #d9d9d9;border-radius:18px;color:#000;opacity:.25}.footBtn[data-v-45ede1ce],.xy-btn-circulation[data-v-45ede1ce]{width:96px;height:36px;font-size:14px;font-weight:400}.footBtn[data-v-45ede1ce]{background:#fff;border:1px solid #4196ff;border-radius:18px;color:#4196ff}",""]),t.exports=e},"80c4":function(t,e,a){t.exports=a.p+"img/seal-undo.497fe28b.png"},8517:function(t,e,a){var i=a("d818");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("dbff5d68",i,!0,{sourceMap:!1,shadowMode:!1})},"86d3":function(t,e,a){var i=a("e435");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("502d86d9",i,!0,{sourceMap:!1,shadowMode:!1})},"885f":function(t,e,a){"use strict";var i=a("a7e0"),o=a.n(i);o.a},"89e2":function(t,e,a){var i=a("f178");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("0ab0bbf1",i,!0,{sourceMap:!1,shadowMode:!1})},"8ad5":function(t,e,a){var i=a("a1a8"),o=a("e505"),s=a("6d16");e=i(!1);var n=o(s);e.push([t.i,".setting-container{position:relative}.new-btn{position:absolute;z-index:900;top:14px;right:14px}.container{padding:20px 0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}.box,.container{display:-webkit-box;display:-ms-flexbox;display:flex}.box{width:290px;height:160px;margin-right:20px;margin-bottom:20px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.box-type{border:1px solid #f1f1f1}.box-type,.box .add{width:290px;height:160px;background:#fff;font-size:14px}.box .add{border:1px dashed #d9d9d9}.box-type .dot{background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .dot,.box-type .m1{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m1{background:#4196ff;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m2{background:#ea6666;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m2,.box-type .m3{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m3{background:#ffa247;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m4{background:#48c98d;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m4,.box-type .m5{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m5{background:#fbda55;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m6{background:#39aca0;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m6,.box-type .m7{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m7{background:#4196ff;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m8{background:#ea6666;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m8,.box-type .m9{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m9{background:#ffa247;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m10{background:#48c98d;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m10,.box-type .m11{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m11{background:#fbda55;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m12{background:#39aca0;background:#4196ff;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m12,.box-type .m13{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m13{background:#ea6666;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m14{background:#ffa247;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m14,.box-type .m15{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m15{background:#48c98d;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m16{background:#fbda55;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m16,.box-type .m17{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m17{background:#39aca0;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m18{background:#4196ff;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m18,.box-type .m19{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m19{background:#ea6666;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m20{background:#ffa247;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type .m,.box-type .m20{float:left;margin:20px;width:48px;height:48px;border-radius:10px}.box-type .m{background:#ffb748;background-image:url("+n+");background-repeat:no-repeat;background-size:22px;background-position:50%}.box-type>p:first-of-type{font-size:16px;height:40%;color:#444;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.is-select{color:hsla(0,0%,60%,.4)!important}.box-type .ivu-icon{font-size:22px}.add{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer}.add,.box-type>p:nth-of-type(2){display:-webkit-box;display:-ms-flexbox;display:flex}.box-type>p:nth-of-type(2){font-size:14px;height:30%;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;line-height:5px;color:#999}.add>p:nth-of-type(2){font-size:16px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.icon-add{font-size:22px;cursor:pointer;color:#b7b6b6}.box-bt{width:100%;height:30%}.bt-group button{width:50%;height:100%}.box-type .ivu-btn{border-radius:0 0 8px 8px;background:#f9fafb;border:0;color:#999;font-size:14px}.bt-group{width:100%;height:100%;border-top:1px solid #e9e9e9;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;background:#f9fafb}.bt-group,.bt-icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bt-icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:1;flex:1;cursor:pointer}.bt-icon button{height:100%;-webkit-box-shadow:none!important;box-shadow:none!important}.bt-icon button i{margin-right:10px}.bt-group>span{height:16px;width:1px;background-color:#e8e8e8}.bt-icon .ivu-btn{border-radius:0 0 2px 2px;background:#f9fafb;border:0;color:#999;font-size:14px;padding:0 11px}.bt-group .bt-base:hover{transition:.2s;transition-timing-function:ease-in-out;-webkit-transition:.2s;-webkit-transition-timing-function:ease-in-out}.bt-group .btn-noty:hover button{color:#4196ff}.bt-group .dele-bt:hover button{color:#ea6666}.bg-admin:hover{color:none!important}",""]),t.exports=e},"8fb4":function(t,e,a){t.exports=a.p+"img/circle-fork-red.11ff1d55.svg"},9089:function(t,e,a){t.exports=a.p+"img/radio-white.303b846c.svg"},9386:function(t,e,a){"use strict";var i=a("1049"),o=a.n(i);o.a},"96a6":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"clearfix"},[t.info?i("div",[i("div",{staticClass:"approval-card"},[i("div",{staticClass:"main-info"},[i("div",{staticClass:"left"},[i("span",{staticClass:"avatar"},[t.info&&t.info.DocumentInfo&&""===t.info.DocumentInfo.CreateIcon?i("span",[t._v(" "+t._s(t.showName(t.info.DocumentInfo.CreatedByName))+" ")]):t._e(),t.info&&t.info.DocumentInfo&&t.info.DocumentInfo.CreateIcon?i("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%",float:"left"},attrs:{src:t.mainUrl+t.info.DocumentInfo.CreateIcon+"?time ="+(new Date).getTime(),alt:""}}):t._e()]),i("p",{staticClass:"name-number"},[i("span",{staticClass:"CreatedByName",domProps:{textContent:t._s(t.info&&t.info.DocumentInfo&&t.info.DocumentInfo.CreatedByName||"")}}),i("span",{staticClass:"schoolNumber",domProps:{textContent:t._s(t.info&&t.info.DocumentInfo&&t.info.DocumentInfo.DocumentStatusName||"")}})])]),t.info&&t.info.DocumentInfo&&t.info.DocumentInfo.DocumentStatus?i("div",{staticClass:"right"},[16===t.info.DocumentInfo.DocumentStatus?i("img",{staticClass:"no-data-img",attrs:{src:a("80c4")}}):t._e()]):t._e()])]),t.info&&t.info.DocumentInfo?i("ul",{staticClass:"leave-list",staticStyle:{"margin-bottom":"66px"}},[i("li",{staticClass:"info-item"},[i("span",{staticClass:"title"},[t._v("主题：")]),i("span",{staticClass:"content",domProps:{innerHTML:t._s(t.info.DocumentInfo.Title)}})]),i("li",{staticClass:"info-item"},[i("span",{staticClass:"title"},[t._v("公文种类：")]),i("span",{staticClass:"content"},[t._v(t._s(t.info.DocumentInfo.TypeName))])]),i("li",{staticClass:"info-item"},[i("span",{staticClass:"title"},[t._v("发文机关：")]),i("span",{staticClass:"content"},[t._v(t._s(t.info.DocumentInfo.DocumentAgency))])]),i("li",{staticClass:"info-item"},[i("span",{staticClass:"title"},[t._v("发文字号：")]),i("span",{staticClass:"content"},[t._v(t._s(t.info.DocumentInfo.DocumentNumber))])]),i("li",{staticClass:"info-item file-content"},[i("span",{staticClass:"title"},[t._v("文件内容：")]),t.info.DocumentInfo.DocFileList&&t.info.DocumentInfo.DocFileList.length?i("div",{staticClass:"fileWrap"},t._l(t.info.DocumentInfo.DocFileList,(function(e,a){return i("div",{key:a,staticClass:"content"},[i("div",["SVG"===e.FileType||"svg"===e.FileType||"BMP"===e.FileType||"JPG"===e.FileType||"JPEG"===e.FileType||"PNG"===e.FileType||"GIF"===e.FileType||"bmp"===e.FileType||"jpg"===e.FileType||"jpeg"===e.FileType||"png"===e.FileType||"gif"===e.FileType?i("i",{staticClass:"iconfont iconimg"},[t._v("")]):i("i",{staticClass:"iconfont icontext"},[t._v("")])]),i("div",{staticClass:"fileL"},[i("div",{staticClass:"fileName",attrs:{title:e.FileName}},[t._v(" "+t._s(e.FileName)+" ")]),i("div",{staticClass:"fileSize"},[t._v(" "+t._s(e.FileLength/1024/1024>=1?(e.FileLength/1024/1024).toFixed(2)+"MB":(e.FileLength/1024).toFixed(2)+"KB")+" ")])]),i("div",{staticClass:"fileR"},[i("Button",{attrs:{shape:"circle"},on:{click:function(a){return t.downLoad(e)}}},[t._v("下载")])],1)])})),0):t._e()]),i("li",{staticClass:"info-item img-list"},[i("DocCirculation",{staticStyle:{"margin-top":"15px"},attrs:{workflow:t.workflow}})],1)]):t._e()]):t._e()])])},o=[],s=(a("77ad"),a("20a5"),a("e35a"),a("f4e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"titles"},[t._v("公文流转")]),a("div",{staticClass:"content"},[this.list?a("ul",{staticClass:"flow-wrapper"},[t._l(this.list,(function(e,i){return a("li",{key:i,staticClass:"flow-item",staticStyle:{padding:"0"}},["DocumentInfo"===i?a("div",{staticClass:"flow-item-line"}):t._e(),"DocumentInfo"===i?a("div",{staticClass:"flow-item-header"},[a("span",[t._v("发起")]),a("img",{staticStyle:{position:"absolute",top:"25px",left:"26px","border-radius":"50%",width:"16px",height:"16px"},attrs:{src:t.trueImg,alt:""}})]):t._e(),"DocumentInfo"===i?a("div",{staticClass:"flow-item-content"},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title",staticStyle:{"align-self":"flex-end"}},[t._v(t._s(e.CreatedByName))]),a("div",{staticClass:"flow-content-time",staticStyle:{"align-self":"flex-start"}},[t._v(t._s(t.xy.moment(e.CreatedTime).format("MM-DD HH:mm")))])]),a("div",{staticClass:"flow-content-body",staticStyle:{opacity:".65"}},[a("span",{staticClass:"flow-content-reason work-break-wrap"},[t._v(t._s(e.Note))])])]):t._e(),"NodeList"===i?a("div",t._l(e,(function(i,o){return a("div",{key:Math.floor(1e4*Math.random()+o)},["申请结束"===i.OrderName?a("div",[a("div",{staticClass:"flow-item-header2"},[t._m(0,!0),4!==i.UserList[0].ApplyEndStatus?a("img",{staticStyle:{position:"absolute",right:"0",bottom:"0","border-radius":"50%",width:"16px",height:"16px",transform:"translate(25%, 25%)"},attrs:{src:t.trueImg,alt:""}}):a("img",{staticStyle:{position:"absolute",right:"0",bottom:"0","border-radius":"50%",width:"16px",height:"16px",transform:"translate(25%, 25%)"},attrs:{src:t.falseImg,alt:""}})]),a("div",{staticClass:"flow-item-content2"},[0!==i.CommentList.length||e.length!==o+1||e.length===o+1&&2===i.UserList[0].ApplyEndStatus?a("div",{staticClass:"flow-item-line"}):t._e(),a("div",{staticClass:"maincirculation"},[t._l(i.UserList.slice(0,t.displayNum),(function(e,i){return a("div",{key:i,staticClass:"circulation"},[a("div",{staticClass:"flow-content-title dtdd"},[a("span",{staticClass:"flow-avatar3",staticStyle:{display:"inline-block",opacity:"1"}},[""===e.Icon?a("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.showName(e.FullName)))]):a("img",{staticStyle:{width:"25px",height:"25px","border-radius":"50%",float:"left"},attrs:{src:t.mainUrl+e.Icon+"?time ="+(new Date).getTime(),alt:""}})]),a("span",{staticClass:"circulationName"},[t._v(t._s(e.FullName))])])])})),4===i.UserList[0].ApplyEndStatus?a("p",[t._v("("+t._s(t.list.DocumentInfo.CreatedByName)+"驳回了您的申请。)")]):t._e()],2)])]):a("div",[a("div",{staticClass:"flow-item-header3"},[a("span",[t._v(" "+t._s(i.OrderName)+" ")])]),a("div",{staticClass:"flow-item-content"},[0!==i.CommentList.length||4===t.list.DocumentInfo.DocumentStatus||2===t.list.DocumentInfo.DocumentStatus||e.length!==o+1?a("div",{staticClass:"flow-item-line",staticStyle:{display:"block"}}):t._e(),i.UserList?a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title circulation-number"},[a("span",[t._v("流转"+t._s(i.TotalUserCount)+"人")]),a("span",{staticClass:"alreadySignIn"},[t._v(t._s(i.SignedCount)+"人已签收。")])]),a("div",{staticClass:"flow-content-time"},[t._v(t._s(t.xy.moment(i.SendTime).format("MM.DD HH:mm")))])]):t._e(),i.TotalUserCount>6?a("div",{staticClass:"maincirculation"},[t._l(i.UserList.slice(0,t.displayNum),(function(e,i){return a("div",{key:i,staticClass:"circulation"},[a("div",{staticClass:"flow-content-title dtdd"},[a("span",{staticClass:"flow-avatar3",staticStyle:{display:"inline-block",opacity:"1"}},[""===e.Icon?a("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.showName(e.FullName)))]):a("img",{staticStyle:{width:"25px",height:"25px","border-radius":"50%",float:"left"},attrs:{src:t.mainUrl+e.Icon+"?time ="+(new Date).getTime(),alt:""}}),e.IsSign?a("img",{staticStyle:{position:"absolute",width:"13px",height:"13px",left:"17px",top:"-4px","border-radius":"50%"},attrs:{src:t.trueImg,alt:""}}):t._e()]),a("div",{staticClass:"circulationName",attrs:{title:e.FullName}},[t._v(t._s(e.FullName))])])])})),a("div",{directives:[{name:"show",rawName:"v-show",value:t.more,expression:"more"}],staticClass:"circulation",on:{click:function(e){return t.moreUser(i.TotalUserCount)}}},[a("div",{staticClass:"flow-content-title dtdd"},[a("div",{staticClass:"moreCirWrap"},[a("div",{staticClass:"moreCir"}),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("span",{staticClass:"circulationName"},[t._v("更多")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.less,expression:"less"}],staticClass:"circulation",on:{click:t.lessUser}},[a("div",{staticClass:"flow-content-title dtdd"},[a("div",{staticClass:"moreCirWrap"},[a("div",{staticClass:"moreCir"}),a("Icon",{attrs:{type:"ios-arrow-up"}})],1),a("span",{staticClass:"circulationName"},[t._v("收起")])])])],2):a("div",{staticClass:"maincirculation"},t._l(i.UserList,(function(e,i){return a("div",{key:i,staticClass:"circulation"},[a("div",{staticClass:"flow-content-title dtdd"},[a("span",{staticClass:"flow-avatar3",staticStyle:{display:"inline-block",opacity:"1"}},[""===e.Icon?a("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.showName(e.FullName)))]):a("img",{staticStyle:{width:"25px",height:"25px","border-radius":"50%",float:"left"},attrs:{src:t.mainUrl+e.Icon+"?time ="+(new Date).getTime(),alt:""}}),e.IsSign?a("img",{staticStyle:{position:"absolute",width:"13px",height:"13px",left:"17px",top:"-4px","border-radius":"50%"},attrs:{src:t.trueImg,alt:""}}):t._e()]),a("div",{staticClass:"circulationName",attrs:{title:e.FullName}},[t._v(t._s(e.FullName))])])])})),0)])]),a("div",{staticClass:"plList"},t._l(i.CommentList.slice(0,t.plList[o].num),(function(s,n){return a("div",{key:n,staticClass:"flow-item-content"},[a("div",{staticClass:"openBtn"},[a("div",{staticClass:"flow-item-spot"}),a("div",{staticClass:"flow-content-header"},[a("span",{staticClass:"flow-content-title talk"},[a("span",{staticStyle:{color:"#4196FF"}},[t._v(t._s(s.FullName))]),t._v(" 添加了评论 ")]),0===n&&i.CommentList.length>2?a("span",{staticClass:"flow-content-time openOrback"},[a("a",{directives:[{name:"show",rawName:"v-show",value:t.plList[o].open,expression:"plList[y].open"}],staticClass:"flow-content-btn--showDetail",attrs:{href:"javascript:;"},on:{click:function(e){return t.isOpenClose(o)}}},[t._v(" 展开 "),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--t2b"})]),a("a",{directives:[{name:"show",rawName:"v-show",value:t.plList[o].close,expression:"plList[y].close"}],staticClass:"flow-content-btn--hideDetail",attrs:{href:"javascript:;"},on:{click:function(e){return t.isOpenClose(o)}}},[t._v(" 收起 "),a("span",{staticClass:"cssIcon-triangle cssIcon-triangle--b2t"})]),a("span",[t._v(t._s(t.xy.moment(s.AddCommentTime).format("MM.DD HH:mm")))])]):a("span",{staticClass:"flow-content-time openOrback"},[a("span",[t._v(t._s(t.xy.moment(s.AddCommentTime).format("MM.DD HH:mm")))])])]),a("div",{staticClass:"flow-content-body"},[a("p",{staticClass:"flow-content-reason work-break-wrap"},[t._v(t._s(s.Comment))]),a("div",{staticClass:"fileWrap"},t._l(s.FileList,(function(e,i){return a("div",{key:i,staticClass:"content"},[a("div",["SVG"===e.FileType||"svg"===e.FileType||"BMP"===e.FileType||"JPG"===e.FileType||"JPEG"===e.FileType||"PNG"===e.FileType||"GIF"===e.FileType||"bmp"===e.FileType||"jpg"===e.FileType||"jpeg"===e.FileType||"png"===e.FileType||"gif"===e.FileType?a("i",{staticClass:"iconfont iconimg"},[t._v("")]):a("i",{staticClass:"iconfont icontext"},[t._v("")])]),a("div",{staticClass:"fileL"},[a("div",{staticClass:"fileName",attrs:{title:e.FileName}},[t._v(" "+t._s(e.FileName)+" ")]),a("div",{staticClass:"fileSize"},[t._v(" "+t._s(e.FileLength/1024/1024>=1?(e.FileLength/1024/1024).toFixed(2)+"MB":(e.FileLength/1024).toFixed(2)+"KB")+" ")])]),a("div",{staticClass:"fileR"},[a("Button",{attrs:{shape:"circle"},on:{click:function(a){return t.downLoad(e)}}},[t._v("下载")])],1)])})),0)]),o+1!==e.length||2===i.UserList[0].ApplyEndStatus||o+1===e.length&&(n+1!==i.CommentList.length&&1!==n||1===n&&t.plList[o].close&&i.CommentList.length>2)?a("div",{staticClass:"flow-item-line"}):t._e()])])})),0)])})),0):t._e()])})),4===t.list.DocumentInfo.DocumentStatus?a("li",{staticClass:"flow-item"},[a("div",{staticClass:"flow-item-header2"},[t._m(1),a("img",{staticStyle:{position:"absolute",bottom:"0",right:"0",transform:"translate(25%, 25%)","border-radius":"50%",width:"16px",height:"16px"},attrs:{src:t.trueImg,alt:""}})]),a("div",{staticClass:"flow-item-content"},[a("div",{staticClass:"flow-content-header"},[a("div",{staticClass:"flow-content-title",staticStyle:{"align-self":"flex-end"}},[t._v(t._s(t.list.DocumentInfo.CreatedByName))])])])]):t._e()],2):t._e()])])}),n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-avatar2"},[a("div",[a("span",[t._v(" 申请 ")]),a("span",[t._v(" 结束 ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-avatar2"},[a("div",[a("span",[t._v("流程")]),a("span",[t._v("结束")])])])}],r=a("67be"),l=a("54b9"),c={name:"WorkflowApproval",props:["workflow"],inject:["reload"],data:function(){return{trueImg:l,falseImg:r,mainUrl:this.xyApi+"/base",list:[],signList:[],more:!0,less:!1,displayNum:5,isOpen:!1,isClose:!1,commentNum:0,docTypeList:[],statusNow:0,plList:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.getList()}))},watch:{workflow:{handler:function(){this.getList()},deep:!0,immediate:!0}},methods:{getList:function(){if(this.list=this.workflow,this.signList=this.list.NodeList,this.$forceUpdate(),this.statusNow=this.list.DocumentInfo.DocumentStatus,0!==this.signList.length){for(var t=0;t<this.signList.length;t++)this.signList[t].CommentList.length>2?this.plList.push({close:!1,open:!0,num:2}):this.plList.push({close:!1,open:!1,num:this.signList[t].CommentList.length});this.$set(this.plList[this.signList.length-1],"num",this.signList[this.signList.length-1].CommentList.length)}for(var e=0;e<2;e++)for(var a=0;a<this.signList.length;a++)this.isOpenClose(a)},showName:function(t){if(null!=t)return/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>2?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2))},isOpenClose:function(t){this.plList[t].open?(this.plList[t].close=!0,this.plList[t].open=!1,this.plList[t].num=this.signList[t].CommentList.length):(this.plList[t].close=!1,this.plList[t].open=!0,this.plList[t].num=2)},moreUser:function(t){this.more=!1,this.less=!0,this.displayNum=t},lessUser:function(){this.more=!0,this.less=!1,this.displayNum=5},downLoad:function(t){var e=t.FilePath.match(/\/([^/]*)$/)[1],a={u:"".concat(this.$store.state.apiPath,"/api/DocCirculation/DownLoadFile"),d:JSON.stringify({file:e,uploadFileName:t.FileName})},i=this.$router.resolve({path:"/downLoad",query:a});window.open(i.href,"_blank")}}},d=c,p=(a("e8f3"),a("9ca4")),f=Object(p["a"])(d,s,n,!1,null,"48a1d706",null),u=f.exports,m={name:"DetailsLook",components:{DocCirculation:u},injece:["reload"],data:function(){return{imgTypeList:["BMP","JPG","JPEG","PNG","GIF"],mainUrl:this.xyApi+"/base",disLook:!1,workflow:[],filesMaxNumKB:0,filesMaxNumMB:0,filesMaxNumKBFixed:0,filesMaxNumMBFixed:0}},props:["info"],mounted:function(){var t=this;this.$nextTick((function(){t.getrows()}))},watch:{info:{handler:function(t){this.getrows()}},deep:!0},methods:{getrows:function(){if(this.workflow=this.info,this.info&&this.info.DocumentInfo&&this.info.DocumentInfo.DocFileList&&this.info.DocumentInfo.DocFileList.length){for(var t=0,e=this.info.DocumentInfo.DocFileList.length;t<e;t++)this.filesMaxNumKB+=this.info.DocumentInfo.DocFileList[t].FileLength/1024,this.filesMaxNumKB+=this.info.DocumentInfo.DocFileList[t].FileLength/1024/1024;this.filesMaxNumKBFixed=this.filesMaxNumKB.toFixed(2),this.filesMaxNumMBFixed=this.filesMaxNumMB.toFixed(2)}this.$forceUpdate()},showName:function(t){if(null!=t)return/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>2?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2))},downLoad:function(t){var e=t.FilePath.match(/\/([^/]*)$/)[1],a={u:"".concat(this.$store.state.apiPath,"/api/DocCirculation/DownLoadFile"),d:JSON.stringify({file:e,uploadFileName:t.FileName})},i=this.$router.resolve({path:"/downLoad",query:a});window.open(i.href,"_blank")}}},h=m,v=(a("ceef"),Object(p["a"])(h,i,o,!1,null,"794a6a7a",null));e["a"]=v.exports},9810:function(t,e,a){t.exports=a.p+"img/takeBack.e0f9abe4.png"},"9a80":function(t,e,a){"use strict";var i=a("35538"),o=a.n(i);o.a},"9ac1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAFC0lEQVRIS5VWb0yVdRR+zjnvFbFcW0S3aQQWcLUvfShEDbVES+CD84NstdpY5aa5mfElG9UoP5gZOlmlW2F+0GaCW665qE/FBeomlhtbTdDWH2W4NRTULUXu237/3j9cwHk3xnvf973n+T3POc85h3C7jw+qO/38U+TPqhHPWybklQl59zJ58MgbEfYGmbiX2fvmYOrd70HkzxSSpn3og1dn6hvEk+0CKWNKQEgg5EHYs9cJsL6230WBe+8/UHrjUDM1Z6eKPSVgVWZ9eR7oMEEqVDDFRtiC6eARULbP7X3W70lfdgIv7F/4xtnJoDmAy3vrnmX22gUyly0j/T9g4sCiLMPDGEB9wKvEsmHfgm3fRkFjgFXp2rUkckKIZxkwMewUyyjDCLh6z1Ms1T249wwok9wkn9btLX2t04EGgE92r00R8ykGa2bmz7GQSK4MQ1s09n6Y25gqJsbVCdyq2PfwNi2vATy2QZbOH8sI+HH1A1LsoECcVLmALreeldspoVXh8LAqFjOf/ru4sLKd6ic04NLeZ16iLLUxsWVmGAaSWmBTPK4qXfE4+cLvUZZGKQYRv7y7ZPNBgg9a0rvmLPtc5gA1w4iknRVf3M6twfPNAzt1Rbt0aIaKCHhwd8mmFFX0rFohvvygb8UYqjyxTr4CHLj+B44Of40b/ji2FjUgmXcf+q8N4NilTn39XLIOBYl78OrATp1XVwfq4KTjMphpJS1JV7cA3KhuigV0DB3Lw499jC2/N+FGdlwfoCXVhJL8B/HT6Bnsv3BUAyzIL8JbxRuxZXBX4NlQTisrZA9Vdld3kU/LTbEoUFehLo8e6u5fje/+TQf5c4A/jp7BgYtfBvKvL6zGyZFuLaerAcNOwBAQc5oq09XDRJx0kob5CwF1S4t0FAeYvtKHz4Y6Aq9aw8csFbA0KbukAMcJ7DmdNUNrCVdtGkwZxVZoFPDToQ54lLCMLDPba10eA5ZEtzQgB4C2oiKy2o5huontOntTb+Oh/HnoutKHtqHjYYPQ3cZ51qXGSKpBwTeNpOCk9Uosh9O1ttaFzZg/OwknqQQMlQqGbehjVzBO0kjRTPZh1ItOTsWydVEz5uclDcOLHbG2Z8aV87EzvUoTg1jStDhd3cLEjZqhEiSn20Q7iLl2gJrhxY5YQZnWFvWh6jIWOEt7YsZ3tpjsQxfEVGECBxbtQOGsAvw81o+PLhyxA9i2PZtD1zRMqgxDFlppWlvPmgEGl07nQzOCElhTsAK1hU/jkTnFupX5vo/+64MaODPWb/ynJVX5cl60yjGf+6B4U3lO857Sh0FvjE57twWEltB5VgwD39rJQwyQvPJhyaa2cDzNG8sImfEUr7KZBnB8E3AFE+00thB/+aukcHEwnpQ8lV01jyYEGSK5O2c02Un+evFGrCpYFpscXZf7cGj4K+gly+wzkUmhpb3GE35lS9nW38IBbENU9dauJeITApm0Ypggd3lzsDvVhKLZ8/Qv/vlvGO/9+Qkm/GwAEt3imOUmEa3bu2CKFcMdWy1RQl47k8yNntYFKskvwq7y7fDh453zrRgeH4Ga+sFwDjeFqwDVt5Y2BvtMDkMHqtdEn44wyRPBXhNpbUpWAqN39FfoLhNZsEzB3MGaGCRILcJ99Q0C702GlMb20klrRmQ1PMec2HnHi3CsKnxQzakXVwhJXbjqS4FwYkJILjO888KJHiI6+fnCHV1Qzp7h8z8/hDRpICXVCgAAAABJRU5ErkJggg=="},a5fa:function(t,e,a){t.exports=a.p+"img/circle-check-green.e4d7b7aa.svg"},a745:function(t,e,a){var i=a("4978");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("43e806a0",i,!0,{sourceMap:!1,shadowMode:!1})},a7bf:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-body"},[a("div",{staticStyle:{width:"600px",margin:"0 auto"}},[a("i-form",{ref:"formValidateOk",attrs:{model:t.formValidateOk,rules:t.ruleValidateOk,"label-width":80}},[a("form-item",{attrs:{label:"主题",prop:"theme",labelFor:"theme"}},[a("i-input",{attrs:{type:"text",maxlength:"20",placeHolder:"请填写公文内容主题",elementId:"theme"},model:{value:t.formValidateOk.theme,callback:function(e){t.$set(t.formValidateOk,"theme",e)},expression:"formValidateOk.theme"}})],1),a("form-item",{attrs:{label:"公文标题",prop:"title",labelFor:"title"}},[a("i-input",{attrs:{type:"textarea",maxlength:"100",placeHolder:"请填写公文标题",elementId:"title"},model:{value:t.formValidateOk.title,callback:function(e){t.$set(t.formValidateOk,"title",e)},expression:"formValidateOk.title"}})],1),a("form-item",{attrs:{label:"公文种类",prop:"officeTypeId"}},[a("i-select",{model:{value:t.formValidateOk.officeTypeId,callback:function(e){t.$set(t.formValidateOk,"officeTypeId",e)},expression:"formValidateOk.officeTypeId"}},t._l(t.typeAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name))])})),1)],1),a("form-item",{attrs:{label:"秘密等级",prop:"officeLevelId"}},[a("i-select",{on:{"on-change":t.getBarch},model:{value:t.formValidateOk.officeLevelId,callback:function(e){t.$set(t.formValidateOk,"officeLevelId",e)},expression:"formValidateOk.officeLevelId"}},t._l(t.levelAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name))])})),1)],1),a("form-item",{attrs:{label:"紧急程度",prop:"officeUrgentId"}},[a("i-select",{model:{value:t.formValidateOk.officeUrgentId,callback:function(e){t.$set(t.formValidateOk,"officeUrgentId",e)},expression:"formValidateOk.officeUrgentId"}},t._l(t.urgentAll,(function(e){return a("i-option",{key:e.ID,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name))])})),1)],1),a("form-item",{attrs:{label:"发文机关",labelFor:"organ"}},[a("i-input",{attrs:{type:"textarea",maxlength:"30",placeHolder:"请填写发文机关",elementId:"organ"},model:{value:t.formValidateOk.sendOffice,callback:function(e){t.$set(t.formValidateOk,"sendOffice",e)},expression:"formValidateOk.sendOffice"}})],1),a("form-item",{attrs:{label:"发文字号",labelFor:"officeFont"}},[a("i-input",{attrs:{type:"textarea",maxlength:"30",placeHolder:"请填写发文字号",elementId:"officeFont"},model:{value:t.formValidateOk.sendNameBrand,callback:function(e){t.$set(t.formValidateOk,"sendNameBrand",e)},expression:"formValidateOk.sendNameBrand"}})],1),a("form-item",{attrs:{label:"发文内容",prop:"files"}},[a("upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{format:t.uploadFormat,multiple:!0,"show-upload-list":t.showUploadList,"max-size":20480,"on-format-error":t.formatErrorIcon,headers:{"Access-Control-Allow-Origin":"*",XYTOKEN:t.token},"on-exceeded-size":t.MaxSizeIcon,"before-upload":t.BeforeUpload,"on-success":t.SuccessIcon,"on-error":t.ErrorIcon,action:t.puthUpload,"on-remove":t.RemoveIcon,"default-file-list":t.defaltFileList}},[a("p",{staticStyle:{color:"#7f7f7f"},attrs:{slot:"tip"},slot:"tip"},[t._v("支持文件格式：.rar .zip .doc .docx .xls .xlsx .ppt .pptx .pdf ，单个文件不能超过20Mb，最多支持上传10个文件。")]),a("i-button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("选择文件")])],1)],1),a("form-item",{attrs:{label:"附注",labelFor:"Remarks"}},[a("i-input",{attrs:{type:"textarea",maxlength:"300",placeHolder:"请填写公文印发传达范围等需要说明的事项",elementId:"Remarks"},model:{value:t.formValidateOk.otherInfo,callback:function(e){t.$set(t.formValidateOk,"otherInfo",e)},expression:"formValidateOk.otherInfo"}})],1)],1),t.barchData.length>0?a("div",{staticClass:"proval-con"},[a("WorkflowApply",{attrs:{workflow:t.barchData,isAddList:t.isAddList}})],1):t._e(),a("div",{staticClass:"btn-foot"},[a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle",loading:t.isShowSpin},on:{click:t.ok}},[t._v("提交")]),a("Button",{staticClass:"xy-btn-close",staticStyle:{"margin-right":"30px"},on:{click:t.ReturnClick}},[t._v("取消")])],1),a("Modal",{attrs:{title:"审批人"},on:{"on-ok":t.modalOk2},model:{value:t.shenpi,callback:function(e){t.shenpi=e},expression:"shenpi"}},[a("radio-group",{on:{"on-change":t.radioChangeSure},model:{value:t.sureId,callback:function(e){t.sureId=e},expression:"sureId"}},t._l(t.shenpiMore,(function(e,i){return a("radio",{key:i,staticClass:"check-name",attrs:{size:"large",label:e.UserID+"?"+e.FullName}},[t._v(t._s(e.FullName)+" ")])})),1)],1),a("Modal",{attrs:{title:"审批人"},on:{"on-ok":t.modalOk3},model:{value:t.shenpi1,callback:function(e){t.shenpi1=e},expression:"shenpi1"}},t._l(t.shenpiMore,(function(e,i){return a("div",{key:i},[a("Tag",[t._v(t._s(e.FullName))])],1)})),0),a("Modal",{attrs:{title:"抄送给"},on:{"on-ok":t.chaosongok},model:{value:t.chaosong,callback:function(e){t.chaosong=e},expression:"chaosong"}},t._l(t.chaosongMore,(function(e,i){return a("div",{key:i},[a("Tag",[t._v(t._s(e.FullName))])],1)})),0),a("Modal",{attrs:{styles:{top:"20px",width:t.clientWidth+"px"},title:"选择人员"},on:{"on-ok":t.modalOk},model:{value:t.coperModal,callback:function(e){t.coperModal=e},expression:"coperModal"}},[a("row",{staticClass:"cascader-content"},[a("i-col",{staticClass:"cascader-content-left",attrs:{span:"6"}},[a("tree",{staticClass:"tree-dom",attrs:{data:t.coperTree},on:{"on-select-change":t.treeSelect2}})],1),a("i-col",{staticClass:"cascader-content-center",staticStyle:{"border-right":"none"},attrs:{span:"18"}},[a("div",[a("checkbox-group",{on:{"on-change":t.radioChange2},model:{value:t.coperId,callback:function(e){t.coperId=e},expression:"coperId"}},t._l(t.coper,(function(e,i){return a("checkbox",{key:i,staticClass:"check-name",attrs:{disabled:t.isSelect,size:"large",label:e.ID+"?"+e.Name,title:e.OrganizationName}},[t._v(t._s(e.Name)+" ")])})),1)],1),t.fAlert?a("alert",{staticStyle:{margin:"0px 0px 20px"},attrs:{"show-icon":""}},[t._v(" 温馨提示 "),a("icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),a("template",{slot:"desc"},[t._v(" 点击左侧栏中的组织，右侧栏勾选人员 ")])],2):t._e(),0==t.coper.length&&t.isDataList?a("alert",{staticStyle:{margin:"0px 0px 20px"},attrs:{type:"warning","show-icon":""}},[t._v(" 未查询到相关数据 "),a("template",{slot:"desc"},[t._v(" 当前分组下暂无数据，请切换分组后重新查找 ")])],2):t._e()],1)],1),t.isLoadingShow?a("spin",{attrs:{fix:""}},[a("icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),a("div",[t._v("加载中...")])],1):t._e()],1)],1)])])},o=[],s=(a("b4fb"),a("fe59"),a("2eeb"),a("77ad"),a("053b"),a("513c"),a("e35a"),a("0d7a"),a("08ba"),a("5412")),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("e4ec"),c={components:{WorkflowApply:l["a"]},data:function(){return{isAddList:0,token:this.xy.getCookie(".XYTOKEN"),isShowSpin:!1,isEdit:!1,pofficeId:"",leaveTypeID:0,typeAll:[],levelAll:[],urgentAll:[],formValidateOk:{theme:"",title:"",officeTypeId:"",officeLevelId:"",officeUrgentId:"",sendOffice:"",sendNameBrand:"",files:[],otherInfo:""},ruleValidateOk:{theme:[{required:!0,message:"公文内容主题不能为空",trigger:"blur"},{type:"string",max:20,message:"主题不能超过20字符",trigger:"blur"}],title:[{required:!0,message:"公文标题不能为空",trigger:"blur"},{type:"string",max:100,message:"公文标题不能超过100字符",trigger:"blur"}],officeTypeId:[{required:!0,message:"公文种类不能为空",type:"number",trigger:"change"}],sendOffice:[{type:"string",max:30,message:"发文机关不能超过30字符",trigger:"blur"}],sendNameBrand:[{type:"string",max:30,message:"发文字号不能超过30字符",trigger:"blur"}],officeLevelId:[{required:!0,message:"秘密等级不能为空",type:"number",trigger:"change"}],officeUrgentId:[{required:!0,message:"紧急程度不能为空",type:"number",trigger:"change"}],files:[{required:!0,type:"array",message:"发文内容不能为空",trigger:"change"}],otherInfo:[{type:"string",max:300,message:"附注不能超过300字符",trigger:"blur"}]},showUploadList:!0,uploadFormat:["rar","zip","doc","docx","xls","xlsx","ppt","pptx","pdf"],defaltFileList:[],puthUpload:"",username:"",userId:"",barchData:[],coperModal:!1,clientWidth:1e3,coperTree:[],coper:[],coperId:[],fAlert:!0,isDataList:!1,isLoadingShow:!1,coperername:[],copererid:[],curModal:"",curArr:"",chaosong:!1,chaosongMore:[],shenpi:!1,shenpiMore:[],isSelect:!1,isSelect2:!1,sureName:[],sureId1:[],sureId:"",shenpi1:!1,teacherTree:[]}},created:function(){this.GetUserInfo(),this.getType(),this.getLevel(),this.getUrgent()},mounted:function(){this.puthUpload=this.$store.state.apiPath+"/api/OfficialDocument/Upload"},methods:{showName:function(t){return t?/^[\u4e00-\u9fa5]+$/g.test(t)?t.length>2?t.slice(-2):t:(/^[A-Za-z]+$/g.test(t),t.slice(0,2)):""},getType:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocType/GetAll")).then((function(e){t.typeAll=e.data}))},getLevel:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocSecretLevel/GetAll")).then((function(e){t.levelAll=e.data}))},getUrgent:function(){var t=this;t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocEmergencyLevel/GetAll")).then((function(e){t.urgentAll=e.data}))},formatErrorIcon:function(t,e){this.xy.msgError("文件格式不正确,只能上传.rar .zip .doc .docx .xls .xlsx .ppt .pptx .pdf格式的文件。")},MaxSizeIcon:function(t,e){this.xy.msgError("文件格式大小超过20M。")},BeforeUpload:function(t){var e=this.formValidateOk.files.length<10;return e?t.name.length>35?(this.xy.msgError("文件名称最多35个字符"),!1):void 0:(this.xy.msgError("最多支持上传10个文件。"),!1)},SuccessIcon:function(t,e,a){t.success&&(this.xy.msgSuc("上传成功。"),this.formValidateOk.files=a.map((function(t){return{FileName:t.response.data.FileName,VirtualPath:t.response.data.url}})))},ErrorIcon:function(t,e,a){console.log(t,e,a),this.xy.msgError(t)},RemoveIcon:function(t,e){this.formValidateOk.files=e.map((function(t){return{FileName:t.response.data.FileName,VirtualPath:t.response.data.url}}))},changeLoading:function(){this.loading=!1,this.$nextTick((function(){this.loading=!0}))},ok:function(){var t=this,e=this,a=[];this.barchData.forEach((function(t){a.push({NodeType:t.NodeType,ApprovalFlowNodeName:t.WorkFlowNodeName,ApprovalMemberRoleID:t.ApprovalMemberRoleID,ApprovalMemberType:t.ApprovalMemberType,ApprovalMode:t.ApprovalMode,IsApprovalMySelf:t.IsApprovalMySelf,IsApprovalComplete:t.IsApprovalComplete,ApprovalUsers:[],CCUsers:[]})}));for(var i=0,o=this.barchData.length;i<o;i++)2===this.barchData[i].NodeType?0===this.barchData[i].ApprovalMemberType?(this.barchData[i].isGo=!0,this.barchData[i].ApprovalMemberList.forEach((function(t){a[i].ApprovalUsers.push(t.UserID)}))):this.barchData[i].ApprovalMemberList.length>0?(this.barchData[i].isGo=!1,this.barchData[i].CheckedApprovalMemberList.map((function(e){e.IsShow&&(t.barchData[i].isGo=!0,a[i].ApprovalUsers.push(e.UserID))}))):this.barchData[i].isGo=!1:this.barchData[i].CheckedCcMemberList.forEach((function(t){a[i].CCUsers.push(t.UserID)}));if(0===this.barchData.length)return this.xy.msgError("请添加审批流程。"),!1;for(var s=0;s<this.barchData.length;s++)if(!1===this.barchData[s].isGo)return this.xy.msgError("审批人不能为空。"),!1;a&&this.$refs.formValidateOk.validate((function(t){if(!t)return e.changeLoading();e.isShowSpin=!0;var i={OfficialDocTheme:e.formValidateOk.theme,OfficialDocTitle:e.formValidateOk.title,OfficialDocTypeID:e.formValidateOk.officeTypeId,OfficialDocSecretLevelID:e.formValidateOk.officeLevelId,OfficialDocEmergencyLevelID:e.formValidateOk.officeUrgentId,FromOffice:e.formValidateOk.sendOffice,issueNumber:e.formValidateOk.sendNameBrand,remark:e.formValidateOk.otherInfo,List:e.formValidateOk.files,models:a};e.xy.post("".concat(e.$store.state.apiPath,"/api/OfficialDocument/Create"),i).then((function(t){e.isShowSpin=!1,t.success&&(e.changeLoading(),e.xy.msgSuc("创建成功。"),e.ReturnClick())}))}))},edit:function(){var t=this;this.$refs.formValidateOk.validate((function(e){if(!e)return t.changeLoading();t.isShowSpin=!0;var a={OfficialDocID:"",OfficialDocTheme:t.formValidateOk.theme,OfficialDocTitle:t.formValidateOk.title,OfficialDocTypeID:t.formValidateOk.officeTypeId,OfficialDocSecretLevelID:t.formValidateOk.officeLevelId,OfficialDocEmergencyLevelID:t.formValidateOk.officeUrgentId,FromOffice:t.formValidateOk.sendOffice,issueNumber:t.formValidateOk.sendNameBrand,remark:t.formValidateOk.otherInfo,List:t.formValidateOk.files};t.xy.post("".concat(this.$store.state.apiPath,"/api/OfficialDocument/Update"),a).then((function(e){t.isShowSpin=!1,e.data.success&&(t.xy.msgSuc("创建成功。"),t.changeLoading(),t.ReturnClick())}))}))},ReturnClick:function(){this.$router.back()},GetUserInfo:function(){var t=this;this.xy.get("".concat(t.xyApi,"/base/api/Users/GetUserInfo")).then((function(e){e.success&&(t.username=e.data.FullName,t.userId=e.data.UserID)}))},getBarch:function(t){var e=this;return Object(r["a"])(n.a.mark((function a(){var i,o;return n.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),i=e,a.next=4,i.xy.post(i.$store.state.apiPublic+"/api/WorkFlowSetting/ApprovalProcessByCondition",{ApplicantUserID:e.userId,OrganizationID:0,WorkFlowType:1,ConditionValues:[{Type:1,Code:4,Value:t}]});case 4:o=a.sent,o.success&&(e.xy.unloading(),e.barchData=[],e.barchData=o.data);case 6:case"end":return a.stop()}}),a)})))()},addCoper:function(t){this.coperModal=!0,this.isLoadingShow=!0;var e=this;this.coper=[],this.isSelect=!1,this.curArr=t,this.coperTree=[],this.xy.get("".concat(this.xyApi,"/api/OfficialDocWorkTemplate/GetTeacherTree")).then((function(t){if(t.success){e.isLoadingShow=!1;for(var a=t.data.data,i=0;i<a.length;i++)console.log(a[i]),e.coperTree.push({title:a[i].Name,children:e.getWorkFlowTeacherTree(a[i].Children),id:a[i].SchoolDistrictID,nodetype:a[i].SchoolDistrictID,Users:a[i].Users,mm:"3"})}}))},getWorkFlowTeacherTree:function(t){var e=this;if(t.length>0){for(var a=[],i=0;i<t.length;i++){var o=[];void 0!==t[i].Users&&(o=t[i].Users),a.push({title:t[i].Name,children:e.getWorkFlowTeacherTree(t[i].Children),id:t[i].SchoolDistrictID,nodetype:t[i].SchoolDistrictID,Users:o,mm:"1"})}return a}},treeSelect2:function(t){if(this.modalOk(),console.log(t),this.coper=[],this.teacherTree=[],this.coperId=[],this.copererid=[],this.coperername=[],t.length>0){this.fAlert=!1,this.isDataList=!1;var e=this;t?(this.coper=t[0].Users,this.isDataList=!0):(e.isDataList=!0,e.isLoadingShow=!1)}},radioChange2:function(t){var e=this;console.log(e.barchData[e.curArr].CCUsers);var a=10-e.barchData[e.curArr].CCUsers.length-1;console.log(a,t),t.length>a?e.isSelect=!0:(e.coperername=t.map((function(t){return t.split("?")[1]})),e.copererid=t.map((function(t){return t.split("?")[0]})))},radioChangeSure:function(t){this.sureName=[],this.sureId=[],this.sureId1=[],console.log(t,t.split("?")[1],t.split("?")[0]);var e=this;e.sureId=t,e.sureName.push(e.sureId.split("?")[1]),e.sureId1.push(e.sureId),console.log(e.sureName,e.sureId,e.sureId1)},modalOk:function(){var t=this.coperId.map((function(t){return Number(t.split("?")[0])})),e=this.coperId.map((function(t){return t.split("?")[1]})),a=this.barchData[this.curArr].CCUsers.map((function(t){return t.UserID})),i=this.barchData[this.curArr].CCUsers.map((function(t){return t.FullName})),o=[];o=this.coperId.map((function(t){return{UserID:Number(t.split("?")[0]),FullName:t.split("?")[1],DisplayName:"抄送"}})),console.log(o);var s=a.concat(t);this.barchData[this.curArr].CRR=s;var n=i.concat(e);this.barchData[this.curArr].CCUsers=this.barchData[this.curArr].CCUsers.concat(o);for(var r=[],l={},c=0;c<this.barchData[this.curArr].CCUsers.length;c++)l[this.barchData[this.curArr].CCUsers[c].UserID]||(r.push(this.barchData[this.curArr].CCUsers[c]),l[this.barchData[this.curArr].CCUsers[c].UserID]=!0);console.log(r),this.barchData[this.curArr].CCUsers=r,console.log(s,n)},showMore:function(t){console.log(this.barchData[t].CCUsers),this.chaosong=!0,this.chaosongMore=this.barchData[t].CCUsers},chaosongok:function(){this.chaosong=!1},showmoreshenpi:function(t){this.curArr=t,console.log(t,this.barchData[t].ApprovalUsers),0===this.barchData[t].ApprovalMemberType?(this.shenpi1=!0,this.shenpiMore=this.barchData[t].ApprovalUsers):(this.sureId1=[],this.sureName=[],this.sureId="",this.shenpi=!0,this.shenpiMore=this.barchData[t].ApprovalUsers)},modalOk2:function(){console.log(this.sureId1);var t=this.barchData[this.curArr].ApprovalUsers.map((function(t){return t.DisplayName})),e=this.sureId1.map((function(e){return{UserID:Number(e.split("?")[0]),FullName:e.split("?")[1],DisplayName:t[0]}}));console.log(e),this.barchData[this.curArr].sureData=e,this.barchData[this.curArr].ApprovalUsers=this.barchData[this.curArr].ApprovalUsers,console.log(this.barchData[this.curArr].ApprovalUsers),this.shenpi=!1},modalOk3:function(){this.shenpi1=!1}}},d=c,p=(a("dce2"),a("9ca4")),f=Object(p["a"])(d,i,o,!1,null,"3d788db2",null);e["default"]=f.exports},a7e0:function(t,e,a){var i=a("d38a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("816571e4",i,!0,{sourceMap:!1,shadowMode:!1})},a8a5:function(t,e,a){var i=a("7f718");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("70b23492",i,!0,{sourceMap:!1,shadowMode:!1})},b18b:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-content-module[data-v-2776b24a] .ant-table-cell .comm-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.xy-content-module[data-v-2776b24a] .ant-table-cell .comm-title>span:first-of-type{text-align:center;margin-right:10px;display:inline-block;min-width:54px;height:24px;border-radius:4px}.xy-content-module[data-v-2776b24a] .ant-table-cell .comm-title>span:nth-of-type(2){text-align:left}.xy-content-module[data-v-2776b24a] .ant-table-cell .jj>span:first-of-type{background:#fff1f0;border:1px solid #ffa39e;color:#f5222d}.xy-content-module[data-v-2776b24a] .ant-table-cell .pt>span:first-of-type{background:#f6ffed;border:1px solid #b7eb8f;color:#52c41a}.xy-content-module[data-v-2776b24a] .ivu-table-body table,.xy-content-module[data-v-2776b24a] .ivu-table-header table{table-layout:auto!important;width:calc(100vw - 120px)!important}.flex-flow[data-v-2776b24a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mr[data-v-2776b24a]{margin-right:20px;margin-left:2px}.files-flex[data-v-2776b24a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 6px;border-radius:4px;margin-top:25px;cursor:pointer}.files-flex .files-flex-text[data-v-2776b24a]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:40px}.files-flex .files-flex-text i[data-v-2776b24a]{margin-right:5px}.files-flex .files-flex-text .icontext[data-v-2776b24a]{color:#4196ff}.files-flex .files-flex-text .iconimg[data-v-2776b24a]{color:#f1c64e}.files-flex[data-v-2776b24a]:hover{background:#f9f9f9}.replyFoot[data-v-2776b24a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e7e7e7}.replyFoot span[data-v-2776b24a]{font-size:14px;font-weight:400;color:#000;opacity:.45}.replyFoot button[data-v-2776b24a]{margin:8px 0}.fileBox[data-v-2776b24a]{height:168px;overflow:auto;padding-bottom:12px}.finish[data-v-2776b24a]{width:437px;height:114px;background:#fff;border-radius:4px;margin:35px 0 0 35px}.finish p[data-v-2776b24a]{line-height:22px;font-size:16px;font-weight:700;color:#212121}.xy-btn-circulation[data-v-2776b24a]{background:#f5f5f5;border:1px solid #d9d9d9;border-radius:18px;color:#000;opacity:.25}.footBtn[data-v-2776b24a],.xy-btn-circulation[data-v-2776b24a]{width:96px;height:36px;font-size:14px;font-weight:400}.footBtn[data-v-2776b24a]{background:#fff;border:1px solid #4196ff;border-radius:18px;color:#4196ff}",""]),t.exports=e},b1c2:function(t,e,a){t.exports=a.p+"img/refuse.720e875a.png"},b601:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.work-flow .work-flow-flex[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:90px;position:relative}.work-flow .work-flow-flex[data-v-d37b1fac]:before{content:"";width:97%;height:1px;border-bottom:1px dashed #e1e1e1;position:absolute;bottom:20px;left:15px}.work-flow:last-child .work-flow-flex[data-v-d37b1fac]:before{border-bottom:0}.work-flow .work-flow-flex .node-route[data-v-d37b1fac]{position:relative;width:100px;padding-left:15px;border-left:1px solid #d5d5d5}.work-flow .work-flow-flex .node-route[data-v-d37b1fac]:before{content:"";width:9px;height:9px;background:#d5d5d5;border-radius:50%;position:absolute;top:0;left:-5px}.work-flow:last-child .work-flow-flex .node-route[data-v-d37b1fac]{border-left:0}.work-flow .work-flow-flex .node-route .node-route-name[data-v-d37b1fac]{position:absolute;top:-5px}.work-flow .work-flow-flex .node-route .node-route-name .node-route-name-type[data-v-d37b1fac]{color:#333;font-weight:700}.work-flow .work-flow-flex .node-route .node-route-name .node-route-name-number[data-v-d37b1fac]{font-size:13px;color:#666;margin-top:5px}.work-flow .work-flow-flex .node-operation[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex}.work-flow .work-flow-flex .node-operation .node-operation-users[data-v-d37b1fac]{background:#4196ff;border-radius:50%;color:#fff}.work-flow .work-flow-flex .node-operation .node-operation-btn[data-v-d37b1fac],.work-flow .work-flow-flex .node-operation .node-operation-users[data-v-d37b1fac]{width:40px;height:40px;margin-left:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.work-flow .work-flow-flex .node-operation .node-operation-btn[data-v-d37b1fac]{border:1px dashed #4196ff;border-radius:50%}.bottom-text[data-v-d37b1fac]{width:40px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:20px}.bottom-text[data-v-d37b1fac],.modal-flex[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex}.modal-flex[data-v-d37b1fac]{-ms-flex-wrap:wrap;flex-wrap:wrap}.modal-flex .modal-list[data-v-d37b1fac]{width:20%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;margin:10px 0}.modal-flex .modal-list[data-v-d37b1fac],.modal-flex .modal-list .modal-users[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.modal-flex .modal-list .modal-users[data-v-d37b1fac]{width:40px;height:40px;background:#4196ff;border-radius:50%;color:#fff}.modal-flex .modal-list .modal-name[data-v-d37b1fac]{width:80%;text-align:center;margin-top:5px}.app-modal[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.app-modal .app-modal-box[data-v-d37b1fac]{width:44%;margin-right:20px;margin-bottom:20px;cursor:pointer}.app-modal .app-modal-box[data-v-d37b1fac],.app-modal .app-modal-box .app-modal-box-radio[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.app-modal .app-modal-box .app-modal-box-radio[data-v-d37b1fac]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:16px;height:16px;margin-right:10px;border-radius:50%;border:1px solid #d9d9d9}.app-modal .app-modal-box .app-modal-box-radio span[data-v-d37b1fac]{width:8px;height:8px;background:#fff;border-radius:50%}.app-modal .app-modal-box.active .app-modal-box-radio[data-v-d37b1fac]{border:1px solid #4196ff}.app-modal .app-modal-box.active .app-modal-box-radio span[data-v-d37b1fac]{background:#4196ff}.app-modal .app-modal-box .app-modal-box-left[data-v-d37b1fac]{width:40px;height:40px;margin-right:10px;background:#4196ff;border-radius:50%;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.app-modal .app-modal-box .app-modal-box-right[data-v-d37b1fac]{width:120px}.add-student-list[data-v-d37b1fac]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:10px;position:relative;border:1px solid #dcdee2;border-radius:4px;min-height:44px}.add-student-btn[data-v-d37b1fac],.add-student-list[data-v-d37b1fac]{display:-webkit-box;display:-ms-flexbox;display:flex}.add-student-btn[data-v-d37b1fac]{width:21px;height:21px;background:rgba(65,150,255,.1);border:1px solid #4196ff;border-radius:50%;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;bottom:4px;right:5px}.form-gzsm[data-v-d37b1fac]{background:#f9f9f9;border:1px solid #dcdee2;border-radius:4px;padding-left:10px}',""]),t.exports=e},b630:function(t,e,a){var i=a("b18b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("0f3fbd18",i,!0,{sourceMap:!1,shadowMode:!1})},bc51:function(t,e,a){var i=a("bed7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("2d136108",i,!0,{sourceMap:!1,shadowMode:!1})},bc78:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-title xy-flex xy-center xy-between"},[a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("状态：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.DocumentStatusypeSearch},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("i-option",{key:0,attrs:{value:0}},[t._v("全部")]),t._l(t.DocumentStatusype,(function(e){return a("i-option",{key:e.statusID,attrs:{value:e.statusID}},[t._v(t._s(e.status))])}))],2)],1),a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("时间筛选：")]),a("date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange",format:"yyyy-MM-dd",value:t.dataArr,editable:!1,placeholder:"请选择发起时间日期"},on:{"on-change":t.datesChange}})],1),a("div",{staticClass:"xy-content-title-search"},[a("i-input",{staticStyle:{width:"272px"},attrs:{search:"",placeholder:"请输入主题/发文字号/发起人"},on:{"on-search":t.FromSubmit},model:{value:t.searchT,callback:function(e){t.searchT=e},expression:"searchT"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.docAll,nullData:t.txt,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:1240},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"DocumentTypeName",fn:function(e,i){return a("div",{},[t._v(" "+t._s(i.DocumentTypeName)+" ")])}},{key:"Title",fn:function(e,i){return a("div",{staticStyle:{"min-width":"550px"}},[a("span",{staticClass:"ant-table-cell table-el-hover",staticStyle:{display:"inline-block"},domProps:{innerHTML:t._s(i.Title)},on:{click:function(e){return t.edit(i)}}})])}},{key:"CreatedTime",fn:function(e,i){return a("div",{},[t._v(" "+t._s(t.xy.moment(i.CreatedTime).format("YYYY-MM-DD HH:mm"))+" ")])}},{key:"DocumentStatus",fn:function(e,i){return a("span",{},[1===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),2===i.DocumentStatus||4===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),16===i.DocumentStatus||8===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.edit(i)}}},[t._v("详情")])])}}])}),a("modal",{attrs:{transfer:!1,title:"添加批复","mask-closable":!1},model:{value:t.modalCreateType,callback:function(e){t.modalCreateType=e},expression:"modalCreateType"}},[a("div",{staticClass:"dialog-model-content"},[a("Form",{ref:"formValidateAdd",attrs:{model:t.formValidateAdd,rules:t.ruleValidateCreate},on:{"on-validate":t.validate},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{prop:"textValue"}},[a("Input",{staticStyle:{"font-size":"14px"},attrs:{rows:8,maxlength:"300",type:"textarea",placeholder:"请输入批复内容"},model:{value:t.formValidateAdd.textValue,callback:function(e){t.$set(t.formValidateAdd,"textValue",e)},expression:"formValidateAdd.textValue"}})],1),a("div",{staticClass:"replyFoot"},[a("i-button",{staticClass:"pr",attrs:{icon:"ios-cloud-upload-outline"}},[a("input",{ref:"fileAll",staticClass:"pa cursor-p",staticStyle:{top:"0",left:"0",width:"100%",height:"100%",opacity:"0"},attrs:{type:"file",multiple:"multiple"},on:{change:function(e){return t.changeFunc(e)}}}),t._v(" 附件 ")]),a("span",[t._v(t._s(t.formValidateAdd.textValue.length)+"/300")])],1),a("FormItem",{attrs:{prop:"fileList"}},[a("div",{staticClass:"fileBox"},[t._l(t.formValidateAdd.filesList,(function(e,i){return[a("div",{key:i,ref:"filesDom",refInFor:!0,staticClass:"files-flex"},[a("div",{staticClass:"files-flex-text nowrap"},[e.type.indexOf("image")>-1?a("i",{staticClass:"iconfont iconimg"},[t._v("")]):a("i",{staticClass:"iconfont icontext"},[t._v("")])]),a("div",{staticClass:"fileInfo"},[a("span",{staticClass:"fileInfoName",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("span",{staticClass:"fileInfoSize"},[t._v(t._s(e.size/1024/1024>=1?(e.size/1024/1024).toFixed(2)+"MB":(e.size/1024).toFixed(2)+"KB"))])]),a("Icon",{attrs:{type:"md-close-circle",color:"#F5222D",size:"22"},on:{click:function(e){return t.delFiles(i)}}})],1)]}))],2)])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.creatTypeCancel}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.creatTypeOk}},[t._v("发送")])],1)]),a("modal",{attrs:{transfer:!1,closable:!1},model:{value:t.modalFinish2,callback:function(e){t.modalFinish2=e},expression:"modalFinish2"}},[a("div",{staticClass:"finish"},[a("p",[a("span",{staticClass:"mark-img"}),t._v(" "+t._s(this.applyEndPepName[this.applyEndPepName.length-1])+"申请流程结束，是否同意？")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.finishCancel2}},[t._v("拒绝")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.finishOk2}},[t._v("同意")])],1)])],1),a("Drawer",{staticClass:"detailModel",attrs:{width:"560",transfer:!1,"mask-closable":!1,styles:t.styles},on:{"on-close":t.closeLook},model:{value:t.isLook,callback:function(e){t.isLook=e},expression:"isLook"}},[a("div",{attrs:{slot:"header"},slot:"header"},[this.info.DocumentInfo?a("p",[t._v(" "+t._s(this.info.DocumentInfo.CreatedByName)+"提交的公文 ")]):t._e()]),a("div",{staticClass:"drawer"},[a("DetailsLook",{attrs:{info:t.info}})],1),a("div",{staticClass:"work-flow-drawer",staticStyle:{"z-index":"2"}},[t.info.HasSignBtn?a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.signFor}},[t._v("签收")]):t._e(),t.info.HasAddCommentBtn?a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.addReply}},[t._v("添加批复")]):t._e(),t.info.HasApplyEndBtn?a("Button",{staticClass:"mr footBtn",attrs:{shape:"circle"},on:{click:t.endApplication}},[t._v("申请结束")]):t._e(),t.info.HasReviewApplyEndBtn?a("Button",{staticClass:"mr footBtn",attrs:{shape:"circle"},on:{click:t.endApproval}},[t._v("结束审批")]):t._e(),t.info.HasAddCirculationBtn?a("Button",{staticClass:"mr footBtn",attrs:{shape:"circle"},on:{click:t.addCirculation}},[t._v("添加流转")]):t._e()],1)]),a("SelectTeacherOrg",{attrs:{isShow:t.isTeacher,teachers:[].concat(t.addPepList)},on:{"select-cancel":t.selectCancel,"select-confirm":t.selectConfirm}})],1)},o=[],s=(a("b4fb"),a("dbb3"),a("ecb4"),a("2eeb"),a("053b"),a("e35a"),a("0d7a"),a("5748")),n=a("5412"),r=a.n(n),l=(a("b449"),a("cf7f")),c=a("eb31"),d=a("96a6"),p=a("afa3"),f={name:"MyLaunch",components:{XyAntTable:c["a"],DetailsLook:d["a"],SelectTeacherOrg:p["a"]},inject:["reload"],created:function(){var t=this;this.apiPath=this.$store.state.apiPath,this.getListData(),this.getWidth(),window.addEventListener("resize",(function(){t.getWidth()}),!1)},data:function(){var t=this;return{totalMB:0,formValidateAdd:{textValue:"",filesList:[]},txt:"该搜索条件下没有结果。",ruleValidateCreate:{textValue:[{type:"string",max:300,message:"批复不能超过300个字",trigger:"blur"}],filesList:[{type:"array",min:1,message:"批复或文件内容不能为空",trigger:"blur"}]},validateBool:!1,mainUrl:this.xyApi+"/base",styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},applyEndPepName:[],filesMaxNumKB:0,filesMaxNumMB:0,filesMaxNumKBFixed:0,filesMaxNumMBFixed:0,filesList:[],isTeacher:!1,addPepList:[],DocumentStatusype:[{status:"未签收",statusID:"8"},{status:"进行中",statusID:"1"},{status:"申请结束",statusID:"2"},{status:"已结束",statusID:"4"}],total:0,pageSize:15,pageIndex:1,status:0,searchTimeBegin:[],searchTimeEnd:[],dataArr:["",""],searchT:"",docAll:[],columns:[{title:"公文种类",dataIndex:"DocumentTypeName",width:140,scopedSlots:{customRender:"DocumentTypeName"}},{title:"发起时间",dataIndex:"CreatedTime",width:150,scopedSlots:{customRender:"CreatedTime"}},{title:"主题",dataIndex:"Title",scopedSlots:{customRender:"Title"}},{title:"发文字号",dataIndex:"DocumentNumber",width:100},{title:"发起人",dataIndex:"CreatedByName",width:100},{title:"状态",width:120,dataIndex:"DocumentStatus",scopedSlots:{customRender:"DocumentStatus"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}],modalCreateType:!1,modalFinish:!1,modalFinish2:!1,id:"",info:[],docTypes:["rar","zip","png","jpg","jpeg","svg","gif","flash","doc","docx","dotx","dot","pdf","txt","xml","ppt","pptx","xls","xlsx","xlst"],isLook:!1,apiPath:"",endPep:"",winWidth:0,pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}},tableLoading:!0}},beforeDestroy:function(){var t=this;window.removeEventListener("resize",(function(){t.getWidth()}),!1)},methods:{handleTableChange:function(){this.getListData()},validate:function(t,e,a){this.validateBool=e},getWidth:function(){var t=document.body.clientWidth||document.documentElement.clientWidth;this.winWidth=t<=1366?1975-t:""},closeLook:function(){this.reload()},getListData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,a={PageIndex:t.pagination.current,PageSize:t.pagination.pageSize,Status:t.status,beginTime:t.dataArr[0],endTime:t.dataArr[1],SearchWord:t.searchT},e.next=4,t.xy.get(t.apiPath+"/api/DocCirculation/GetAboutMePageList",a);case 4:i=e.sent,t.tableLoading=!1,i.success&&(t.docAll=i.data.data,t.pagination.total=i.data.totalRecords,i.data.data&&i.data.data.length&&(t.columns[2].minWidth=i.data.data.filter((function(t){return t.Title.length>80})).length?660:300));case 7:case"end":return e.stop()}}),e)})))()},getDetailData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get(t.apiPath+"/api/DocCirculation/GetSendByMeDetail",{DocumentID:t.id});case 3:if(a=e.sent,t.xy.unloading(),a.success)for(t.info=a.data,i=0;i<t.info.NodeList.length;i++)"申请结束"===t.info.NodeList[i].OrderName&&t.applyEndPepName.push(t.info.NodeList[i].UserList[0].FullName);case 6:case"end":return e.stop()}}),e)})))()},DocumentStatusypeSearch:function(){this.pagination.current=1,this.getListData()},datesChange:function(t){this.dataArr=t,this.pagination.current=1,this.getListData()},FromSubmit:function(){this.pagination.current=1,this.getListData()},edit:function(t){this.isLook=!0,this.id=t.DocumentID,this.getDetailData()},addReply:function(){this.modalCreateType=!0},changeFunc:function(t){for(var e=0;e<t.target.files.length;e++){var a=t.target.files[e].name.split(".");if(this.docTypes.indexOf(a[a.length-1])<0)return void this.xy.msgError("上传文件格式错误。")}this.totalMB=0,this.formValidateAdd.filesList=[].concat(Object(s["a"])(this.formValidateAdd.filesList),Object(s["a"])(t.target.files));for(var i=0,o=this.formValidateAdd.filesList.length;i<o;i++)void 0!==this.formValidateAdd.filesList[i].isDel&&this.formValidateAdd.filesList[i].isDel||(this.$set(this.formValidateAdd.filesList[i],"isDel",!1),this.totalMB+=this.formValidateAdd.filesList[i].size/1024/1024)},delFiles:function(t){this.$set(this.formValidateAdd.filesList[t],"isDel",!0);var e=this.formValidateAdd.filesList.filter((function(t){return!t.isDel}));this.formValidateAdd.filesList=e,this.totalMB=0;for(var a=0,i=this.formValidateAdd.filesList.length;a<i;a++)this.formValidateAdd.filesList[a].isDel||(this.totalMB+=this.formValidateAdd.filesList[a].size/1024/1024);0===e.length&&(this.$refs.fileAll.value=null)},addCirculation:function(){this.isTeacher=!0},addPep:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],t.addPepList.map((function(t){a.push(t.UserID)})),i={DocumentID:t.id,AddUserList:a,Title:t.info.DocumentInfo.Title,CreatedByID:t.info.DocumentInfo.CreatedByID},e.next=5,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/AddSendTo"),i);case 5:o=e.sent,t.xy.unloading(),o.success&&(t.xy.msgSuc("添加流转成功。"),t.getDetailData());case 8:case"end":return e.stop()}}),e)})))()},selectCancel:function(){this.isTeacher=!1},selectConfirm:function(t){t.length>0?(this.isTeacher=!1,this.addPepList=Object(s["a"])(t),this.addPep()):this.xy.msgError("人员不能为空。")},creatTypeCancel:function(){this.modalCreateType=!1,this.formValidateAdd.typeName="",this.$refs.formValidateAdd.resetFields()},creatTypeOk:function(){this.totalMB>100?(this.xy.unloading(),this.xy.msgError("附件总大小不能超过100M。")):this.formValidateAdd.textValue||0!==this.formValidateAdd.filesList.length?this.Create():this.xy.msgError("批复或文件内容不能为空。")},Create:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.xy.loading(),a=new FormData,i=0,o=t.formValidateAdd.filesList.length;i<o;i++)a.append("file",t.formValidateAdd.filesList[i]);if(0===t.formValidateAdd.filesList.length){e.next=10;break}return e.next=6,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/UploadCommentFile"),a,!0);case 6:s=e.sent,s.success&&t.createFile(s.data),e.next=11;break;case 10:t.createFile();case 11:case"end":return e.stop()}}),e)})))()},createFile:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i,o,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={DocumentID:e.id,CreatedByID:e.info.DocumentInfo.CreatedByID,Title:e.info.DocumentInfo.Title,Comment:e.formValidateAdd.textValue,FileInfo:t},a.next=3,e.xy.post("".concat(e.$store.state.apiPath,"/api/DocCirculation/AddComment"),i);case 3:if(o=a.sent,e.xy.unloading(),!o.success){a.next=14;break}return e.modalCreateType=!1,e.xy.msgSuc("添加批复成功。"),a.next=10,e.xy.get(e.apiPath+"/api/DocCirculation/GetSendByMeDetail",{DocumentID:e.id});case 10:s=a.sent,s.success&&(e.info=s.data),e.formValidateAdd.textValue="",e.formValidateAdd.filesList=[];case 14:case"end":return a.stop()}}),a)})))()},endApplication:function(){var t=this;this.xy.confirm("申请结束","您确定申请流程完成吗?",(function(){return t.finishOk()}))},finishCancel:function(){this.modalFinish=!1},finishOk:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.apiPath+"/api/DocCirculation/ApplyEnd",{DocumentID:t.id,CreatedByID:t.info.DocumentInfo.CreatedByID,Title:t.info.DocumentInfo.Title});case 3:a=e.sent,t.xy.unloading(),a.success&&(t.modalFinish=!1,t.xy.msgSuc("申请结束成功。"),t.getDetailData());case 6:case"end":return e.stop()}}),e)})))()},endApproval:function(){this.modalFinish2=!0},finishCancel2:function(){var t=4;this.ApplyEnd2(t),this.modalFinish2=!1},finishOk2:function(){var t=2;this.ApplyEnd(t),this.modalFinish2=!1},ApplyEnd:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),a.next=3,e.xy.post(e.apiPath+"/api/DocCirculation/ReviewApplyEnd",{DocumentID:e.id,Status:t,Title:e.info.DocumentInfo.Title});case 3:i=a.sent,e.xy.unloading(),i.success&&(e.xy.msgSuc("流程结束。"),e.getDetailData());case 6:case"end":return a.stop()}}),a)})))()},ApplyEnd2:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.xy.loading(),a.next=3,e.xy.post(e.apiPath+"/api/DocCirculation/ReviewApplyEnd",{DocumentID:e.id,Status:t,Title:e.info.DocumentInfo.Title});case 3:i=a.sent,e.xy.unloading(),i.success&&(e.xy.msgSuc("申请驳回。"),e.getDetailData());case 6:case"end":return a.stop()}}),a)})))()},signFor:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.post(t.apiPath+"/api/DocCirculation/Sign",{DocumentID:t.id,CreatedByID:t.info.DocumentInfo.CreatedByID});case 3:a=e.sent,t.xy.unloading(),a.success&&(t.xy.msgSuc("签收成功。"),t.getDetailData());case 6:case"end":return e.stop()}}),e)})))()}}},u=f,m=(a("38ed"),a("9ca4")),h=Object(m["a"])(u,i,o,!1,null,"ec92ca54",null);e["default"]=h.exports},bd93:function(t,e,a){"use strict";var i=a("ff05"),o=a.n(i);o.a},bed7:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".pers-main[data-v-2457a474]{border:1px solid #e9e9e9;border-radius:3px;margin-bottom:15px}.pers-main>.pers-tit[data-v-2457a474]{height:32px;line-height:32px;font-weight:700;font-size:16px;padding-left:30px}.pers-main>.pers-box[data-v-2457a474]{padding:15px 8px 19px}.pers-main>.pers-box>.pers-list[data-v-2457a474]{display:inline-block;width:154px;height:73px;background:#fff;border:1px solid #eeeff3;-webkit-box-shadow:0 1px 4px 0 hsla(0,0%,82.7%,.5);box-shadow:0 1px 4px 0 hsla(0,0%,82.7%,.5);border-radius:5px;margin:7.5px;text-align:center}.pers-main>.pers-box>.pers-list>.tit[data-v-2457a474]{font-size:14px;font-weight:400;margin-top:15px;margin-bottom:6px}.pers-main>.pers-box>.pers-list>.number[data-v-2457a474]{font-size:14px;font-weight:400;color:#999}.teacher>.pers-tit[data-v-2457a474]{color:#4196ff;background:#ebf2ff}.student>.pers-tit[data-v-2457a474]{color:#04b8b1;background:#e7f8f7}.parents>.pers-tit[data-v-2457a474]{color:#fe933c;background:#fff7ed}",""]),t.exports=e},bf50:function(t,e,a){"use strict";var i=a("da0c"),o=a.n(i);o.a},c5764:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".form-w[data-v-a81d5a7e]{width:600px;margin:0 auto}.form-w .add-doc-pep[data-v-a81d5a7e]{-ms-flex-wrap:wrap;flex-wrap:wrap;border:1px solid #dcdee2;border-radius:4px;min-height:32px;padding:10px 10px 0}.form-w .add-doc-pep[data-v-a81d5a7e],.form-w .add-doc-pep .add-doc-pep-btn[data-v-a81d5a7e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.form-w .add-doc-pep .add-doc-pep-btn[data-v-a81d5a7e]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;padding:0 4px;height:22px;background:#fff;border:1px dashed #4196ff;border-radius:4px;color:#4196ff;margin:0 8px 10px 0}.form-w .add-doc-pep .add-doc-pep-btn i[data-v-a81d5a7e]{font-size:18px;margin-right:5px}.form-w .add-doc-pep .add-doc-pep-text[data-v-a81d5a7e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;padding:0 4px;height:22px;background:#f0f0f0;border-radius:4px;margin:0 8px 10px 0}.form-w .add-doc-pep .add-doc-pep-text span[data-v-a81d5a7e]{color:rgba(0,0,0,.65)}.form-w .add-doc-pep .add-doc-pep-text i[data-v-a81d5a7e]{color:rgba(0,0,0,.65);font-size:18px;margin-left:5px}.form-w .files-flex[data-v-a81d5a7e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 6px;border-radius:4px;cursor:pointer}.form-w .files-flex .files-flex-text[data-v-a81d5a7e]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:40px}.form-w .files-flex .files-flex-text i[data-v-a81d5a7e]{margin-right:5px}.form-w .files-flex .files-flex-text .icontext[data-v-a81d5a7e]{color:#4196ff}.form-w .files-flex .files-flex-text .iconimg[data-v-a81d5a7e]{color:#f1c64e}.form-w .files-flex[data-v-a81d5a7e]:hover{background:#f9f9f9}",""]),t.exports=e},cc3c:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-flex[data-v-44724fe2]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=e},ceef:function(t,e,a){"use strict";var i=a("0f23"),o=a.n(i);o.a},d0d3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xy-content-module"},[i("div",{staticClass:"xy-content-title clearfix"},[i("div",{staticClass:"fl"},[i("i-button",{staticClass:"xy-primary",on:{click:t.create}},[t._v("发消息")])],1),i("i-input",{staticClass:"fr xy-content-title-search",staticStyle:{width:"auto"},attrs:{search:"",placeholder:"请输入标题/发送人姓名"},on:{"on-search":t.FromSubmit},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[i("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1),i("date-picker",{staticClass:"fr xy-content-title-search",attrs:{type:"daterange",placeholder:"全部",editable:!1},on:{"on-change":t.dateSelect},model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}}),i("checkbox-group",{staticClass:"fr xy-content-title-search",staticStyle:{"margin-top":"10px"},on:{"on-change":t.userRolesChange},model:{value:t.userRoles,callback:function(e){t.userRoles=e},expression:"userRoles"}},[i("checkbox",{attrs:{label:"2"}},[t._v("教师")]),i("checkbox",{attrs:{label:"3"}},[t._v("学生")]),i("checkbox",{attrs:{label:"4"}},[t._v("家长")])],1)],1),i("div",{staticClass:"xy-content-body"},[t.isInitial?i("div",{staticClass:"no-data-box isInitital-opacity"},[i("img",{staticClass:"no-data-img",attrs:{src:a("a453")}})]):t._e(),t.isEmpty&&!t.isInitial?i("div",{staticClass:"no-data-box"},[i("img",{staticClass:"no-data-img",attrs:{src:a("a453")}}),i("span",{staticClass:"no-data-text"},[t._v(" 暂无数据 ")])]):t._e(),t.isEmpty||t.isInitial?t._e():i("div",[i("XyTable",{attrs:{tbColumns:t.columns,tbData:t.datatable,pageSize:t.pageSize,pageIndex:t.pageCurrent,total:t.total},on:{changePage:t.changePage,changePageSize:t.changePageSize}})],1)]),i("Drawer",{attrs:{title:"详情",width:"720",transfer:!1,"mask-closable":!1},on:{"on-close":t.close},model:{value:t.mInfo,callback:function(e){t.mInfo=e},expression:"mInfo"}},[i("div",{staticClass:"drawer"},[i("div",{attrs:{id:"DrawerDetails"}},[i("router-view")],1)])])],1)},o=[],s=(a("9302"),a("5412")),n=a.n(s),r=(a("b449"),a("cf7f")),l=a("7f16"),c={components:{XyTable:l["a"]},data:function(){var t=this;return{mInfo:!1,drawerTitle:"消息详情",isInitial:!0,isEmpty:!1,isReady:!1,apiUrl:"http://qa.api.oa.xiaoyangedu.net:37200/api/OAMessage/",userRoles:["2","3","4"],sendOuts:["1","2"],datePicker:[],modal_loading:!1,loading:!0,id:0,showType:"S",total:0,datatable:[],searchText:"",pageSize:15,pageCurrent:1,pageList:0,pages:[15,30,50,100],columns:[{title:"标题",key:"MessageTitle"},{title:"发送渠道",key:"MessageSendOutName"},{title:"发送者",key:"SenderName"},{title:"发送时间",key:"CreateByDate"},{align:"center",title:"接收目标人数",key:"ReceiverCount"},{title:"操作",key:"04",width:"auto",minWidth:220,align:"center",render:function(e,a){return e("div",{class:{oprateList:!0}},[e("a",{class:{oprateBtn1:!0},on:{click:function(){t.details(a.row)}}},"查看消息详情"),e("a",{class:{oprateBtn2:!0}},[e("a",{on:{click:function(){a.row.IsDeleted||t.personnel(a.row)}}},"查看接收人员")])])}}]}},created:function(){this.getTP()},methods:{getTP:function(){var t=this;return Object(r["a"])(n.a.mark((function e(){var a,i,o;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),a="",i="",a=t.userRoles.join(","),i=t.sendOuts.join(","),e.next=7,t.xy.get(t.apiUrl+"GetMessageALL",{StartDate:t.xy.timeFormat(new Date(t.datePicker[0]),"yyyy-MM-dd "),EndDate:t.xy.timeFormat(new Date(t.datePicker[1]),"yyyy-MM-dd "),SendOuts:i,UserRoles:a,SearchText:t.searchText,PageIndex:t.pageCurrent,PageSize:t.pageSize});case 7:o=e.sent,t.isInitial=!1,o.success&&null!=o.data.data&&o.data.data.length>0?(t.datatable=o.data.data,t.total=o.data.totalRecords,t.pageList=o.data.data.length,t.isEmpty=!1,t.isReady=!0):t.isEmpty=!0,t.xy.unloading();case 12:case"end":return e.stop()}}),e)})))()},create:function(){this.$store.state.common.menuInfo.Type&&(this.showType=this.$store.state.common.menuInfo.Type),this.$store.commit("common/getParam",{Type:this.showType}),this.$router.push({path:"/xyHome/createMail",query:this.$store.state.common.menuInfo})},details:function(t){this.drawerTitle=t.MessageTitle,this.mInfo=!0,this.$store.commit("common/getParam",{MessageModel:t,type:1}),this.$router.push({path:"/xyHome/oaMailTable/showMailDetail",query:this.$store.state.common.menuInfo})},personnel:function(t){this.$store.commit("common/getParam",{row:t}),this.$router.push({path:"/xyHome/showPersonnel",query:this.$store.state.common.menuInfo})},close:function(){this.$router.push({path:"/xyHome/oaMailTable",query:this.$store.state.common.menuInfo})},FromSubmit:function(){this.PageIndex=1,this.getTP()},dateSelect:function(){this.PageIndex=1,this.getTP()},userRolesChange:function(){this.PageIndex=1,this.getTP()},sendOutsChange:function(){this.PageIndex=1,this.getTP()},changePage:function(t){this.pageCurrent=t,this.getTP()},changePageSize:function(t){this.pageCurrent=1,this.pageSize=t,this.getTP()},changeLoading:function(){this.loading=!1,this.$nextTick((function(){this.loading=!0}))}}},d=c,p=a("9ca4"),f=Object(p["a"])(d,i,o,!1,null,"27c303e1",null);e["default"]=f.exports},d14e:function(t,e,a){t.exports=a.p+"img/circle-line-orange.0118e5bf.svg"},d23d:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-content-module[data-v-ec92ca54] .ant-table-cell .comm-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.xy-content-module[data-v-ec92ca54] .ant-table-cell .comm-title>span:first-of-type{text-align:center;margin-right:10px;display:inline-block;min-width:54px;height:24px;border-radius:4px}.xy-content-module[data-v-ec92ca54] .ant-table-cell .comm-title>span:nth-of-type(2){text-align:left}.xy-content-module[data-v-ec92ca54] .ant-table-cell .jj>span:first-of-type{background:#fff1f0;border:1px solid #ffa39e;color:#f5222d}.xy-content-module[data-v-ec92ca54] .ant-table-cell .pt>span:first-of-type{background:#f6ffed;border:1px solid #b7eb8f;color:#52c41a}.xy-content-module[data-v-ec92ca54] .ivu-table-body table,.xy-content-module[data-v-ec92ca54] .ivu-table-header table{table-layout:auto!important;width:calc(100vw - 120px)!important}.flex-flow[data-v-ec92ca54]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mr[data-v-ec92ca54]{margin-right:20px;margin-left:2px}.files-flex[data-v-ec92ca54]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 6px;border-radius:4px;margin-top:25px;cursor:pointer}.files-flex .files-flex-text[data-v-ec92ca54]{margin-right:14px}.files-flex .fileInfo[data-v-ec92ca54]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:120px;width:293px}.files-flex .fileInfo span[data-v-ec92ca54]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.files-flex .fileInfo .fileInfoName[data-v-ec92ca54]{color:#000;opacity:.85;font-size:14px;line-height:22px}.files-flex .fileInfo .fileInfoSize[data-v-ec92ca54]{color:#000;opacity:.45;font-size:12px;line-height:18px}.files-flex i[data-v-ec92ca54]{margin-right:5px}.files-flex .icontext[data-v-ec92ca54]{color:#4196ff}.files-flex .iconimg[data-v-ec92ca54]{color:#f1c64e}.files-flex .fileL[data-v-ec92ca54]{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:400;color:#000;opacity:.85}.files-flex .fileL .fileSize[data-v-ec92ca54]{font-size:12px;font-weight:400;color:#000;opacity:.45}.files-flex[data-v-ec92ca54]:hover{background:#f9f9f9}.replyFoot[data-v-ec92ca54]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e7e7e7}.replyFoot span[data-v-ec92ca54]{font-size:14px;font-weight:400;color:#000;opacity:.45}.replyFoot button[data-v-ec92ca54]{margin:8px 0}.fileBox[data-v-ec92ca54]{height:168px;overflow:auto;padding-bottom:12px}.finish[data-v-ec92ca54]{width:437px;height:114px;background:#fff;border-radius:4px;margin:35px 0 0 35px}.finish p[data-v-ec92ca54]{line-height:22px;font-size:16px;font-weight:700;color:#212121}.finish p .mark-img[data-v-ec92ca54]{width:22px;height:22px;background:#faad14;border-radius:50%;color:#fff;display:inline-block;text-align:center;line-height:22px;margin-right:13px}.xy-btn-circulation[data-v-ec92ca54]{background:#f5f5f5;border:1px solid #d9d9d9;border-radius:18px;color:#000;opacity:.25}.footBtn[data-v-ec92ca54],.xy-btn-circulation[data-v-ec92ca54]{width:96px;height:36px;font-size:14px;font-weight:400}.footBtn[data-v-ec92ca54]{background:#fff;border:1px solid #4196ff;border-radius:18px;color:#4196ff}",""]),t.exports=e},d38a:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,".xy-flex[data-v-507d9870]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),t.exports=e},d525:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.ivu-drawer[data-v-384a7e16]{top:0;margin:0;position:absolute;height:100%;right:0}.ivu-drawer .ivu-drawer-content[data-v-384a7e16]{height:100%;overflow:auto}.ivu-drawer .approval-card .main-info[data-v-384a7e16]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.ivu-drawer .approval-card .main-info[data-v-384a7e16],.ivu-drawer .approval-card .main-info .left[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex}.ivu-drawer .approval-card .main-info .left .avatar[data-v-384a7e16]{padding:0;padding-right:15px}.ivu-drawer .approval-card .main-info .left .avatar span[data-v-384a7e16]{display:block;background:#4196ff;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;font-size:18px;color:#fff}.ivu-drawer .approval-card .main-info .left .name-number[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:6px}.ivu-drawer .approval-card .main-info .left .name-number .fullName[data-v-384a7e16]{color:#606266;font-size:16px}.ivu-drawer .approval-card .main-info .left .name-number .schoolNumber[data-v-384a7e16]{font-size:14px;color:#999}.ivu-drawer .approval-card .main-info .status[data-v-384a7e16]{margin-top:50px;width:62px;height:25px;border-radius:4px;border:1px solid #f99b31;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#f99b31;font-size:14px}.ivu-drawer .approval-card .main-info>img[data-v-384a7e16]{position:absolute;right:30px}.ivu-drawer .leave-list[data-v-384a7e16]{font-size:14px}.ivu-drawer .leave-list .info-item[data-v-384a7e16]{margin-top:10px}.ivu-drawer .leave-list .info-item .title[data-v-384a7e16]{color:#999}.ivu-drawer .leave-list .info-item .title-strong[data-v-384a7e16]{display:block;margin:20px 0;font-size:14px;font-weight:700;color:#333}.ivu-drawer .leave-list .info-item .content[data-v-384a7e16]{margin-left:10px;color:#333}.ivu-drawer .img-wrap[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ivu-drawer .img-wrap img[data-v-384a7e16]{width:40%;height:150px}.ivu-drawer .img-wrap img[data-v-384a7e16]:nth-child(2n){margin-left:20px}.manager-part[data-v-384a7e16]{padding:0 20px}.manager-part .approal-title[data-v-384a7e16]{font-size:16px;font-weight:700}.manager-part .approval-group[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.manager-part .approval-group .ivu-radio-wrapper[data-v-384a7e16]:after,.manager-part .approval-group .ivu-radio-wrapper[data-v-384a7e16]:before{width:0}.manager-part .approval-group .ivu-radio-wrapper[data-v-384a7e16]{padding:0;width:96px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:4px;font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box}.manager-part .approval-group .ivu-radio-wrapper[data-v-384a7e16]:first-child{color:#5bbb7e;border-color:#5bbb7e}.manager-part .approval-group .ivu-radio-wrapper[data-v-384a7e16]:last-child{color:#dc6e6e;margin-left:30px;border-color:#dc6e6e;border-left:1px solid}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-384a7e16]:first-child{background:#5bbb7e;color:#fff}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-384a7e16]:last-child{background:#e85555;color:#fff}.manager-part label[data-v-384a7e16]{color:#999;font-size:14px}.user-part[data-v-384a7e16]{padding-left:20px;font-size:14px}.user-part h4[data-v-384a7e16]{color:#999}.ivu-drawer-footer[data-v-384a7e16]{padding-left:40px;text-align:left}.flow-item[data-v-384a7e16],.flow-wrapper[data-v-384a7e16]{position:relative}.flow-item[data-v-384a7e16]{margin:0;padding:0 0 12px}.flow-item-line[data-v-384a7e16]{height:100%;border-left:2px solid #c6c6c6;position:absolute;left:18px;top:0}.flow-item-header[data-v-384a7e16]{width:40px;height:40px;background-color:#4196ff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-content[data-v-384a7e16]{min-height:60px;padding:1px 1px 10px 50px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-384a7e16]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.flow-item:last-child .flow-item-line[data-v-384a7e16]{display:none}.flow-avatar[data-v-384a7e16]{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff}.flow-avatar-imgWrapper[data-v-384a7e16]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-384a7e16]{width:100%;min-height:100%}.flow-avatar--small[data-v-384a7e16]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-384a7e16]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-384a7e16]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-384a7e16]{width:100%}.flow-avatar>span[data-v-384a7e16]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#666}.flow-content-btn--hideDetail[data-v-384a7e16]{color:#4196ff;font-size:14px}.flow-content-btn--showDetail[data-v-384a7e16]{color:#666;font-size:14px}.flow-content-body[data-v-384a7e16]{min-height:1em}.flow-content-name[data-v-384a7e16]{color:#161616}.flow-content-reason[data-v-384a7e16]{color:#999}.flow-content-title[data-v-384a7e16]{font-size:14px;color:#161616}.flow-content-time[data-v-384a7e16]{color:#999;font-size:12px}.flow-detail-item[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-384a7e16]{width:100%;margin-left:10px}.flow-detail-header[data-v-384a7e16]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-384a7e16],.flow-overview-list[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-384a7e16]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-384a7e16]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flow-icon-radio[data-v-384a7e16]{display:inline-block;width:19px;height:15px;margin:12px;background:url(/image/radio-white.svg) no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-384a7e16]{position:relative}.flow-status-icon[data-v-384a7e16]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-384a7e16]:after{background:url(/image/circle-check-green.svg) no-repeat}.flow-status-icon-processing[data-v-384a7e16]:after{background:url(/image/circle-line-orange.svg) no-repeat}.flow-status-icon-reject[data-v-384a7e16]:after{background:url(/image/circle-fork-red.svg) no-repeat}.flow-status-bgcolor[data-v-384a7e16]{position:relative}.flow-status-bgcolor[data-v-384a7e16]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-384a7e16]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-384a7e16]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-384a7e16]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-384a7e16]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-384a7e16]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-384a7e16]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-384a7e16]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-384a7e16]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-384a7e16]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-384a7e16]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-384a7e16]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.detail[data-v-384a7e16],.detail-top[data-v-384a7e16]{position:relative}.detail-top>p[data-v-384a7e16]{font-size:16px;color:#333;font-weight:700}.detail-top .person[data-v-384a7e16],.detail-top>p[data-v-384a7e16]{margin-bottom:20px}.detail-top .person .left[data-v-384a7e16]{width:50px;height:50px;line-height:50px;text-align:center;border-radius:50%;background:#4196ff;font-size:18px;color:#fff;font-weight:700;display:inline-block}.detail-top .person>div[data-v-384a7e16]{height:50px;color:#999;padding-left:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.detail-top .person>div .name[data-v-384a7e16]{font-size:16px;color:#333;margin:2px 0}.detail-top .officeStatus[data-v-384a7e16]{position:absolute;right:27px;top:22px;width:108px;height:110px}.detail-top .officeStatus img[data-v-384a7e16]{width:100%;height:100%}.detail-con>div[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px}.detail-con>div>span[data-v-384a7e16]{text-align:right;color:#999}.detail-con>div>div[data-v-384a7e16]{-webkit-box-flex:0.9;-ms-flex:0.9;flex:0.9;max-width:80%}.detail-con>div>div .office-info[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:5px;height:21px}.detail-con>div>div .office-info span[data-v-384a7e16]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:85%}.detail-con .ivu-btn-primary[data-v-384a7e16]{width:55px;height:25px;position:absolute;right:15px}.bottom-btn[data-v-384a7e16]{position:fixed;bottom:0;width:100%;height:40px;background:#fff;z-index:9999}.bottom-btn .ivu-btn-primary[data-v-384a7e16]{width:96px;height:32px}.detail .proval-con[data-v-384a7e16]{border:none;margin-bottom:10px}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header[data-v-384a7e16]{padding:0;position:relative;background:#fff;border:none;color:#333;font-weight:700}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header>i[data-v-384a7e16]{position:absolute;top:12px;right:-13px}.proval-con .ivu-collapse-simple[data-v-384a7e16]{border:none}.proval-con .ivu-collapse-content[data-v-384a7e16],.proval-con .ivu-collapse-content>.ivu-collapse-content-box[data-v-384a7e16]{padding:0}.proval-con .proval-li[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;color:#666}.proval-con .proval-li .left[data-v-384a7e16]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;display:inline-block;margin:5px 10px 0 0;position:relative}.proval-con .proval-li .left[data-v-384a7e16]:after{content:"";width:2px;height:23px;position:absolute;top:32px;left:14px;background:#c6c6c6}.proval-con .proval-li:last-child .left[data-v-384a7e16]:after{display:none}.proval-con .proval-li .left .status[data-v-384a7e16]{width:16px;height:16px;bottom:-2px;right:-4px}.proval-con .proval-li .center[data-v-384a7e16]{-webkit-box-flex:1;-ms-flex:1;flex:1}.proval-con .proval-li .center>div[data-v-384a7e16]:first-child{color:#666}.proval-con .proval-li:first-child .center div[data-v-384a7e16]:first-child{color:#161616}.proval-con .proval-li .center div[data-v-384a7e16]:nth-child(2){color:#999}.copy ul[data-v-384a7e16]{padding-top:8px}.copy li[data-v-384a7e16],.copy ul[data-v-384a7e16]{display:-webkit-box;display:-ms-flexbox;display:flex}.copy li[data-v-384a7e16]{width:45px;margin-right:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.copy li>div[data-v-384a7e16]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;font-size:12px}.copy li>p[data-v-384a7e16]{color:#666}.detail-approval[data-v-384a7e16]{margin-top:25px}.detail-approval>span[data-v-384a7e16]{color:#999}.detail-approval .approval[data-v-384a7e16]{margin:13px 0 25px}.bottom-btn .ivu-btn.agree[data-v-384a7e16]{color:#5bbb7e;border-color:#5bbb7e}.bottom-btn .ivu-btn.agree[data-v-384a7e16]:hover{background-color:#5bbb7e;border-color:#5bbb7e;color:#fff}.bottom-btn .ivu-btn.refuse[data-v-384a7e16]{color:#dc6e6e;border-color:#dc6e6e}.bottom-btn .ivu-btn.refuse[data-v-384a7e16]:hover{background-color:#dc6e6e;border-color:#dc6e6e;color:#fff}',""]),t.exports=e},d7a1:function(t,e,a){"use strict";var i=a("1ef6"),o=a.n(i);o.a},d813:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-title xy-flex xy-center xy-between"},[a("div",{staticClass:"xy-flex"},[a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("状态：")]),a("i-select",{staticStyle:{width:"150px"},on:{"on-change":t.DocumentStatusypeSearch},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("i-option",{key:0,attrs:{value:0}},[t._v("全部")]),t._l(t.DocumentStatusype,(function(e){return a("i-option",{key:e.statusID,attrs:{value:e.statusID}},[t._v(t._s(e.status))])}))],2)],1),a("div",{staticClass:"xy-content-title-search"},[a("span",[t._v("时间筛选：")]),a("date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange",format:"yyyy-MM-dd",value:t.dataArr,editable:!1,placeholder:"请选择发起时间日期"},on:{"on-change":t.datesChange}})],1),a("div",{staticClass:"xy-content-title-search"},[a("i-input",{staticStyle:{width:"272px"},attrs:{search:"",placeholder:"请输入主题/发文字号/发起人"},on:{"on-search":t.FromSubmit},model:{value:t.searchT,callback:function(e){t.searchT=e},expression:"searchT"}},[a("icon",{attrs:{slot:"suffix",type:"ios-search cursor-p"},slot:"suffix"})],1)],1)])]),a("div",{staticClass:"xy-content-body"},[a("XyAntTable",{attrs:{columns:t.columns,dataSource:t.docAll,nullData:t.txt,tableLoading:t.tableLoading,pagination:t.pagination,scrollx:1250},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"DocumentTypeName",fn:function(e,i){return a("div",{},[t._v(" "+t._s(i.DocumentTypeName)+" ")])}},{key:"Title",fn:function(e,i){return a("div",{staticStyle:{"min-width":"540px"}},[a("span",{staticClass:"ant-table-cell table-el-hover",staticStyle:{display:"inline-block"},domProps:{innerHTML:t._s(i.Title)},on:{click:function(e){return t.edit(i)}}})])}},{key:"CreatedTime",fn:function(e,i){return a("div",{},[t._v(" "+t._s(t.xy.moment(i.CreatedTime).format("YYYY-MM-DD HH:mm"))+" ")])}},{key:"DocumentStatus",fn:function(e,i){return a("span",{},[1===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-info"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),2===i.DocumentStatus||4===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-end"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e(),16===i.DocumentStatus||8===i.DocumentStatus?a("span",[a("i",{staticClass:"iconfont icon-default"},[t._v("")]),t._v(t._s(i.DocumentStatusName))]):t._e()])}},{key:"oprateRender",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.edit(i)}}},[t._v("详情")])])}}])}),a("modal",{attrs:{transfer:!1,title:"添加批复","mask-closable":!1},model:{value:t.modalCreateType,callback:function(e){t.modalCreateType=e},expression:"modalCreateType"}},[a("div",{staticClass:"dialog-model-content"},[a("Form",{ref:"formValidateAdd",attrs:{model:t.formValidateAdd,rules:t.ruleValidateCreate},on:{"on-validate":t.validate},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{prop:"textValue"}},[a("Input",{staticStyle:{"font-size":"14px"},attrs:{rows:8,maxlength:"300",type:"textarea",placeholder:"请输入批复内容"},model:{value:t.formValidateAdd.textValue,callback:function(e){t.$set(t.formValidateAdd,"textValue",e)},expression:"formValidateAdd.textValue"}})],1),a("div",{staticClass:"replyFoot"},[a("i-button",{staticClass:"pr",attrs:{icon:"ios-cloud-upload-outline"}},[a("input",{ref:"fileAll",staticClass:"pa cursor-p",staticStyle:{top:"0",left:"0",width:"100%",height:"100%",opacity:"0"},attrs:{type:"file",multiple:"multiple"},on:{change:function(e){return t.changeFunc(e)}}}),t._v(" 附件 ")]),a("span",[t._v(t._s(t.formValidateAdd.textValue.length)+"/300")])],1),a("FormItem",{attrs:{prop:"fileList"}},[a("div",{staticClass:"fileBox"},[t._l(t.formValidateAdd.filesList,(function(e,i){return[a("div",{key:i,ref:"filesDom",refInFor:!0,staticClass:"files-flex"},[a("div",{staticClass:"files-flex-text nowrap"},[e.type.indexOf("image")>-1?a("i",{staticClass:"iconfont iconimg"},[t._v("")]):a("i",{staticClass:"iconfont icontext"},[t._v("")]),a("span",[t._v(t._s(e.name))])]),a("Icon",{attrs:{type:"md-close-circle",color:"#F5222D",size:"22"},on:{click:function(e){return t.delFiles(i)}}})],1)]}))],2)])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:t.creatTypeCancel}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.creatTypeOk}},[t._v("发送")])],1)])],1),a("Drawer",{staticClass:"detailModel",attrs:{width:"560",transfer:!1,"mask-closable":!1,styles:t.styles},on:{"on-close":t.closeLook},model:{value:t.isLook,callback:function(e){t.isLook=e},expression:"isLook"}},[a("div",{attrs:{slot:"header"},slot:"header"},[this.info.DocumentInfo?a("p",[t._v(" "+t._s(this.info.DocumentInfo.CreatedByName)+"提交的公文 ")]):t._e()]),a("div",{staticClass:"drawer"},[t.isLook?a("DetailsLook",{attrs:{info:t.info}}):t._e()],1)]),a("SelectTeacherOrg",{attrs:{isShow:t.isTeacher,teachers:[].concat(t.addPepList)},on:{"select-cancel":t.selectCancel,"select-confirm":t.selectConfirm}})],1)},o=[],s=(a("b4fb"),a("dbb3"),a("ecb4"),a("2eeb"),a("053b"),a("e35a"),a("0d7a"),a("5748")),n=a("5412"),r=a.n(n),l=(a("b449"),a("cf7f")),c=a("eb31"),d=a("96a6"),p=a("afa3"),f={name:"MyLaunch",components:{XyAntTable:c["a"],DetailsLook:d["a"],SelectTeacherOrg:p["a"]},inject:["reload"],created:function(){this.apiPath=this.$store.state.apiPath,this.getListData()},data:function(){var t=this;return{tableLoading:!0,loadingTb:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},txt:"该搜索条件下没有结果。",validateBool:!1,formValidateAdd:{textValue:"",filesList:[]},ruleValidateCreate:{textValue:[{required:!0,message:"批复不能为空",trigger:"blur"},{type:"string",max:300,message:"批复不能超过300个字",trigger:"blur"}],filesList:[{type:"array",min:1,message:"文件内容不能为空",trigger:"blur"}]},filesMaxNumKB:0,filesMaxNumMB:0,filesMaxNumKBFixed:0,filesMaxNumMBFixed:0,filesList:[],isTeacher:!1,addPepList:[],DocumentStatusype:[{status:"进行中",statusID:"1"},{status:"申请结束",statusID:"2"},{status:"已结束",statusID:"4"}],status:0,searchTimeBegin:[],searchTimeEnd:[],dataArr:["",""],searchT:"",docAll:[],columns:[{title:"公文种类",dataIndex:"DocumentTypeName",width:140,scopedSlots:{customRender:"DocumentTypeName"}},{title:"发起时间",dataIndex:"CreatedTime",width:150,scopedSlots:{customRender:"CreatedTime"}},{title:"主题",dataIndex:"Title",scopedSlots:{customRender:"Title"}},{title:"发文字号",dataIndex:"DocumentNumber",width:100},{title:"发起人",dataIndex:"CreatedByName",width:100},{title:"状态",width:120,dataIndex:"DocumentStatus",scopedSlots:{customRender:"DocumentStatus"}},{title:"操作",dataIndex:"04",width:80,scopedSlots:{customRender:"oprateRender"}}],modalCreateType:!1,modalFinish:!1,isFinish:!1,id:"",info:[],docTypes:["rar","zip","png","jpg","jpeg","svg","gif","flash","doc","docx","dotx","dot","pdf","txt","xml","ppt","pptx","xls","xlsx","xlst"],isLook:!1,apiPath:"",pagination:{total:0,current:1,pageSize:15,onChange:function(e){t.pagination.current=e},onShowSizeChange:function(e,a){t.pagination.current=1,t.pagination.pageSize=a}}}},methods:{handleTableChange:function(){this.getListData()},validate:function(t,e,a){this.validateBool=e},closeLook:function(){this.reload()},getListData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,a={PageIndex:t.pagination.current,PageSize:t.pagination.pageSize,Status:t.status,beginTime:t.dataArr[0],endTime:t.dataArr[1],SearchWord:t.searchT},e.next=4,t.xy.get(t.apiPath+"/api/DocCirculation/GetTotalPageList",a);case 4:i=e.sent,t.tableLoading=!1,i.success&&(t.docAll=i.data.data,t.pagination.total=i.data.totalRecords);case 7:case"end":return e.stop()}}),e)})))()},getDetailData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get(t.apiPath+"/api/DocCirculation/GetTotalDetail",{DocumentID:t.id});case 3:a=e.sent,t.xy.unloading(),a.success&&(t.info=a.data,t.info.HasApplyEndBtn=!0);case 6:case"end":return e.stop()}}),e)})))()},DocumentStatusypeSearch:function(){this.pagination.current=1,this.getListData()},datesChange:function(t){this.dataArr=t,this.pagination.current=1,this.getListData()},FromSubmit:function(){this.pagination.current=1,this.getListData()},edit:function(t){this.isLook=!0,this.id=t.DocumentID,this.getDetailData()},addReply:function(){this.modalCreateType=!0},changeFunc:function(t){for(var e=0;e<t.target.files.length;e++){var a=t.target.files[e].name.split(".");if(this.docTypes.indexOf(a[a.length-1])<0)return void this.xy.msgError("上传文件格式错误。")}this.formValidateAdd.filesList=[].concat(Object(s["a"])(this.formValidateAdd.filesList),Object(s["a"])(t.target.files));for(var i=0,o=this.formValidateAdd.filesList.length;i<o;i++)void 0!==this.formValidateAdd.filesList[i].isDel&&this.formValidateAdd.filesList[i].isDel||(this.$set(this.formValidateAdd.filesList[i],"isDel",!1),this.totalMB+=this.formValidateAdd.filesList[i].size/1024/1024)},delFiles:function(t){this.$set(this.formValidateAdd.filesList[t],"isDel",!0);var e=this.formValidateAdd.filesList.filter((function(t){return!t.isDel}));this.formValidateAdd.filesList=e,this.totalMB=0;for(var a=0,i=this.formValidateAdd.filesList.length;a<i;a++)this.formValidateAdd.filesList[a].isDel||(this.totalMB+=this.formValidateAdd.filesList[a].size/1024/1024);0===e.length&&(this.$refs.fileAll.value=null)},addCirculation:function(){this.isTeacher=!0},addPep:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],t.addPepList.map((function(t){a.push(t.UserID)})),i={DocumentID:t.id,AddUserList:a,Title:t.info.DocumentInfo.Title,CreatedByID:t.info.DocumentInfo.CreatedByID},e.next=5,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/AddSendTo"),i);case 5:o=e.sent,t.xy.unloading(),o.success&&t.xy.msgSuc("添加流转成功。");case 8:case"end":return e.stop()}}),e)})))()},selectCancel:function(){this.isTeacher=!1},selectConfirm:function(t){t.length>0?(this.isTeacher=!1,this.addPepList=Object(s["a"])(t),this.addPep()):this.xy.msgError("人员不能为空。")},creatTypeCancel:function(){this.modalCreateType=!1,this.formValidateAdd.textValue="",this.$refs.formValidateAdd.resetFields()},creatTypeOk:function(){this.validateBool&&(this.totalMB>100?(this.xy.unloading(),this.xy.msgError("附件总大小不能超过100M。")):(this.Create(),this.reload()))},Create:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.xy.loading(),a=new FormData,i=0,o=t.formValidateAdd.filesList.length;i<o;i++)a.append("file",t.formValidateAdd.filesList[i]);if(0===t.formValidateAdd.filesList.length){e.next=10;break}return e.next=6,t.xy.post("".concat(t.$store.state.apiPath,"/api/DocCirculation/UploadCommentFile"),a);case 6:s=e.sent,s.success&&t.createFile(s.data),e.next=11;break;case 10:t.createFile();case 11:case"end":return e.stop()}}),e)})))()},createFile:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i,o;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={DocumentID:e.id,Title:e.info.DocumentInfo.Title,Comment:e.formValidateAdd.textValue,FileInfo:t},a.next=3,e.xy.post("".concat(e.$store.state.apiPath,"/api/DocCirculation/AddComment"),i);case 3:o=a.sent,e.xy.unloading(),o.success&&e.xy.msgSuc("添加批复成功。");case 6:case"end":return a.stop()}}),a)})))()}}},u=f,m=(a("5885"),a("9ca4")),h=Object(m["a"])(u,i,o,!1,null,"2776b24a",null);e["default"]=h.exports},d818:function(t,e,a){var i=a("a1a8"),o=a("e505"),s=a("9089"),n=a("a5fa"),r=a("d14e"),l=a("8fb4");e=i(!1);var c=o(s),d=o(n),p=o(r),f=o(l);e.push([t.i,'.fileWrap[data-v-48a1d706]{width:425px;overflow:hidden;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;line-height:14px;margin-top:8px}.fileWrap .icontext[data-v-48a1d706]{color:#4196ff!important}.fileWrap .iconimg[data-v-48a1d706]{color:#f1c64e!important}.fileWrap>.content[data-v-48a1d706]{height:44px;background:#f8f8f8;border-radius:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 8px;margin-bottom:8px}.fileR>button[data-v-48a1d706]{width:62px;height:28px;background:#f8f8f8;border:1px solid #4196ff;border-radius:14px;font-size:14px;font-weight:400;color:#4196ff}.pic[data-v-48a1d706]{width:18px;height:21px}.fileName[data-v-48a1d706]{width:293px;font-size:14px;line-height:16px;opacity:.85;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fileName[data-v-48a1d706],.fileSize[data-v-48a1d706]{font-weight:400;color:#000}.fileSize[data-v-48a1d706]{font-size:12px;opacity:.45}.file-content[data-v-48a1d706]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.file-content[data-v-48a1d706],.openOrback[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex}.openOrback[data-v-48a1d706]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-line-pack:center;align-content:center;opacity:1!important}.openOrback a[data-v-48a1d706]{text-align:right;color:#666}.openOrback span[data-v-48a1d706]{color:#000;opacity:.45}.titles[data-v-48a1d706]{margin:40px 0 20px;color:#333;font-weight:700;font-size:16px}.flow-item[data-v-48a1d706],.flow-wrapper[data-v-48a1d706]{position:relative}.flow-item[data-v-48a1d706]{margin:0;padding:0 0 12px}.flow-item-line[data-v-48a1d706]{height:100%;border-left:4px solid #e3e3e4;position:absolute;left:20px;top:12px}.flow-item-spot[data-v-48a1d706]{width:20px;height:20px;background:#bfbfbf;left:12px;z-index:2}.flow-item-header[data-v-48a1d706],.flow-item-spot[data-v-48a1d706]{border:4px solid #fff;border-radius:50%;position:absolute}.flow-item-header[data-v-48a1d706]{width:44px;height:44px;background-color:#4196ff;z-index:1;color:#fff;text-align:center;line-height:36px}.flow-item-header3[data-v-48a1d706]{width:34px;height:34px;left:5px;text-align:center;line-height:26px}.flow-item-header2[data-v-48a1d706],.flow-item-header3[data-v-48a1d706]{background:#4196ff;border:4px solid #fff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-header2[data-v-48a1d706]{width:48px;height:48px;font-size:12px;font-weight:400;line-height:13px;left:-2px}.flow-item-header2 div[data-v-48a1d706]{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}.flow-item-content[data-v-48a1d706],.flow-item-content2[data-v-48a1d706]{min-height:60px;padding:1px 1px 10px 65px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-48a1d706]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.showline[data-v-48a1d706]{display:block!important}.flow-avatar[data-v-48a1d706]{overflow:hidden;-ms-flex-negative:0;flex-shrink:0;width:44px;height:44px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff;border:4px solid #fff}.flow-avatar2[data-v-48a1d706]{width:25px;height:25px;font-size:12px;font-weight:400;color:#fff;line-height:13px;position:relative}.flow-avatar2>span[data-v-48a1d706]{position:absolute;margin:auto;left:0;right:0;top:0;bottom:0;line-height:25px;text-align:center}.flow-avatar3[data-v-48a1d706]{width:25px;height:25px;font-size:12px;font-weight:400;color:#fff;line-height:13px;background:#4196ff;border-radius:50%;text-align:center;position:relative}.flow-avatar3 span[data-v-48a1d706]{position:absolute;margin:auto;left:0;right:0;top:0;bottom:0;line-height:25px}.flow-avatar-imgWrapper[data-v-48a1d706]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-48a1d706]{width:100%;min-height:100%}.flow-avatar--small[data-v-48a1d706]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-48a1d706]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-48a1d706]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-48a1d706]{width:100%}.flow-avatar>span[data-v-48a1d706]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-48a1d706]{color:#666;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:26px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flow-content-btn--hideDetail[data-v-48a1d706],.flow-content-btn--showDetail[data-v-48a1d706]{color:#666;font-size:14px}.flow-content-body[data-v-48a1d706]{width:399px;font-size:14px;font-weight:400;color:#333;line-height:23px;margin:12px 0}.spot[data-v-48a1d706]{width:6px;height:6px;background:#000;opacity:.25;border-radius:50%;display:inline-block;margin-right:7px}.flow-content-name[data-v-48a1d706]{color:#161616}.flow-content-reason[data-v-48a1d706]{color:#333}.flow-content-title[data-v-48a1d706]{font-size:16px;color:#333;opacity:.85;line-height:16px}.flow-content-header .talk[data-v-48a1d706]{font-size:14px}.maincirculation[data-v-48a1d706]{margin-top:14px;width:420px}.circulation[data-v-48a1d706]{display:inline-block;width:55px;margin-right:15px}.circulationName[data-v-48a1d706]{max-height:30px;font-size:14px;font-weight:400;color:#000;opacity:.45;line-height:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:56px;text-align:center!important}.moreCir[data-v-48a1d706]{width:26px;height:26px;background:#000;opacity:.09;border-radius:50%}.moreCirWrap[data-v-48a1d706]{position:relative}.moreCirWrap i[data-v-48a1d706]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.dtdd[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flow-content-time[data-v-48a1d706]{font-size:12px;font-weight:400;color:#000;opacity:.45;line-height:26px}.flow-detail-item[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-48a1d706]{width:100%;margin-left:10px}.flow-detail-header[data-v-48a1d706]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-48a1d706],.flow-overview-list[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-48a1d706]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-48a1d706]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flow-icon-radio[data-v-48a1d706]{display:inline-block;width:19px;height:15px;margin:12px;background:url('+c+') no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-48a1d706]{position:relative}.flow-status-icon[data-v-48a1d706]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-48a1d706]:after{background:url('+d+") no-repeat}.flow-status-icon-processing[data-v-48a1d706]:after{background:url("+p+") no-repeat}.flow-status-icon-reject[data-v-48a1d706]:after{background:url("+f+') no-repeat}.flow-status-bgcolor[data-v-48a1d706]{position:relative}.flow-status-bgcolor[data-v-48a1d706]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-48a1d706]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-48a1d706]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-48a1d706]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-48a1d706]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-48a1d706]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-48a1d706]{margin:5px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-48a1d706],.cssIcon-triangle--t2b[data-v-48a1d706]{border-left:1px solid #666;border-bottom:1px solid #666}.cssIcon-triangle--b2t[data-v-48a1d706]{margin:2px 7px;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-48a1d706]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-48a1d706]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-48a1d706]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-48a1d706]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.alreadySignIn[data-v-48a1d706]{font-size:14px;font-weight:400;color:#4196ff;margin-left:21px}.circulation-number[data-v-48a1d706]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}',""]),t.exports=e},da0c:function(t,e,a){var i=a("8ad5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("915b714c",i,!0,{sourceMap:!1,shadowMode:!1})},dce2:function(t,e,a){"use strict";var i=a("a745"),o=a.n(i);o.a},dfa5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAADiklEQVRIS52WSWhUWRSGv1MVgjRGiK20YLdukohREDIY0U6VQ8AOCi4ccCE4xIVrN+pOELpF0IUgbhxxiAMojXQ7QENbkmiXRhQnnFGcEsQpDmhSdZv3bu4bb1UlFhRV9eq9+53/v+ece4QSL6UQTjCTJK0I04FqEoxEgARvEO4DnQinmcu/IqhiSzqPWV9qIwkmswJhPUK1C9AQ/Rl8m2sJF76ZDvbJRvK2ha1AdYIa8hwEGmOL26DRIOAKSZbJbO5GoTGgOspchOMIFVaYTalddS+wWGZzNggNAdVhfiPJn0C51TqbjYVs1vd+Q1ggszhjoB5QHWAC5VxGDSizRT1YdeHAesnTaOx1geoYSXL8h1DvRuLAzGc0Qb4HKnTRQ5MsIaeB7awCdnt7VgwWVT6Y4HSQbZJmj7h1dsTNJp36QZjzfU4WKhtLlav//7tO6Jrhu+Q7dJ8UE0QdJUWO86GMdB43ybAwUMevTsHnhzBuNZQNLxzEPxKvVS0mLeowWxHWuj+D+2WUGuDrDHSk9T3j22DKrqEDhW2i2smgaC6psPtvuDRPWzV2KdS1+8CvL+H6YqjaBCNngU2hFnTBUfgK+MkKdNQsGrBUKXi8Q1tatQ6GjdHA/l7IpuDjNajdCT+v0UCTTMY1Dex2gH0IZVZLg0Cbgfk+6JoPb85pq4PAaDlpYL9jaR9EgMFMDSbNo+3w5QlM/B2kHG6shOf7/YZeDDjQeQpbaiwxln64BefrQH2DynqonAZPd4RPkFJAtKUZhGbP0mi2OkDVD5kZ8C7rZ7J/JPm1W2wPdVm4SVO6LO5tgdvrfDXRTmTgpRS6ZXGIFBIp/GDHcfbw5Sl436WVhLMufG30fBjRYC8Lr/B1a7sHVIVam1GRvgCjfh16a4tn6QPS1MSbtwEF21v0YVsDL3Sq+NdXS5rd8eMpaGd0r2xHk+m5xYFX6WGqdzw566qD1FLmnom6K9sO4Lq9MG5F2N5ne+BWm71Z6yA+kqNJWrhtTPMWCI0YNjVlP0A6CxWT9DO9N+FiE+Q/+wGGW1rhEcNQ3SEqwXGgwqp0RC00Zx1PoHMqfLpTaHR0Rosl0uLPMzGFHvQINSQ5hNAQgzoKflkOztj54kC8EWhnrpAY5JjoQf1BeAMyUDK2BAnv9QOEP2hhn8gQBuFgVrgjyElSwDyS3qj/I0IO4S0JHpKggxx/0Uqm1Kj/P+6eAIu0x0/bAAAAAElFTkSuQmCC"},dfd89:function(t,e,a){"use strict";var i=a("1bb0"),o=a.n(i);o.a},e435:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.xy-table{background:#fff}.xy-table .ivu-table th{background:#fafafa}.xy-table .oprateList a.disabled{cursor:not-allowed;color:rgba(24,144,255,.4)}.xy-table .oprateList a{color:#1890ff}.xy-table .oprateList .oprateBtn1{color:#1890ff;padding-right:10px;font-size:14px}.xy-table .oprateList .oprateBtn2 a{padding-left:10px;color:#1890ff;font-size:14px;border-left:1px solid #d8d8d8;margin-right:5px}.xy-table .oprateList .oprateBtn3{position:relative;padding-left:10px;color:#1890ff;font-size:14px;margin-right:5px}.xy-table .oprateList .oprateBtn3:before{content:"";position:absolute;left:0;top:3px;width:1px;height:14px;background:#d8d8d8}.xy-table .xy-page{margin-top:10px;text-align:right;position:relative;padding-bottom:10px}.xy-table .xy-page .ivu-page-total{position:absolute;left:10px;font-weight:700}',""]),t.exports=e},e4ec:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"border-top":"1px solid #f5f5f5","margin-bottom":"40px"}},[a("h3",{staticStyle:{"font-size":"16px",color:"#444",margin:"20px 0"}},[t._v("审批流程")]),t.isShowFlow&&t.isData?a("div",t._l(t.workflow,(function(e,i){return a("div",{key:e.WorkFlowNodeID,staticClass:"work-flow"},[1===e.NodeType?a("div",{staticClass:"work-flow-flex"},[a("div",{staticClass:"node-route"},[a("div",{staticClass:"node-route-name"},[a("div",{staticClass:"node-route-name-type"},[t._v("抄送人")]),a("div",{staticClass:"node-route-name-number"},[t._v(t._s(e.CheckedCcMemberList.length>0?e.CheckedCcMemberList.length+"人":"请选择抄送人"))])])]),a("div",{staticClass:"node-operation"},[t._l(e.CheckedCcMemberList,(function(i,o){return[o<5?a("div",{key:i.UserID+"+"+o,attrs:{title:i.FullName}},[a("div",{staticClass:"node-operation-users pr"},[a("span",{},[t._v(t._s(i.CcMemberName))]),i.Del?a("Icon",{staticClass:"pa cursor-p",staticStyle:{top:"-11px",right:"-6px"},attrs:{type:"ios-close-circle",size:"22",color:"#fb7676"},on:{click:function(a){return t.ccDel(e.CheckedCcMemberList,o)}}}):t._e()],1),a("div",{staticClass:"bottom-text nowrap"},[a("span",{staticClass:"nowrap"},[t._v(t._s(i.FullName))])])]):t._e()]})),e.CheckedCcMemberList.length>5?a("div",[a("div",{staticClass:"node-operation-users cursor-p",on:{click:function(a){return t.moreCcMember(e.CheckedCcMemberList)}}},[a("Icon",{attrs:{type:"ios-more",size:"24"}})],1),a("div",{staticClass:"bottom-text"},[t._v("更多")])]):t._e(),a("div",{staticClass:"node-operation-btn cursor-p",on:{click:function(a){return t.openAddModal(2,e,i)}}},[a("Icon",{attrs:{type:"md-add",color:"#4196ff",size:"22"}})],1)],2)]):t._e(),2===e.NodeType?a("div",{staticClass:"work-flow-flex"},[a("div",{staticClass:"node-route"},[a("div",{staticClass:"node-route-name"},[a("div",{staticClass:"node-route-name-type"},[t._v(t._s(0===e.ApprovalMemberType?1===e.ApprovalMode?"会签":"或签":"审批人"))]),a("div",{staticClass:"node-route-name-number"},[0===e.ApprovalMemberType?a("span",[t._v(t._s(e.ApprovalMemberList.length)+"人审批")]):t._e(),1===e.ApprovalMemberType?a("span",[t._l(e.CheckedApprovalMemberList,(function(e,i){return[a("span",{key:i},[e.IsShow?a("span",[t._v(t._s(e.FullName))]):t._e()])]}))],2):t._e()])])]),a("div",{staticClass:"node-operation"},[t._l(e.CheckedApprovalMemberList,(function(i,o){return[0!==e.ApprovalMemberType?a("div",{key:i.UserID+"+"+o,attrs:{title:i.FullName}},[i.IsShow?a("div",{staticClass:"node-operation-users pr"},[a("span",{},[t._v(t._s(i.AppName))]),e.CheckedApprovalMemberList.length>1?a("Icon",{staticClass:"pa cursor-p",staticStyle:{top:"-11px",right:"-6px"},attrs:{type:"ios-close-circle",size:"22",color:"#fb7676"},on:{click:function(a){return t.appDel(e.CheckedApprovalMemberList,o)}}}):t._e()],1):t._e(),i.IsShow?a("div",{staticClass:"bottom-text nowrap"},[a("span",{staticClass:"nowrap"},[t._v(t._s(i.FullName))])]):t._e()]):t._e()]})),0!==e.ApprovalMemberType&&e.CheckedApprovalMemberList.length>1?a("div",{staticClass:"node-operation-btn cursor-p",on:{click:function(a){return t.addApp(e.WorkFlowNodeID,e.CheckedApprovalMemberList)}}},[a("Icon",{attrs:{type:"md-add",color:"#4196ff",size:"22"}})],1):t._e(),t._l(e.CheckedApprovalMemberList,(function(i,o){return[o<5&&0===e.ApprovalMemberType?a("div",{key:i.UserID,attrs:{title:i.FullName}},[a("div",{staticClass:"node-operation-users"},[a("span",{},[t._v(t._s(i.AppName))])]),a("div",{key:o,staticClass:"bottom-text nowrap"},[a("span",{staticClass:"nowrap"},[t._v(t._s(i.FullName))])])]):t._e()]})),e.CheckedApprovalMemberList.length>5&&0===e.ApprovalMemberType?a("div",[a("div",{staticClass:"node-operation-users cursor-p",on:{click:function(a){return t.moreMember(e.CheckedApprovalMemberList)}}},[a("Icon",{attrs:{type:"ios-more",size:"24"}})],1),a("div",{staticClass:"bottom-text"},[t._v("更多")])]):t._e()],2)]):t._e()])})),0):t._e(),!t.isShowFlow&&t.isData?a("div",{staticStyle:{color:"red","padding-top":"12px"}},[t._v("审批人未设置审批权限，请联系管理员。")]):t._e(),t.isData?t._e():a("div",{staticStyle:{color:"#ccc","padding-top":"12px"}},[t._v("您还没有审批流程的信息，请设置审批流程。")])]),a("SelectTeacherOrg",{attrs:{isShow:t.isTeacher,teachers:[].concat(t.checkAllList)},on:{"select-cancel":t.selectCancel,"select-confirm":t.selectConfirm}}),a("Modal",{attrs:{styles:{top:"70px",width:"650px"},transfer:!1,title:t.moreModalTitle,loading:t.loading,"mask-closable":!1,closable:!1},model:{value:t.moreModal,callback:function(e){t.moreModal=e},expression:"moreModal"}},[a("div",{staticClass:"modal-flex",staticStyle:{display:"flex"}},t._l(t.moreList,(function(e,i){return a("div",{key:i,staticClass:"modal-list",staticStyle:{width:"20%"}},[a("div",{staticClass:"modal-users pr"},[a("span",[t._v(t._s(1===t.moreType?e.CcMemberName:e.AppName))]),e.Del&&1===t.moreType?a("Icon",{staticClass:"pa cursor-p",staticStyle:{top:"-11px",right:"-6px"},attrs:{type:"ios-close-circle",size:"22",color:"#fb7676"},on:{click:function(e){return t.modalCcDel(i)}}}):t._e()],1),a("div",{staticClass:"modal-name nowrap"},[t._v(t._s(e.FullName))])])})),0),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:function(e){t.moreModal=!1}}},[t._v("关闭")])],1)]),a("Modal",{attrs:{styles:{top:"70px",width:"480px"},transfer:!1,title:"添加审批人",loading:t.loading,"mask-closable":!1,closable:!1},model:{value:t.appModal,callback:function(e){t.appModal=e},expression:"appModal"}},[a("div",{staticClass:"app-modal"},t._l(t.addAppList,(function(e,i){return a("div",{key:i,staticClass:"app-modal-box",class:i==t.isAppIndex?"active":"",on:{click:function(e){return t.changeAddModalBtn(t.addAppList,i)}}},[a("div",{staticClass:"app-modal-box-radio"},[a("span")]),a("div",{staticClass:"app-modal-box-left"},[t._v(t._s(e.AppName))]),a("div",{staticClass:"app-modal-box-right nowrap"},[t._v(t._s(e.FullName))])])})),0),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"xy-modal-close",on:{click:function(e){t.appModal=!1}}},[t._v("取消")]),a("Button",{staticClass:"xy-modal-primary",attrs:{shape:"circle"},on:{click:t.appModalbtn}},[t._v("确定")])],1)])],1)},o=[],s=(a("dbb3"),a("fe59"),a("ecb4"),a("2eeb"),a("ea69"),a("513c"),a("08ba"),a("afa3")),n={name:"WorkflowApply",props:{workflow:Array,isAddList:{type:Number,default:0}},components:{SelectTeacherOrg:s["a"]},data:function(){return{isData:!0,isShowFlow:!1,loading:!1,reg:/^[A-Za-z0-9]+$/,regNumber:/\d+/,moreModal:!1,moreModalTitle:"",moreType:1,moreList:[],appModal:!1,addAppList:[],isAppIndex:-1,isTeacher:!1,teachername:[],isAddMemberNum:[],checkAllList:[],workflowList:[],indx:-1,workFlowNodeID:-1}},watch:{workflow:{handler:function(t){var e=this;if(t.length>0){this.isShowFlow=!0,this.isData=!0;for(var a=function(a,i){e.$set(t[a],"CheckedCcMemberList",t[a].CcMemberList),0===e.isAddList&&e.$set(t[a],"CheckedApprovalMemberList",t[a].ApprovalMemberList),t[a].CheckedCcMemberList.length>0&&t[a].CheckedCcMemberList.map((function(t){e.reg.test(t.FullName)||e.regNumber.test(t.FullName)?e.$set(t,"CcMemberName",t.FullName.substring(0,2)):t.FullName.length>2?e.$set(t,"CcMemberName",t.FullName.substring(t.FullName.length-2)):e.$set(t,"CcMemberName",t.FullName.substring(0,2))})),t[a].CheckedApprovalMemberList.length>0&&0===e.isAddList&&t[a].CheckedApprovalMemberList.map((function(i){e.$set(i,"IsShow",!(t[a].CheckedApprovalMemberList.length>1)),e.reg.test(i.FullName)||e.regNumber.test(i.FullName)?e.$set(i,"AppName",i.FullName.substring(0,2)):i.FullName.length>2?e.$set(i,"AppName",i.FullName.substring(i.FullName.length-2)):e.$set(i,"AppName",i.FullName.substring(0,2))}))},i=0,o=t.length;i<o;i++)a(i,o);t.map((function(t){2===t.NodeType&&0!==t.ApprovalMemberType&&0===t.ApprovalMemberList.length&&(e.isShowFlow=!1)}))}else this.isShowFlow=!1,this.isData=!1},deep:!0,immediate:!0}},mounted:function(){},methods:{moreCcMember:function(t){this.moreType=1,this.moreModalTitle="抄送人",this.moreModal=!0;var e=t;this.moreList=e},ccDel:function(t,e){t.splice(e,1)},modalCcDel:function(t){this.moreList.splice(t,1)},openAddModal:function(t,e,a){var i=this;this.checkAllList=[],this.isAddMemberNum=[],this.isTeacher=!0,this.indx=a,e.CheckedCcMemberList.length>0&&e.CheckedCcMemberList.forEach((function(t){t.Del?i.checkAllList.push(t):i.isAddMemberNum.push(t)}))},selectCancel:function(){this.isTeacher=!1},selectConfirm:function(t){var e=this,a=[],i=!1;if(this.isTeacher=!1,this.checkAllList=t,this.checkAllList.length+this.isAddMemberNum.length>10)this.xy.msgError("最多可选 "+(10-this.isAddMemberNum.length)+" 名抄送人。");else{this.isAddList=1;for(var o=0,s=this.workflow.length;o<s;o++)if(this.indx===o){for(var n=0,r=this.workflow[o].CheckedCcMemberList.length;n<r;n++)this.workflow[o].CheckedCcMemberList[n].Del&&(a.push(n),i=!0);i&&this.workflow[o].CheckedCcMemberList.splice(a[0],this.workflow[o].CheckedCcMemberList.length)}for(var l=function(t,a){e.indx===t&&e.checkAllList.map((function(a){var i=e.workflow[t].CheckedCcMemberList.map((function(t){return t.UserID})).indexOf(a.UserID);-1===i&&e.workflow[t].CheckedCcMemberList.push({UserID:a.UserID,FullName:a.FullName,CcMemberName:a.FullName,Del:!0})}))},c=0,d=this.workflow.length;c<d;c++)l(c,d);this.workflow.map((function(t){t.CheckedCcMemberList.map((function(t){e.reg.test(t.FullName)||e.regNumber.test(t.FullName)?t.CcMemberName=t.CcMemberName.substring(0,2):t.CcMemberName.length>2?t.CcMemberName=t.CcMemberName.substring(t.CcMemberName.length-2):t.CcMemberName=t.CcMemberName.substring(0,2)}))}))}},addApp:function(t,e){this.workFlowNodeID=t,this.appModal=!0,this.addAppList=e;var a=this.addAppList.filter((function(t){return!0===t.IsShow}));a.length<1&&(this.isAppIndex=-1)},changeAddModalBtn:function(t,e){this.isAppIndex=e;for(var a=0,i=t.length;a<i;a++)t[a].IsShow=e===a},appModalbtn:function(){this.isAddList=1;for(var t=0,e=this.workflow.length;t<e;t++)2===this.workflow[t].NodeType&&this.workflow[t].WorkFlowNodeID===this.workFlowNodeID&&this.$set(this.workflow[t].CheckedApprovalMemberList[this.isAppIndex],"IsShow",!0);this.appModal=!1},moreMember:function(t){this.moreType=2,this.moreModalTitle="审批人",this.moreModal=!0,this.moreList=t},appDel:function(t,e){t[e].IsShow=!1}}},r=n,l=(a("5a74"),a("9ca4")),c=Object(l["a"])(r,i,o,!1,null,"d37b1fac",null);e["a"]=c.exports},e78b:function(t,e,a){"use strict";var i=a("0bc2"),o=a.n(i);o.a},e793:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("f3dd"),a("dbb3"),a("fe59"),a("b73f"),a("bf84"),a("fe8a"),a("08ba");function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},e7f2:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("upload",{ref:"uploadImport",attrs:{type:"drag",name:"upfile","show-upload-list":t.showUploadList,headers:{"Access-Control-Allow-Origin":"*",XYTOKEN:t.xy.getCookie(".XYTOKEN")},format:t.fileFormt,accept:t.fileAccept,"max-size":t.fileSize,"on-format-error":t.formatError,"on-exceeded-size":t.sizeError,"before-upload":t.beforeUpload,"on-success":t.success,"on-error":t.error,multiple:t.multiple,action:t.importPath}},[a("div",{staticStyle:{padding:"20px 0"}},[a("icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[t._v("点击上传或拖拽文件上传")])],1)])],1)},o=[],s=(a("b4fb"),a("ecb4"),a("513c"),{data:function(){return{uploadList:[],isShowSpin:!1,showUploadList:!0,importResult:{}}},props:{photoList:{type:Array,default:function(){return[]},required:!1},importPath:{type:String,default:""},errorUrl:{type:String,default:""},templateUrl:{type:String,default:""},fileFormt:{type:Array,default:function(){return[]}},fileAccept:{type:String,default:""},multiple:{type:Boolean,default:!1},fileSize:{type:Number,default:1024},modalSubmit:{default:void 0}},mounted:function(){var t=this;this.uploadList=this.$refs.uploadImport.fileList,t.$nextTick((function(){void 0!==this.fileSize&&""!==this.fileSize?t.fileSize=this.fileSize:(-1===t.fileFormt.indexOf("image")&&-1===t.fileFormt.indexOf("jpeg")&&-1===t.fileFormt.indexOf("jpg")&&-1===t.fileFormt.indexOf("png")||(t.fileSize=1024),-1===t.fileFormt.indexOf("mp4")&&-1===t.fileFormt.indexOf("ogg")||(t.fileSize=1024),-1===t.fileFormt.indexOf("xls")&&-1===t.fileFormt.indexOf("xlsx")&&-1===t.fileFormt.indexOf("xml")&&-1===t.fileFormt.indexOf("xlc")&&-1===t.fileFormt.indexOf("doc")&&-1===t.fileFormt.indexOf("dot")&&-1===t.fileFormt.indexOf("ppt")&&-1===t.fileFormt.indexOf("wps")||(t.fileSize=1024)),t.ImportClick()}))},methods:{ImportClick:function(){this.$refs.uploadImport.clearFiles()},DownloadTemplate:function(){this.xy.downFile(this.templateUrl)},DownloadErrorInfo:function(){this.xy.downFile(this.errorUrl+"?file="+this.importResult.efile)},beforeUpload:function(t){this.isShowSpin=!0},formatError:function(t,e){this.isShowSpin=!1,this.xy.msgError("文件格式不正确！")},sizeError:function(){this.isShowSpin=!1,this.xy.msgError("文件超出"+this.fileSize/1024+"M大小限制！")},success:function(t){var e=this;this.isShowSpin=!1,e.importResult=t.data,t.success?(e.photoList=e.photoList.concat(e.importResult.result),e.showUploadList=!0,void 0!==e.modalSubmit&&e.modalSubmit(),this.xy.msgSuc("成功！")):"rowError"===t.errorcode?e.showUploadList=!1:"fileError"===t.errorcode||"taskError"===t.errorcode||"mscorlib"===t.errorcode||"string"===typeof t.data?(e.showUploadList=!1,this.xy.msgError(t.msg)):(null!=t.data&&""!==t.data?e.isShowUpload=!1:(e.isShowUpload=!0,this.xy.msgError(t.msg)),e.uploadSuccess=!1,e.showUploadList=!1)},error:function(){this.isShowSpin=!1,this.xy.msgError("Error！")}}}),n=s,r=a("9ca4"),l=Object(r["a"])(n,i,o,!1,null,"3ab791ca",null);e["a"]=l.exports},e8b8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-content-module"},[a("div",{staticClass:"xy-content-body"},[a("div",{staticClass:"form-w"},[a("Form",{ref:"formValidateOk",attrs:{model:t.formValidateOk,rules:t.ruleValidateOk,"label-width":100}},[a("FormItem",{attrs:{label:"公文主题",prop:"docTitle",labelFor:"docTitle"}},[a("Input",{attrs:{elementId:"docTitle"},model:{value:t.formValidateOk.docTitle,callback:function(e){t.$set(t.formValidateOk,"docTitle","string"===typeof e?e.trim():e)},expression:"formValidateOk.docTitle"}})],1),a("FormItem",{attrs:{label:"公文等级",prop:"docRating"}},[a("RadioGroup",{model:{value:t.formValidateOk.docRating,callback:function(e){t.$set(t.formValidateOk,"docRating",e)},expression:"formValidateOk.docRating"}},[a("Radio",{attrs:{label:2}},[t._v("紧急")]),a("Radio",{attrs:{label:1}},[t._v("普通")])],1)],1),a("FormItem",{attrs:{label:"公文种类",prop:"docType"}},[a("Select",{model:{value:t.formValidateOk.docType,callback:function(e){t.$set(t.formValidateOk,"docType",e)},expression:"formValidateOk.docType"}},t._l(t.docTypeList,(function(e){return a("Option",{key:e.Name,attrs:{value:e.ID}},[t._v(" "+t._s(e.Name)+" ")])})),1)],1),a("FormItem",{attrs:{label:"发文机关",prop:"government",labelFor:"government"}},[a("Input",{attrs:{elementId:"government"},model:{value:t.formValidateOk.government,callback:function(e){t.$set(t.formValidateOk,"government","string"===typeof e?e.trim():e)},expression:"formValidateOk.government"}})],1),a("FormItem",{attrs:{label:"发文字号",prop:"IssuedNum",labelFor:"IssuedNum"}},[a("Input",{attrs:{elementId:"IssuedNum"},model:{value:t.formValidateOk.IssuedNum,callback:function(e){t.$set(t.formValidateOk,"IssuedNum","string"===typeof e?e.trim():e)},expression:"formValidateOk.IssuedNum"}})],1),a("FormItem",{attrs:{label:"文件内容",prop:"filesList"}},[a("i-button",{staticClass:"pr",attrs:{icon:"ios-cloud-upload-outline"}},[a("input",{ref:"fileAll",staticClass:"pa cursor-p",staticStyle:{top:"0",left:"0",width:"100%",height:"100%",opacity:"0"},attrs:{id:"fileAll",type:"file",multiple:"multiple"},on:{change:function(e){return t.changeFunc(e)}}}),t._v(" 上传附件 ")]),a("div",{staticStyle:{color:"#9f9f9f"}},[t._v("支持上传文件格式：rar， zip，jpeg，png，jpg，svg，gif，doc，docx，dotx，dot，pdf，txt，xml，ppt，pptx，xls，xlsx，xlst")]),a("div",{staticStyle:{color:"#9f9f9f"}},[t._v("附件最大可上传：100MB。")]),a("div",[t._l(t.formValidateOk.filesList,(function(e,i){return[a("div",{key:i,ref:"filesDom",refInFor:!0,staticClass:"files-flex"},[a("div",{staticClass:"files-flex-text nowrap"},[e.type.indexOf("image")>-1?a("i",{staticClass:"iconfont iconimg"},[t._v("")]):a("i",{staticClass:"iconfont icontext"},[t._v("")]),a("span",[t._v(t._s(e.name))])]),a("Icon",{attrs:{type:"md-close-circle",color:"#F5222D",size:"22"},on:{click:function(e){return t.delFiles(i)}}})],1)]}))],2)],1),a("FormItem",{attrs:{label:"添加人员",prop:"addPepList"}},[a("div",{staticClass:"add-doc-pep"},[a("div",{staticClass:"add-doc-pep-btn",on:{click:function(e){t.isTeacher=!0}}},[a("Icon",{attrs:{type:"ios-add"}}),t._v(" 添加 ")],1),t._l(t.formValidateOk.addPepList,(function(e,i){return a("div",{key:i,staticClass:"add-doc-pep-text",on:{click:function(e){return t.delPep(i)}}},[a("span",[t._v(t._s(e.FullName))]),a("Icon",{attrs:{type:"ios-close"}})],1)}))],2)]),a("FormItem",{attrs:{label:"说明事项",prop:"textarea",labelFor:"textarea"}},[a("Input",{attrs:{elementId:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"300","show-word-limit":"",type:"textarea"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)],1),a("div",{staticStyle:{"margin-left":"100px"}},[a("Button",{staticClass:"xy-btn-primary",attrs:{shape:"circle"},on:{click:t.ok}},[t._v("提交")]),a("Button",{staticClass:"xy-btn-close",staticStyle:{"margin-right":"20px"},on:{click:t.cancel}},[t._v("取消")])],1)],1)]),a("SelectTeacherOrg",{attrs:{isShow:t.isTeacher,teachers:[].concat(t.formValidateOk.addPepList)},on:{"select-cancel":t.selectCancel,"select-confirm":t.selectConfirm}})],1)},o=[],s=(a("b4fb"),a("dbb3"),a("ecb4"),a("2eeb"),a("ea69"),a("053b"),a("e35a"),a("0d7a"),a("5748")),n=a("5412"),r=a.n(n),l=(a("b449"),a("cf7f")),c=a("afa3"),d={name:"Launch",components:{SelectTeacherOrg:c["a"]},data:function(){return{docTypes:["rar","zip","PNG","JPG","JPEG","GIF","SVG","DOC","DOCX","DOTX","DOT","PDF","TXT","XML","PPT","PPTX","XLS","XLSX","XLST","png","jpg","jpeg","gif","svg","doc","docx","dotx","dot","pdf","txt","xml","ppt","pptx","xls","xlsx","xlst"],isTeacher:!1,totalMB:0,docTypeList:[],textarea:"",formValidateOk:{docTitle:"",docType:null,government:"",IssuedNum:"",filesList:[],addPepList:[],docRating:1},ruleValidateOk:{docTitle:[{required:!0,message:"公文主题不能为空",trigger:"blur"},{type:"string",max:80,message:"公文主题不能超过80个字符",trigger:"blur"}],docType:[{required:!0,type:"number",message:"公文种类不能为空",trigger:"change"}],docRating:[{required:!0,type:"number",message:"公文等级必选",trigger:"change"}],government:[{required:!1,message:"发文机关不能为空",trigger:"blur"},{type:"string",max:20,message:"发文机关不能超过20个字符",trigger:"blur"}],IssuedNum:[{required:!1,message:"发文字号不能为空",trigger:"blur"},{type:"string",max:50,message:"发文字号不能超过50个字符",trigger:"blur"}],addPepList:[{required:!0,type:"array",min:1,message:"人员不能为空",trigger:"change"}]}}},watch:{"formValidateOk.filesList":{handler:function(t){this.$refs.formValidateOk.validateField("filesList")},deep:!0},"formValidateOk.addPepList":{handler:function(t){this.$refs.formValidateOk.validateField("addPepList")},deep:!0}},created:function(){this.getListData()},methods:{getListData:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.xy.loading(),e.next=3,t.xy.get("".concat(t.$store.state.apiPath,"/api/OfficialDocCirculationType/GetAll"));case 3:a=e.sent,t.xy.unloading(),a.success&&(t.docTypeList=a.data);case 6:case"end":return e.stop()}}),e)})))()},delFiles:function(t){this.$set(this.formValidateOk.filesList[t],"isDel",!0);var e=this.formValidateOk.filesList.filter((function(t){return!t.isDel}));this.formValidateOk.filesList=e,this.totalMB=0;for(var a=0,i=this.formValidateOk.filesList.length;a<i;a++)this.formValidateOk.filesList[a].isDel||(this.totalMB+=this.formValidateOk.filesList[a].size/1024/1024);0===e.length&&(this.$refs.fileAll.value=null)},changeFunc:function(t){for(var e=0;e<t.target.files.length;e++){var a=t.target.files[e].name.split(".");if(this.docTypes.indexOf(a[a.length-1])<0)return void this.xy.msgError("上传文件格式错误。")}this.totalMB=0,this.formValidateOk.filesList=[].concat(Object(s["a"])(this.formValidateOk.filesList),Object(s["a"])(t.target.files));for(var i=0,o=this.formValidateOk.filesList.length;i<o;i++)void 0!==this.formValidateOk.filesList[i].isDel&&this.formValidateOk.filesList[i].isDel||(this.$set(this.formValidateOk.filesList[i],"isDel",!1),this.totalMB+=this.formValidateOk.filesList[i].size/1024/1024)},upLoadFile:function(){var t=this;return Object(l["a"])(r.a.mark((function e(){var a,i,o,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.xy.loading(),a=new FormData,i=0,o=t.formValidateOk.filesList.length;i<o;i++)a.append("file",t.formValidateOk.filesList[i]);return e.next=5,t.xy.post("".concat(t.$store.state.apiPath,"/api/OfficialDocCirculationDoc/Upload"),a);case 5:s=e.sent,t.xy.unloading(),s.success&&t.submitFunc(s.data);case 8:case"end":return e.stop()}}),e)})))()},submitFunc:function(t){var e=this;return Object(l["a"])(r.a.mark((function a(){var i,o,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=[],e.formValidateOk.addPepList.map((function(t){i.push(t.UserID)})),o={Title:e.formValidateOk.docTitle,TypeID:e.formValidateOk.docType,DocumentAgency:e.formValidateOk.government,DocumentNumber:e.formValidateOk.IssuedNum,Note:e.textarea,DocFileList:t&&t.DocFileList?t.DocFileList:[],DocUsers:i,SeverityLevel:e.formValidateOk.docRating},a.next=5,e.xy.post("".concat(e.$store.state.apiPath,"/api/OfficialDocCirculationDoc/Create"),o);case 5:s=a.sent,e.xy.unloading(),s.success&&(e.xy.msgSuc("公文流转发起成功。"),e.cancel());case 8:case"end":return a.stop()}}),a)})))()},delPep:function(t){this.formValidateOk.addPepList.splice(t,1)},selectCancel:function(){this.isTeacher=!1},selectConfirm:function(t){t.length>0?(this.isTeacher=!1,this.formValidateOk.addPepList=Object(s["a"])(t)):this.xy.msgError("人员不能为空。")},ok:function(){var t=this;this.$refs.formValidateOk.validate((function(e){return e?t.totalMB>100?(t.xy.unloading(),void t.xy.msgError("附件总大小不能超过100M。")):void(t.totalMB?t.upLoadFile():t.submitFunc()):t.unLoading()}))},cancel:function(){this.$router.go(-1)}}},p=d,f=(a("9386"),a("9ca4")),u=Object(f["a"])(p,i,o,!1,null,"a81d5a7e",null);e["default"]=u.exports},e8f3:function(t,e,a){"use strict";var i=a("8517"),o=a.n(i);o.a},e9a2:function(t,e,a){"use strict";var i=a("4e83"),o=a.n(i);o.a},eb31:function(t,e,a){"use strict";var i,o,s=a("2bd3"),n=s["a"],r=a("9ca4"),l=Object(r["a"])(n,i,o,!1,null,null,null);e["a"]=l.exports},f178:function(t,e,a){var i=a("a1a8");e=i(!1),e.push([t.i,'.ivu-drawer[data-v-79620c2d]{top:0;margin:0;position:absolute;height:100%;right:0}.ivu-drawer .ivu-drawer-content[data-v-79620c2d]{height:100%;overflow:auto}.ivu-drawer .approval-card .main-info[data-v-79620c2d]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.ivu-drawer .approval-card .main-info[data-v-79620c2d],.ivu-drawer .approval-card .main-info .left[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex}.ivu-drawer .approval-card .main-info .left .avatar[data-v-79620c2d]{padding:0;padding-right:15px}.ivu-drawer .approval-card .main-info .left .avatar span[data-v-79620c2d]{display:block;background:#4196ff;width:50px;height:50px;border-radius:50%;text-align:center;line-height:50px;font-size:18px;color:#fff}.ivu-drawer .approval-card .main-info .left .name-number[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:6px}.ivu-drawer .approval-card .main-info .left .name-number .fullName[data-v-79620c2d]{color:#606266;font-size:16px}.ivu-drawer .approval-card .main-info .left .name-number .schoolNumber[data-v-79620c2d]{font-size:14px;color:#999}.ivu-drawer .approval-card .main-info .status[data-v-79620c2d]{margin-top:50px;width:62px;height:25px;border-radius:4px;border:1px solid #f99b31;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#f99b31;font-size:14px}.ivu-drawer .approval-card .main-info>img[data-v-79620c2d]{position:absolute;right:30px}.ivu-drawer .leave-list[data-v-79620c2d]{font-size:14px}.ivu-drawer .leave-list .info-item[data-v-79620c2d]{margin-top:10px}.ivu-drawer .leave-list .info-item .title[data-v-79620c2d]{color:#999}.ivu-drawer .leave-list .info-item .title-strong[data-v-79620c2d]{display:block;margin:20px 0;font-size:14px;font-weight:700;color:#333}.ivu-drawer .leave-list .info-item .content[data-v-79620c2d]{margin-left:10px;color:#333}.ivu-drawer .img-wrap[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ivu-drawer .img-wrap img[data-v-79620c2d]{width:40%;height:150px}.ivu-drawer .img-wrap img[data-v-79620c2d]:nth-child(2n){margin-left:20px}.manager-part[data-v-79620c2d]{padding:0 20px}.manager-part .approal-title[data-v-79620c2d]{font-size:16px;font-weight:700}.manager-part .approval-group[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:20px 0}.manager-part .approval-group .ivu-radio-wrapper[data-v-79620c2d]:after,.manager-part .approval-group .ivu-radio-wrapper[data-v-79620c2d]:before{width:0}.manager-part .approval-group .ivu-radio-wrapper[data-v-79620c2d]{padding:0;width:96px;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:4px;font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box}.manager-part .approval-group .ivu-radio-wrapper[data-v-79620c2d]:first-child{color:#5bbb7e;border-color:#5bbb7e}.manager-part .approval-group .ivu-radio-wrapper[data-v-79620c2d]:last-child{color:#dc6e6e;margin-left:30px;border-color:#dc6e6e;border-left:1px solid}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-79620c2d]:first-child{background:#5bbb7e;color:#fff}.manager-part .approval-group .ivu-radio-wrapper.ivu-radio-wrapper-checked[data-v-79620c2d]:last-child{background:#e85555;color:#fff}.manager-part label[data-v-79620c2d]{color:#999;font-size:14px}.user-part[data-v-79620c2d]{padding-left:20px;font-size:14px}.user-part h4[data-v-79620c2d]{color:#999}.ivu-drawer-footer[data-v-79620c2d]{padding-left:40px;text-align:left}.flow-item[data-v-79620c2d],.flow-wrapper[data-v-79620c2d]{position:relative}.flow-item[data-v-79620c2d]{margin:0;padding:0 0 12px}.flow-item-line[data-v-79620c2d]{height:100%;border-left:2px solid #c6c6c6;position:absolute;left:18px;top:0}.flow-item-header[data-v-79620c2d]{width:40px;height:40px;background-color:#4196ff;border-radius:50%;position:absolute;z-index:1;color:#fff}.flow-item-content[data-v-79620c2d]{min-height:60px;padding:1px 1px 10px 50px;font-size:14px;position:relative;top:-3px}.flow-item-content.hasCC[data-v-79620c2d]:not(.flow-CC):after{content:"";height:100%;border-left:2px solid #c6c6c6;position:absolute;z-index:0;left:18px;top:3px}.flow-item:last-child .flow-item-line[data-v-79620c2d]{display:none}.flow-avatar[data-v-79620c2d]{-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;line-height:40px;background:#4196ff;border-radius:50%;font-size:14px;text-align:center;color:#fff}.flow-avatar-imgWrapper[data-v-79620c2d]{width:100%;height:100%;overflow:hidden;border-radius:50%}.flow-avatar img[data-v-79620c2d]{width:100%;min-height:100%}.flow-avatar--small[data-v-79620c2d]{position:relative;width:30px;height:30px;margin:0 auto;line-height:30px;font-size:12px}.flow-avatar-ellipsis[data-v-79620c2d]{position:absolute;top:-16%;left:16%;font-size:20px}.flow-avatar-iconWrapper[data-v-79620c2d]{width:100%;height:100%;border-radius:50%;overflow:hidden}.flow-avatar-iconWrapper>img[data-v-79620c2d]{width:100%}.flow-avatar>span[data-v-79620c2d]{display:inline-block;-webkit-transform:scale(.9);transform:scale(.9);letter-spacing:1px}.flow-content-header[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#666}.flow-content-btn--hideDetail[data-v-79620c2d]{color:#4196ff;font-size:14px}.flow-content-btn--showDetail[data-v-79620c2d]{color:#666;font-size:14px}.flow-content-body[data-v-79620c2d]{min-height:1em}.flow-content-name[data-v-79620c2d]{color:#161616}.flow-content-reason[data-v-79620c2d]{color:#999}.flow-content-title[data-v-79620c2d]{font-size:14px;color:#161616}.flow-content-time[data-v-79620c2d]{color:#999;font-size:12px}.flow-detail-item[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.flow-detail-wrapper[data-v-79620c2d]{width:100%;margin-left:10px}.flow-detail-header[data-v-79620c2d]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-detail-header[data-v-79620c2d],.flow-overview-list[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex}.flow-overview-item[data-v-79620c2d]{margin-top:6px;margin-right:10px}.flow-overview-body[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flow-overview-name[data-v-79620c2d]{margin-top:3px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flow-icon-radio[data-v-79620c2d]{display:inline-block;width:19px;height:15px;margin:12px;background:url(/image/radio-white.svg) no-repeat;-webkit-transform:scale(1.3);transform:scale(1.3)}.flow-status-icon[data-v-79620c2d]{position:relative}.flow-status-icon[data-v-79620c2d]:after{content:"";position:absolute;right:-5px;bottom:-5px;width:16px;height:16px;-webkit-transform:translate(-3px,-3px) scale(1.3);transform:translate(-3px,-3px) scale(1.3)}.flow-status-icon-pass[data-v-79620c2d]:after{background:url(/image/circle-check-green.svg) no-repeat}.flow-status-icon-processing[data-v-79620c2d]:after{background:url(/image/circle-line-orange.svg) no-repeat}.flow-status-icon-reject[data-v-79620c2d]:after{background:url(/image/circle-fork-red.svg) no-repeat}.flow-status-bgcolor[data-v-79620c2d]{position:relative}.flow-status-bgcolor[data-v-79620c2d]:after{content:"";position:absolute;right:0;bottom:0;width:12px;height:12px;border-radius:50%}.flow-status-bgcolor-pass[data-v-79620c2d]:after{background:#47ba32}.flow-status-bgcolor-processing[data-v-79620c2d]:after{background:#ffa23f}.flow-status-bgcolor-reject[data-v-79620c2d]:after{background:#ff5c39}.flow-CC .flow-overview-item[data-v-79620c2d]{max-width:4em;font-size:14px;color:#666}.cssIcon-triangle[data-v-79620c2d]{display:inline-block;width:5px;height:5px}.cssIcon-triangle--t2b[data-v-79620c2d]{margin:5px;border-left:1px solid #888;border-bottom:1px solid #888;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.cssIcon-triangle--b2t[data-v-79620c2d]{margin:2px 7px;border-left:1px solid #4196ff;border-bottom:1px solid #4196ff;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.approval-btn-confirm[data-v-79620c2d]{width:96px;line-height:32px;background:#fff;border:1px solid #5bbb7e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#5bbb7e}.approval-btn-confirm[data-v-79620c2d]:hover{background:#5bbb7e;border:1px solid #5bbb7e;color:#fff}.approval-btn-refuse[data-v-79620c2d]{width:96px;line-height:32px;background:#fff;border:1px solid #dc6e6e;border-radius:4px;text-align:center;font-size:14px;font-weight:400;color:#dc6e6e}.approval-btn-refuse[data-v-79620c2d]:hover{background:#dc6e6e;border:1px solid #dc6e6e;color:#fff}.detail[data-v-79620c2d]{padding-bottom:15px;position:relative}.detail-top>p[data-v-79620c2d]{font-size:16px;color:#333;font-weight:700}.detail-top .person[data-v-79620c2d],.detail-top>p[data-v-79620c2d]{margin-bottom:20px}.detail-top .person .left[data-v-79620c2d]{width:50px;height:50px;line-height:50px;text-align:center;border-radius:50%;background:#4196ff;font-size:18px;color:#fff;font-weight:700;display:inline-block}.detail-top .person>div[data-v-79620c2d]{height:50px;color:#999;padding-left:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.detail-top .person>div .name[data-v-79620c2d]{font-size:16px;color:#333;margin:2px 0}.detail-top .officeStatus[data-v-79620c2d]{position:absolute;right:27px;top:22px;width:108px;height:110px}.detail-top .officeStatus img[data-v-79620c2d]{width:100%;height:100%}.detail-con>div[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px}.detail-con>div>span[data-v-79620c2d]{text-align:right;color:#999}.detail-con>div>div[data-v-79620c2d]{-webkit-box-flex:0.9;-ms-flex:0.9;flex:0.9;max-width:80%}.detail-con>div>div .office-info[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:5px;height:21px}.detail-con>div>div .office-info span[data-v-79620c2d]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:85%}.detail-con .ivu-btn-primary[data-v-79620c2d]{width:55px;height:25px;position:absolute;right:15px}.bottom-btn[data-v-79620c2d]{position:fixed;bottom:0;width:100%;height:40px;background:#fff;z-index:9999}.bottom-btn .ivu-btn-primary[data-v-79620c2d]{width:96px;height:32px}.detail .proval-con[data-v-79620c2d]{border:none;margin-bottom:10px}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header[data-v-79620c2d]{padding:0;position:relative;background:#fff;border:none;color:#333;font-weight:700}.proval-con.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header>i[data-v-79620c2d]{position:absolute;top:12px;right:-13px}.proval-con .ivu-collapse-simple[data-v-79620c2d]{border:none}.proval-con .ivu-collapse-content[data-v-79620c2d],.proval-con .ivu-collapse-content>.ivu-collapse-content-box[data-v-79620c2d]{padding:0}.proval-con .proval-li[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;color:#666}.proval-con .proval-li .left[data-v-79620c2d]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;display:inline-block;margin:5px 10px 0 0;position:relative}.proval-con .proval-li .left[data-v-79620c2d]:after{content:"";width:2px;height:23px;position:absolute;top:32px;left:14px;background:#c6c6c6}.proval-con .proval-li:last-child .left[data-v-79620c2d]:after{display:none}.proval-con .proval-li .left .status[data-v-79620c2d]{width:16px;height:16px;bottom:-2px;right:-4px}.proval-con .proval-li .center[data-v-79620c2d]{-webkit-box-flex:1;-ms-flex:1;flex:1}.proval-con .proval-li .center>div[data-v-79620c2d]:first-child{color:#666}.proval-con .proval-li:first-child .center div[data-v-79620c2d]:first-child{color:#161616}.proval-con .proval-li .center div[data-v-79620c2d]:nth-child(2){color:#999}.copy ul[data-v-79620c2d]{padding-top:8px}.copy li[data-v-79620c2d],.copy ul[data-v-79620c2d]{display:-webkit-box;display:-ms-flexbox;display:flex}.copy li[data-v-79620c2d]{width:45px;margin-right:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.copy li>div[data-v-79620c2d]{width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;background:#4196ff;color:#fff;font-size:12px}.copy li>p[data-v-79620c2d]{color:#666}.detail-approval[data-v-79620c2d]{margin-top:25px}.detail-approval>span[data-v-79620c2d]{color:#999}.detail-approval .approval[data-v-79620c2d]{margin:13px 0 25px}.bottom-btn .ivu-btn.agree[data-v-79620c2d]{color:#5bbb7e;border-color:#5bbb7e}.bottom-btn .ivu-btn.agree[data-v-79620c2d]:hover{background-color:#5bbb7e;border-color:#5bbb7e;color:#fff}.bottom-btn .ivu-btn.refuse[data-v-79620c2d]{color:#dc6e6e;border-color:#dc6e6e}.bottom-btn .ivu-btn.refuse[data-v-79620c2d]:hover{background-color:#dc6e6e;border-color:#dc6e6e;color:#fff}',""]),t.exports=e},f2d8:function(t,e,a){"use strict";var i=a("43d8"),o=a.n(i);o.a},f3ad:function(t,e,a){"use strict";var i=a("a8a5"),o=a.n(i);o.a},f700:function(t,e,a){"use strict";var i=a("89e2"),o=a.n(i);o.a},ff05:function(t,e,a){var i=a("491a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("85cb").default;o("26570a7c",i,!0,{sourceMap:!1,shadowMode:!1})}}]);